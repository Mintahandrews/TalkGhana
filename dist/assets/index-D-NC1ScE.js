var fr=Object.defineProperty;var pr=(t,e,s)=>e in t?fr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Q=(t,e,s)=>pr(t,typeof e!="symbol"?e+"":e,s);import{r as c,a as xr,R as br}from"./vendor-DEk_hCuk.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var cn={exports:{}},jt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yr=c,wr=Symbol.for("react.element"),vr=Symbol.for("react.fragment"),jr=Object.prototype.hasOwnProperty,Nr=yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sr={key:!0,ref:!0,__self:!0,__source:!0};function dn(t,e,s){var r,a={},i=null,o=null;s!==void 0&&(i=""+s),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jr.call(e,r)&&!Sr.hasOwnProperty(r)&&(a[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)a[r]===void 0&&(a[r]=e[r]);return{$$typeof:wr,type:t,key:i,ref:o,props:a,_owner:Nr.current}}jt.Fragment=vr;jt.jsx=dn;jt.jsxs=dn;cn.exports=jt;var n=cn.exports,Cr={exports:{}};(function(t){var e=function(s){var r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(h,S,E){h[S]=E.value},o,l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",d=l.asyncIterator||"@@asyncIterator",g=l.toStringTag||"@@toStringTag";function m(h,S,E){return Object.defineProperty(h,S,{value:E,enumerable:!0,configurable:!0,writable:!0}),h[S]}try{m({},"")}catch{m=function(S,E,D){return S[E]=D}}function w(h,S,E,D){var I=S&&S.prototype instanceof k?S:k,J=Object.create(I.prototype),ae=new M(D||[]);return i(J,"_invoke",{value:F(h,E,ae)}),J}s.wrap=w;function v(h,S,E){try{return{type:"normal",arg:h.call(S,E)}}catch(D){return{type:"throw",arg:D}}}var f="suspendedStart",x="suspendedYield",p="executing",b="completed",C={};function k(){}function T(){}function A(){}var $={};m($,u,function(){return this});var j=Object.getPrototypeOf,R=j&&j(j(B([])));R&&R!==r&&a.call(R,u)&&($=R);var y=A.prototype=k.prototype=Object.create($);T.prototype=A,i(y,"constructor",{value:A,configurable:!0}),i(A,"constructor",{value:T,configurable:!0}),T.displayName=m(A,g,"GeneratorFunction");function L(h){["next","throw","return"].forEach(function(S){m(h,S,function(E){return this._invoke(S,E)})})}s.isGeneratorFunction=function(h){var S=typeof h=="function"&&h.constructor;return S?S===T||(S.displayName||S.name)==="GeneratorFunction":!1},s.mark=function(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,A):(h.__proto__=A,m(h,g,"GeneratorFunction")),h.prototype=Object.create(y),h},s.awrap=function(h){return{__await:h}};function z(h,S){function E(J,ae,ie,ce){var oe=v(h[J],h,ae);if(oe.type==="throw")ce(oe.arg);else{var ye=oe.arg,P=ye.value;return P&&typeof P=="object"&&a.call(P,"__await")?S.resolve(P.__await).then(function(V){E("next",V,ie,ce)},function(V){E("throw",V,ie,ce)}):S.resolve(P).then(function(V){ye.value=V,ie(ye)},function(V){return E("throw",V,ie,ce)})}}var D;function I(J,ae){function ie(){return new S(function(ce,oe){E(J,ae,ce,oe)})}return D=D?D.then(ie,ie):ie()}i(this,"_invoke",{value:I})}L(z.prototype),m(z.prototype,d,function(){return this}),s.AsyncIterator=z,s.async=function(h,S,E,D,I){I===void 0&&(I=Promise);var J=new z(w(h,S,E,D),I);return s.isGeneratorFunction(S)?J:J.next().then(function(ae){return ae.done?ae.value:J.next()})};function F(h,S,E){var D=f;return function(J,ae){if(D===p)throw new Error("Generator is already running");if(D===b){if(J==="throw")throw ae;return K()}for(E.method=J,E.arg=ae;;){var ie=E.delegate;if(ie){var ce=q(ie,E);if(ce){if(ce===C)continue;return ce}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(D===f)throw D=b,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);D=p;var oe=v(h,S,E);if(oe.type==="normal"){if(D=E.done?b:x,oe.arg===C)continue;return{value:oe.arg,done:E.done}}else oe.type==="throw"&&(D=b,E.method="throw",E.arg=oe.arg)}}}function q(h,S){var E=S.method,D=h.iterator[E];if(D===o)return S.delegate=null,E==="throw"&&h.iterator.return&&(S.method="return",S.arg=o,q(h,S),S.method==="throw")||E!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+E+"' method")),C;var I=v(D,h.iterator,S.arg);if(I.type==="throw")return S.method="throw",S.arg=I.arg,S.delegate=null,C;var J=I.arg;if(!J)return S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,C;if(J.done)S[h.resultName]=J.value,S.next=h.nextLoc,S.method!=="return"&&(S.method="next",S.arg=o);else return J;return S.delegate=null,C}L(y),m(y,g,"Generator"),m(y,u,function(){return this}),m(y,"toString",function(){return"[object Generator]"});function X(h){var S={tryLoc:h[0]};1 in h&&(S.catchLoc=h[1]),2 in h&&(S.finallyLoc=h[2],S.afterLoc=h[3]),this.tryEntries.push(S)}function U(h){var S=h.completion||{};S.type="normal",delete S.arg,h.completion=S}function M(h){this.tryEntries=[{tryLoc:"root"}],h.forEach(X,this),this.reset(!0)}s.keys=function(h){var S=Object(h),E=[];for(var D in S)E.push(D);return E.reverse(),function I(){for(;E.length;){var J=E.pop();if(J in S)return I.value=J,I.done=!1,I}return I.done=!0,I}};function B(h){if(h!=null){var S=h[u];if(S)return S.call(h);if(typeof h.next=="function")return h;if(!isNaN(h.length)){var E=-1,D=function I(){for(;++E<h.length;)if(a.call(h,E))return I.value=h[E],I.done=!1,I;return I.value=o,I.done=!0,I};return D.next=D}}throw new TypeError(typeof h+" is not iterable")}s.values=B;function K(){return{value:o,done:!0}}return M.prototype={constructor:M,reset:function(h){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(U),!h)for(var S in this)S.charAt(0)==="t"&&a.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=o)},stop:function(){this.done=!0;var h=this.tryEntries[0],S=h.completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(h){if(this.done)throw h;var S=this;function E(ce,oe){return J.type="throw",J.arg=h,S.next=ce,oe&&(S.method="next",S.arg=o),!!oe}for(var D=this.tryEntries.length-1;D>=0;--D){var I=this.tryEntries[D],J=I.completion;if(I.tryLoc==="root")return E("end");if(I.tryLoc<=this.prev){var ae=a.call(I,"catchLoc"),ie=a.call(I,"finallyLoc");if(ae&&ie){if(this.prev<I.catchLoc)return E(I.catchLoc,!0);if(this.prev<I.finallyLoc)return E(I.finallyLoc)}else if(ae){if(this.prev<I.catchLoc)return E(I.catchLoc,!0)}else if(ie){if(this.prev<I.finallyLoc)return E(I.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(h,S){for(var E=this.tryEntries.length-1;E>=0;--E){var D=this.tryEntries[E];if(D.tryLoc<=this.prev&&a.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var I=D;break}}I&&(h==="break"||h==="continue")&&I.tryLoc<=S&&S<=I.finallyLoc&&(I=null);var J=I?I.completion:{};return J.type=h,J.arg=S,I?(this.method="next",this.next=I.finallyLoc,C):this.complete(J)},complete:function(h,S){if(h.type==="throw")throw h.arg;return h.type==="break"||h.type==="continue"?this.next=h.arg:h.type==="return"?(this.rval=this.arg=h.arg,this.method="return",this.next="end"):h.type==="normal"&&S&&(this.next=S),C},finish:function(h){for(var S=this.tryEntries.length-1;S>=0;--S){var E=this.tryEntries[S];if(E.finallyLoc===h)return this.complete(E.completion,E.afterLoc),U(E),C}},catch:function(h){for(var S=this.tryEntries.length-1;S>=0;--S){var E=this.tryEntries[S];if(E.tryLoc===h){var D=E.completion;if(D.type==="throw"){var I=D.arg;U(E)}return I}}throw new Error("illegal catch attempt")},delegateYield:function(h,S,E){return this.delegate={iterator:B(h),resultName:S,nextLoc:E},this.method==="next"&&(this.arg=o),C}},s}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Cr);var un,vs=xr;un=vs.createRoot,vs.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qe(){return Qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Qe.apply(this,arguments)}var Ce;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ce||(Ce={}));const js="popstate";function kr(t){t===void 0&&(t={});function e(r,a){let{pathname:i,search:o,hash:l}=r.location;return qt("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:ft(a)}return Tr(e,s,null,t)}function te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Er(){return Math.random().toString(36).substr(2,8)}function Ns(t,e){return{usr:t.state,key:t.key,idx:e}}function qt(t,e,s,r){return s===void 0&&(s=null),Qe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ue(e):e,{state:s,key:e&&e.key||r||Er()})}function ft(t){let{pathname:e="/",search:s="",hash:r=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ue(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Tr(t,e,s,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=Ce.Pop,u=null,d=g();d==null&&(d=0,o.replaceState(Qe({},o.state,{idx:d}),""));function g(){return(o.state||{idx:null}).idx}function m(){l=Ce.Pop;let p=g(),b=p==null?null:p-d;d=p,u&&u({action:l,location:x.location,delta:b})}function w(p,b){l=Ce.Push;let C=qt(x.location,p,b);d=g()+1;let k=Ns(C,d),T=x.createHref(C);try{o.pushState(k,"",T)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(T)}i&&u&&u({action:l,location:x.location,delta:1})}function v(p,b){l=Ce.Replace;let C=qt(x.location,p,b);d=g();let k=Ns(C,d),T=x.createHref(C);o.replaceState(k,"",T),i&&u&&u({action:l,location:x.location,delta:0})}function f(p){let b=a.location.origin!=="null"?a.location.origin:a.location.href,C=typeof p=="string"?p:ft(p);return C=C.replace(/ $/,"%20"),te(b,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,b)}let x={get action(){return l},get location(){return t(a,o)},listen(p){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(js,m),u=p,()=>{a.removeEventListener(js,m),u=null}},createHref(p){return e(a,p)},createURL:f,encodeLocation(p){let b=f(p);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:w,replace:v,go(p){return o.go(p)}};return x}var Ss;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ss||(Ss={}));function Rr(t,e,s){return s===void 0&&(s="/"),$r(t,e,s)}function $r(t,e,s,r){let a=typeof e=="string"?Ue(e):e,i=ls(a.pathname||"/",s);if(i==null)return null;let o=gn(t);Ar(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=Wr(i);l=Ur(o[u],d)}return l}function gn(t,e,s,r){e===void 0&&(e=[]),s===void 0&&(s=[]),r===void 0&&(r="");let a=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(te(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=ke([r,u.relativePath]),g=s.concat(u);i.children&&i.children.length>0&&(te(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),gn(i.children,e,g,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:_r(d,i.index),routesMeta:g})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let u of mn(i.path))a(i,o,u)}),e}function mn(t){let e=t.split("/");if(e.length===0)return[];let[s,...r]=e,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=mn(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),a&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Ar(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:Fr(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const Lr=/^:[\w-]+$/,Pr=3,Or=2,Mr=1,zr=10,Ir=-2,Cs=t=>t==="*";function _r(t,e){let s=t.split("/"),r=s.length;return s.some(Cs)&&(r+=Ir),e&&(r+=Or),s.filter(a=>!Cs(a)).reduce((a,i)=>a+(Lr.test(i)?Pr:i===""?Mr:zr),r)}function Fr(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function Ur(t,e,s){let{routesMeta:r}=t,a={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,g=i==="/"?e:e.slice(i.length)||"/",m=Dr({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},g),w=u.route;if(!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:ke([i,m.pathname]),pathnameBase:Gr(ke([i,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(i=ke([i,m.pathnameBase]))}return o}function Dr(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=Br(t.path,t.caseSensitive,t.end),a=e.match(s);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((d,g,m)=>{let{paramName:w,isOptional:v}=g;if(w==="*"){let x=l[m]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const f=l[m];return v&&!f?d[w]=void 0:d[w]=(f||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function Br(t,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),hn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Wr(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hn(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ls(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}function Vr(t,e){e===void 0&&(e="/");let{pathname:s,search:r="",hash:a=""}=typeof t=="string"?Ue(t):t;return{pathname:s?s.startsWith("/")?s:Hr(s,e):e,search:Jr(r),hash:Yr(a)}}function Hr(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function zt(t,e,s,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qr(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function cs(t,e){let s=qr(t);return e?s.map((r,a)=>a===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function ds(t,e,s,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=Ue(t):(a=Qe({},t),te(!a.pathname||!a.pathname.includes("?"),zt("?","pathname","search",a)),te(!a.pathname||!a.pathname.includes("#"),zt("#","pathname","hash",a)),te(!a.search||!a.search.includes("#"),zt("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=s;else{let m=e.length-1;if(!r&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),m-=1;a.pathname=w.join("/")}l=m>=0?e[m]:"/"}let u=Vr(a,l),d=o&&o!=="/"&&o.endsWith("/"),g=(i||o===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(d||g)&&(u.pathname+="/"),u}const ke=t=>t.join("/").replace(/\/\/+/g,"/"),Gr=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Jr=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Yr=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kr(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fn=["post","put","patch","delete"];new Set(fn);const Qr=["get",...fn];new Set(Qr);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xe(){return Xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Xe.apply(this,arguments)}const us=c.createContext(null),Xr=c.createContext(null),Ee=c.createContext(null),Nt=c.createContext(null),Te=c.createContext({outlet:null,matches:[],isDataRoute:!1}),pn=c.createContext(null);function Zr(t,e){let{relative:s}=e===void 0?{}:e;De()||te(!1);let{basename:r,navigator:a}=c.useContext(Ee),{hash:i,pathname:o,search:l}=bn(t,{relative:s}),u=o;return r!=="/"&&(u=o==="/"?r:ke([r,o])),a.createHref({pathname:u,search:l,hash:i})}function De(){return c.useContext(Nt)!=null}function Be(){return De()||te(!1),c.useContext(Nt).location}function xn(t){c.useContext(Ee).static||c.useLayoutEffect(t)}function St(){let{isDataRoute:t}=c.useContext(Te);return t?ha():ea()}function ea(){De()||te(!1);let t=c.useContext(us),{basename:e,future:s,navigator:r}=c.useContext(Ee),{matches:a}=c.useContext(Te),{pathname:i}=Be(),o=JSON.stringify(cs(a,s.v7_relativeSplatPath)),l=c.useRef(!1);return xn(()=>{l.current=!0}),c.useCallback(function(d,g){if(g===void 0&&(g={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=ds(d,JSON.parse(o),i,g.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ke([e,m.pathname])),(g.replace?r.replace:r.push)(m,g.state,g)},[e,r,o,i,t])}function bn(t,e){let{relative:s}=e===void 0?{}:e,{future:r}=c.useContext(Ee),{matches:a}=c.useContext(Te),{pathname:i}=Be(),o=JSON.stringify(cs(a,r.v7_relativeSplatPath));return c.useMemo(()=>ds(t,JSON.parse(o),i,s==="path"),[t,o,i,s])}function ta(t,e){return sa(t,e)}function sa(t,e,s,r){De()||te(!1);let{navigator:a,static:i}=c.useContext(Ee),{matches:o}=c.useContext(Te),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let g=Be(),m;if(e){var w;let b=typeof e=="string"?Ue(e):e;d==="/"||(w=b.pathname)!=null&&w.startsWith(d)||te(!1),m=b}else m=g;let v=m.pathname||"/",f=v;if(d!=="/"){let b=d.replace(/^\//,"").split("/");f="/"+v.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=Rr(t,{pathname:f}),p=oa(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:ke([d,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:ke([d,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,s,r);return e&&p?c.createElement(Nt.Provider,{value:{location:Xe({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Ce.Pop}},p):p}function na(){let t=ua(),e=Kr(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},e),s?c.createElement("pre",{style:a},s):null,null)}const ra=c.createElement(na,null);class aa extends c.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?c.createElement(Te.Provider,{value:this.props.routeContext},c.createElement(pn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ia(t){let{routeContext:e,match:s,children:r}=t,a=c.useContext(us);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),c.createElement(Te.Provider,{value:e},r)}function oa(t,e,s,r){var a;if(e===void 0&&(e=[]),s===void 0&&(s=null),r===void 0&&(r=null),t==null){var i;if(!s)return null;if(s.errors)t=s.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let o=t,l=(a=s)==null?void 0:a.errors;if(l!=null){let g=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);g>=0||te(!1),o=o.slice(0,Math.min(o.length,g+1))}let u=!1,d=-1;if(s&&r&&r.v7_partialHydration)for(let g=0;g<o.length;g++){let m=o[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=g),m.route.id){let{loaderData:w,errors:v}=s,f=m.route.loader&&w[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||f){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,m,w)=>{let v,f=!1,x=null,p=null;s&&(v=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||ra,u&&(d<0&&w===0?(ga("route-fallback"),f=!0,p=null):d===w&&(f=!0,p=m.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,w+1)),C=()=>{let k;return v?k=x:f?k=p:m.route.Component?k=c.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=g,c.createElement(ia,{match:m,routeContext:{outlet:g,matches:b,isDataRoute:s!=null},children:k})};return s&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?c.createElement(aa,{location:s.location,revalidation:s.revalidation,component:x,error:v,children:C(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):C()},null)}var yn=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yn||{}),wn=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wn||{});function la(t){let e=c.useContext(us);return e||te(!1),e}function ca(t){let e=c.useContext(Xr);return e||te(!1),e}function da(t){let e=c.useContext(Te);return e||te(!1),e}function vn(t){let e=da(),s=e.matches[e.matches.length-1];return s.route.id||te(!1),s.route.id}function ua(){var t;let e=c.useContext(pn),s=ca(),r=vn();return e!==void 0?e:(t=s.errors)==null?void 0:t[r]}function ha(){let{router:t}=la(yn.UseNavigateStable),e=vn(wn.UseNavigateStable),s=c.useRef(!1);return xn(()=>{s.current=!0}),c.useCallback(function(a,i){i===void 0&&(i={}),s.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Xe({fromRouteId:e},i)))},[t,e])}const ks={};function ga(t,e,s){ks[t]||(ks[t]=!0)}function ma(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function fa(t){let{to:e,replace:s,state:r,relative:a}=t;De()||te(!1);let{future:i,static:o}=c.useContext(Ee),{matches:l}=c.useContext(Te),{pathname:u}=Be(),d=St(),g=ds(e,cs(l,i.v7_relativeSplatPath),u,a==="path"),m=JSON.stringify(g);return c.useEffect(()=>d(JSON.parse(m),{replace:s,state:r,relative:a}),[d,m,a,s,r]),null}function Ne(t){te(!1)}function pa(t){let{basename:e="/",children:s=null,location:r,navigationType:a=Ce.Pop,navigator:i,static:o=!1,future:l}=t;De()&&te(!1);let u=e.replace(/^\/*/,"/"),d=c.useMemo(()=>({basename:u,navigator:i,static:o,future:Xe({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=Ue(r));let{pathname:g="/",search:m="",hash:w="",state:v=null,key:f="default"}=r,x=c.useMemo(()=>{let p=ls(g,u);return p==null?null:{location:{pathname:p,search:m,hash:w,state:v,key:f},navigationType:a}},[u,g,m,w,v,f,a]);return x==null?null:c.createElement(Ee.Provider,{value:d},c.createElement(Nt.Provider,{children:s,value:x}))}function xa(t){let{children:e,location:s}=t;return ta(Gt(e),s)}new Promise(()=>{});function Gt(t,e){e===void 0&&(e=[]);let s=[];return c.Children.forEach(t,(r,a)=>{if(!c.isValidElement(r))return;let i=[...e,a];if(r.type===c.Fragment){s.push.apply(s,Gt(r.props.children,i));return}r.type!==Ne&&te(!1),!r.props.index||!r.props.children||te(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Gt(r.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jt(){return Jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Jt.apply(this,arguments)}function ba(t,e){if(t==null)return{};var s={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(s[a]=t[a]);return s}function ya(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wa(t,e){return t.button===0&&(!e||e==="_self")&&!ya(t)}const va=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ja="6";try{window.__reactRouterVersion=ja}catch{}const Na="startTransition",Es=br[Na];function Sa(t){let{basename:e,children:s,future:r,window:a}=t,i=c.useRef();i.current==null&&(i.current=kr({window:a,v5Compat:!0}));let o=i.current,[l,u]=c.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},g=c.useCallback(m=>{d&&Es?Es(()=>u(m)):u(m)},[u,d]);return c.useLayoutEffect(()=>o.listen(g),[o,g]),c.useEffect(()=>ma(r),[r]),c.createElement(pa,{basename:e,children:s,location:l.location,navigationType:l.action,navigator:o,future:r})}const Ca=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ka=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ct=c.forwardRef(function(e,s){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:u,to:d,preventScrollReset:g,viewTransition:m}=e,w=ba(e,va),{basename:v}=c.useContext(Ee),f,x=!1;if(typeof d=="string"&&ka.test(d)&&(f=d,Ca))try{let k=new URL(window.location.href),T=d.startsWith("//")?new URL(k.protocol+d):new URL(d),A=ls(T.pathname,v);T.origin===k.origin&&A!=null?d=A+T.search+T.hash:x=!0}catch{}let p=Zr(d,{relative:a}),b=Ea(d,{replace:o,state:l,target:u,preventScrollReset:g,relative:a,viewTransition:m});function C(k){r&&r(k),k.defaultPrevented||b(k)}return c.createElement("a",Jt({},w,{href:f||p,onClick:x||i?r:C,ref:s,target:u}))});var Ts;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ts||(Ts={}));var Rs;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Rs||(Rs={}));function Ea(t,e){let{target:s,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,u=St(),d=Be(),g=bn(t,{relative:o});return c.useCallback(m=>{if(wa(m,s)){m.preventDefault();let w=r!==void 0?r:ft(d)===ft(g);u(t,{replace:w,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,g,r,a,s,t,i,o,l])}const Yt=[{code:"twi",name:"Twi",localName:"Twi",voiceAvailable:!0,offlineSupport:!0,whisperModel:"small"},{code:"ga",name:"Ga",localName:"Gã",voiceAvailable:!0,offlineSupport:!1,whisperModel:"base"},{code:"ewe",name:"Ewe",localName:"Eʋegbe",voiceAvailable:!0,offlineSupport:!1,whisperModel:"base"},{code:"dagbani",name:"Dagbani",localName:"Dagbani",voiceAvailable:!1,offlineSupport:!1,whisperModel:"base"},{code:"hausa",name:"Hausa",localName:"Hausa",voiceAvailable:!0,offlineSupport:!1,whisperModel:"base"},{code:"english",name:"English",localName:"English",voiceAvailable:!0,offlineSupport:!0,whisperModel:"medium"}],jn=c.createContext({currentLanguage:"english",setCurrentLanguage:()=>{},availableLanguages:Yt,getLanguageResource:()=>{}}),Ta=({children:t})=>{const[e,s]=c.useState(()=>localStorage.getItem("preferredLanguage")||"english");c.useEffect(()=>{localStorage.setItem("preferredLanguage",e)},[e]);const a={currentLanguage:e,setCurrentLanguage:s,availableLanguages:Yt,getLanguageResource:i=>Yt.find(o=>o.code===i)};return n.jsx(jn.Provider,{value:a,children:t})},Re=()=>c.useContext(jn);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$a=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),$s=t=>{const e=$a(t);return e.charAt(0).toUpperCase()+e.slice(1)},Nn=(...t)=>t.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),Aa=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var La={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=c.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},u)=>c.createElement("svg",{ref:u,...La,width:e,height:e,stroke:t,strokeWidth:r?Number(s)*24/Number(e):s,className:Nn("lucide",a),...!i&&!Aa(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,g])=>c.createElement(d,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=(t,e)=>{const s=c.forwardRef(({className:r,...a},i)=>c.createElement(Pa,{ref:i,iconNode:e,className:Nn(`lucide-${Ra($s(t))}`,`lucide-${t}`,r),...a}));return s.displayName=$s(t),s};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ma=_("arrow-right",Oa);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ia=_("bell",za);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hs=_("check",_a);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ua=_("chevron-down",Fa);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ba=_("chevron-left",Da);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Va=_("chevron-right",Wa);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Sn=_("circle-alert",Ha);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ga=_("circle-check",qa);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Je=_("circle-check-big",Ja);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pt=_("circle-help",Ya);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],Qa=_("circle-pause",Ka);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],Za=_("circle-play",Xa);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],ti=_("circle-stop",ei);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],rt=_("circle-x",si);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],dt=_("command",ni);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],As=_("cpu",ri);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],_e=_("download",ai);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oi=_("eye",ii);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ci=_("globe",li);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Cn=_("hard-drive",di);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hi=_("info",ui);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],mi=_("loader",gi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],pi=_("maximize-2",fi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],kn=_("menu",xi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],at=_("message-circle",bi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],En=_("message-square",yi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Fe=_("mic",wi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],ji=_("minimize-2",vi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Ls=_("monitor",Ni);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Ps=_("moon",Si);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],ki=_("mouse-pointer",Ci);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Ti=_("music",Ei);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],$i=_("pause",Ri);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Os=_("pencil",Ai);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Pi=_("play",Li);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mi=_("plus",Oi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xt=_("refresh-cw",zi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Tn=_("save",Ii);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Fi=_("server",_i);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ye=_("settings",Ui);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ms=_("share-2",Di);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],Wi=_("sliders-vertical",Bi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=[["path",{d:"M12 3c7.2 0 9 1.8 9 9s-1.8 9-9 9-9-1.8-9-9 1.8-9 9-9",key:"garfkc"}]],Rn=_("squircle",Vi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qi=_("star",Hi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=[["path",{d:"M12 8a2.83 2.83 0 0 0 4 4 4 4 0 1 1-4-4",key:"1fu5g2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.9 4.9 1.4 1.4",key:"b9915j"}],["path",{d:"m17.7 17.7 1.4 1.4",key:"qc3ed3"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.3 17.7-1.4 1.4",key:"5gca6"}],["path",{d:"m19.1 4.9-1.4 1.4",key:"wpu9u6"}]],Ji=_("sun-moon",Gi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zs=_("sun",Yi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Kt=_("trash-2",Ki);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],$n=_("trash",Qi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zi=_("triangle-alert",Xi);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],to=_("type",eo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],gs=_("upload",so);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]],ro=_("vibrate",no);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],We=_("volume-2",ao);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ze=_("wifi-off",io);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],An=_("wifi",oo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kt=_("x",lo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],uo=_("zap",co),Ln=c.createContext(void 0),Et=()=>{const t=c.useContext(Ln);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},ho=()=>{const t=typeof window<"u"?localStorage.getItem("theme"):null;return t||"system"},go=()=>typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",mo=({children:t})=>{const[e,s]=c.useState(ho),[r,a]=c.useState(go),i=l=>{localStorage.setItem("theme",l),s(l)},o=()=>{i(e==="system"?r==="dark"?"light":"dark":e==="dark"?"light":"dark")};return c.useEffect(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),u=()=>{a(l.matches?"dark":"light")};if(u(),l.addEventListener)return l.addEventListener("change",u),()=>l.removeEventListener("change",u);if("addListener"in l)return l.addListener(u),()=>{l.removeListener(u)}},[]),c.useEffect(()=>{(e==="system"?r:e)==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light"),document.documentElement.style.colorScheme="dark"):(document.documentElement.classList.add("light"),document.documentElement.classList.remove("dark"),document.documentElement.style.colorScheme="light")},[e,r]),n.jsx(Ln.Provider,{value:{theme:e,setTheme:i,toggleTheme:o},children:t})},Is=({className:t=""})=>{const{theme:e,setTheme:s}=Et(),[r,a]=c.useState(!1),i=c.useRef(null);c.useEffect(()=>{const d=g=>{i.current&&!i.current.contains(g.target)&&a(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const o=()=>{a(!r)},l=d=>{s(d),a(!1)},u=()=>{switch(e){case"dark":return n.jsx(zs,{size:18});case"system":return n.jsx(Ls,{size:18});default:return n.jsx(Ps,{size:18})}};return n.jsxs("div",{className:"relative",ref:i,children:[n.jsx("button",{onClick:o,className:`p-2 rounded-full transition-all duration-300 ${e==="dark"?"bg-gray-700 text-yellow-200 hover:bg-gray-600":"bg-blue-100 text-blue-800 hover:bg-blue-200"} ${t}`,"aria-label":"Toggle theme",title:"Toggle theme",children:u()}),r&&n.jsxs("div",{className:"absolute right-0 mt-2 w-48 py-2 bg-white dark:bg-gray-800 rounded-md shadow-xl z-50",children:[n.jsxs("button",{onClick:()=>l("light"),className:`flex items-center w-full px-4 py-2 text-sm ${e==="light"?"text-blue-600 bg-blue-50 dark:bg-gray-700":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[n.jsx(zs,{size:16,className:"mr-2"}),"Light",e==="light"&&n.jsx("span",{className:"ml-auto text-blue-600",children:"✓"})]}),n.jsxs("button",{onClick:()=>l("dark"),className:`flex items-center w-full px-4 py-2 text-sm ${e==="dark"?"text-blue-600 bg-blue-50 dark:bg-gray-700":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[n.jsx(Ps,{size:16,className:"mr-2"}),"Dark",e==="dark"&&n.jsx("span",{className:"ml-auto text-blue-600",children:"✓"})]}),n.jsxs("button",{onClick:()=>l("system"),className:`flex items-center w-full px-4 py-2 text-sm ${e==="system"?"text-blue-600 bg-blue-50 dark:bg-gray-700":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[n.jsx(Ls,{size:16,className:"mr-2"}),"System",e==="system"&&n.jsx("span",{className:"ml-auto text-blue-600",children:"✓"})]})]})]})},It=({to:t,isActive:e,icon:s,label:r,onClick:a,className:i=""})=>{const{theme:o}=Et();return n.jsxs(Ct,{to:t,className:`nav-link flex items-center px-4 py-2 rounded-md font-medium transition-colors ${e?`bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-200 ${o==="dark"?"border-blue-400":"border-blue-600"}`:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700/50"} ${i}`,onClick:a,"aria-current":e?"page":void 0,children:[s&&n.jsx("span",{className:"mr-2",children:s}),n.jsx("span",{children:r}),e&&n.jsx("span",{className:"sr-only",children:"(current page)"})]})},_t=({to:t,isActive:e,icon:s,label:r,onClick:a,className:i=""})=>{const{theme:o}=Et();return n.jsxs(Ct,{to:t,className:`nav-link flex items-center px-4 py-3 rounded-md font-medium my-1 transition-colors ${e?`bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-200 ${o==="dark"?"border-l-4 border-blue-400":"border-l-4 border-blue-600"}`:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700/50"} ${i}`,onClick:a,"aria-current":e?"page":void 0,children:[s&&n.jsx("span",{className:"mr-3",children:s}),n.jsx("span",{children:r}),e&&n.jsx("span",{className:"sr-only",children:"(current page)"})]})},Ft=({to:t,isActive:e,icon:s,label:r})=>n.jsxs(Ct,{to:t,className:`flex flex-col items-center justify-center py-2 px-3 transition-colors ${e?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,"aria-current":e?"page":void 0,children:[s,n.jsx("span",{className:"text-xs mt-1",children:r})]}),fo=({children:t})=>{const[e,s]=c.useState(window.innerWidth<768),[r,a]=c.useState(!1),[i,o]=c.useState(!1),l=c.useRef(null),u=c.useRef(null);St();const d=Be(),{currentLanguage:g}=Re(),{theme:m}=Et();c.useEffect(()=>{const v=()=>{const f=window.innerWidth<768;s(f),f||a(!1)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),c.useEffect(()=>{a(!1)},[d]),c.useEffect(()=>{const v=()=>{o(window.scrollY>10)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[]),c.useEffect(()=>{const v=f=>{r&&l.current&&!l.current.contains(f.target)&&u.current&&!u.current.contains(f.target)&&a(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[r]),c.useEffect(()=>{const v=f=>{f.key==="Escape"&&r&&a(!1)};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]);const w=()=>{a(!r)};return n.jsxs("div",{className:"app-layout min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[n.jsxs("header",{className:`app-header sticky top-0 z-30 transition-all duration-300 ${i?"bg-white dark:bg-gray-800 shadow-md":"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm"}`,children:[n.jsxs("div",{className:"header-content max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[n.jsxs(Ct,{to:"/",className:"logo flex items-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center mr-2",children:n.jsx(at,{className:"text-white",size:24})}),n.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"TalkGhana"})]}),e?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Is,{className:"theme-toggle"}),n.jsx("button",{ref:u,className:"menu-toggle h-10 w-10 flex items-center justify-center rounded-full text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:w,"aria-label":r?"Close menu":"Open menu","aria-expanded":r,"aria-controls":"mobile-menu",children:r?n.jsx(kt,{size:24}):n.jsx(kn,{size:24})})]}):n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Is,{className:"theme-toggle"}),n.jsxs("nav",{className:"desktop-nav flex space-x-1",children:[n.jsx(It,{to:"/conversation",isActive:d.pathname==="/conversation"||d.pathname==="/",icon:n.jsx(at,{size:18}),label:"Conversation"}),n.jsx(It,{to:"/voice-commands",isActive:d.pathname==="/voice-commands",icon:n.jsx(dt,{size:18}),label:"Commands"}),n.jsx(It,{to:"/settings",isActive:d.pathname==="/settings",icon:n.jsx(Ye,{size:18}),label:"Settings"})]})]})]}),e&&n.jsxs("div",{ref:l,id:"mobile-menu",className:`mobile-menu px-4 pb-4 bg-white dark:bg-gray-800 shadow-lg transition-all duration-300 overflow-hidden ${r?"open":"closed"}`,"aria-hidden":!r,children:[n.jsx(_t,{to:"/conversation",isActive:d.pathname==="/conversation"||d.pathname==="/",icon:n.jsx(at,{size:20}),label:"Conversation",onClick:()=>a(!1)}),n.jsx(_t,{to:"/voice-commands",isActive:d.pathname==="/voice-commands",icon:n.jsx(dt,{size:20}),label:"Commands",onClick:()=>a(!1)}),n.jsx(_t,{to:"/settings",isActive:d.pathname==="/settings",icon:n.jsx(Ye,{size:20}),label:"Settings",onClick:()=>a(!1)})]})]}),n.jsx("main",{className:"main-content flex-grow max-w-7xl w-full mx-auto px-4 py-6",children:t}),e&&n.jsxs("nav",{className:"mobile-nav fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-lg z-20 flex justify-around",children:[n.jsx(Ft,{to:"/conversation",isActive:d.pathname==="/conversation"||d.pathname==="/",icon:n.jsx(at,{size:24}),label:"Chat"}),n.jsx(Ft,{to:"/voice-commands",isActive:d.pathname==="/voice-commands",icon:n.jsx(dt,{size:24}),label:"Commands"}),n.jsx(Ft,{to:"/settings",isActive:d.pathname==="/settings",icon:n.jsx(Ye,{size:24}),label:"Settings"})]})]})},po={english:{welcome:"Welcome",speak:"Speak",listen:"Listen",settings:"Settings",homeTitle:"TalkGhana",homeSubtitle:"AI-powered communication assistant",conversationMode:"Conversation Mode",voiceCommands:"Voice Commands",languageSettings:"Language Settings",accessibilitySettings:"Accessibility Settings",highContrast:"High Contrast",largeText:"Large Text",offlineMode:"Offline Mode",currentLanguage:"Current Language",speechRate:"Speech Rate",speechPitch:"Speech Pitch",suggestions:"Suggestions",type:"Type",emergency:"Emergency",yes:"Yes",no:"No",thankyou:"Thank you",help:"Help me",offline:"Offline",online:"Online",downloadComplete:"Download Complete",downloadFailed:"Download Failed",downloadInProgress:"Downloading...",storageManagement:"Storage Management",clearCache:"Clear Cache",offlineReady:"Ready for Offline Use",syncRequired:"Sync Required",dataUsage:"Data Usage",batteryOptimization:"Battery Optimization"}},xo=c.createContext({currentLanguage:"english",setLanguage:()=>{},translations:po.english,t:t=>t,isLanguageLoaded:!1}),Ve=()=>c.useContext(xo),bo={highContrast:!1,largeText:!1,offlineMode:!1,speechRate:1,speechPitch:1,audioFeedback:!0,keyboardNavigation:!1,ttsEnabled:!0},yo=c.createContext({preferences:bo,updatePreference:()=>{},updatePreferences:()=>{}}),fe=()=>c.useContext(yo),wo=({type:t="online",message:e,timeout:s=3e3,isVisible:r=!1})=>{const[a,i]=c.useState(r),[o,l]=c.useState(!1),[u,d]=c.useState(navigator.onLine),{preferences:g}=fe();if(c.useEffect(()=>{const b=()=>d(!0),C=()=>d(!1);return window.addEventListener("online",b),window.addEventListener("offline",C),()=>{window.removeEventListener("online",b),window.removeEventListener("offline",C)}},[]),c.useEffect(()=>{if(l(!0),i(r),r&&s>0){const b=setTimeout(()=>{i(!1)},s);return()=>clearTimeout(b)}},[r,s]),c.useEffect(()=>{if(!u)i(!0);else if(t==="online"){i(!0);const b=setTimeout(()=>{i(!1)},3e3);return()=>clearTimeout(b)}},[u,t]),!o||!a&&u)return null;const m=u?t:"offline",w=u?e:"You are offline. Some features may be limited.",v=()=>{switch(m){case"offline":return{bgColor:g.highContrast?"bg-yellow-900":"bg-yellow-100",textColor:g.highContrast?"text-yellow-100":"text-yellow-800",icon:n.jsx(Ze,{size:16,className:g.highContrast?"text-yellow-100":"text-yellow-500"})};case"processing":return{bgColor:g.highContrast?"bg-blue-900":"bg-blue-100",textColor:g.highContrast?"text-blue-100":"text-blue-800",icon:n.jsx(uo,{size:16,className:g.highContrast?"text-blue-100":"text-blue-500"})};case"success":return{bgColor:g.highContrast?"bg-green-900":"bg-green-100",textColor:g.highContrast?"text-green-100":"text-green-800",icon:n.jsx(hs,{size:16,className:g.highContrast?"text-green-100":"text-green-500"})};case"error":return{bgColor:g.highContrast?"bg-red-900":"bg-red-100",textColor:g.highContrast?"text-red-100":"text-red-800",icon:n.jsx(Rn,{size:16,className:g.highContrast?"text-red-100":"text-red-500"})};case"online":default:return{bgColor:g.highContrast?"bg-green-900":"bg-green-100",textColor:g.highContrast?"text-green-100":"text-green-800",icon:n.jsx(An,{size:16,className:g.highContrast?"text-green-100":"text-green-500"})}}},{bgColor:f,textColor:x,icon:p}=v();return n.jsx("div",{className:`fixed top-16 inset-x-0 z-50 flex justify-center items-center transition-all duration-300 ${a?"opacity-100 translate-y-0":"opacity-0 -translate-y-8 pointer-events-none"}`,children:n.jsxs("div",{className:`flex items-center space-x-2 px-4 py-2 rounded-full shadow-md ${f}`,children:[p,n.jsx("span",{className:`text-sm font-medium ${x}`,children:w||(m==="offline"?"You are offline":"You are online")})]})})},vo=({isOpen:t,onClose:e})=>{const[s,r]=c.useState(0),{preferences:a}=fe();if(c.useEffect(()=>{t&&r(0)},[t]),!t)return null;const i=[{title:"Welcome to TalkGhana",description:"TalkGhana helps you communicate effectively using voice commands and text-to-speech technology.",icon:n.jsx(We,{size:48,className:"text-blue-500"})},{title:"Voice Commands",description:"Quickly communicate common needs and phrases using pre-defined or custom voice commands.",icon:n.jsx(dt,{size:48,className:"text-blue-500"})},{title:"Conversation Mode",description:"Have back-and-forth conversations using voice or text input. The app will generate responses based on context.",icon:n.jsx(En,{size:48,className:"text-blue-500"})},{title:"Voice Recognition",description:"Speak into your device and TalkGhana will convert your speech to text. Works with various Ghanaian languages.",icon:n.jsx(Fe,{size:48,className:"text-blue-500"})},{title:"Accessibility Features",description:"Customize the app with high contrast mode, large text, and other accessibility options from the settings menu.",icon:n.jsx(Ye,{size:48,className:"text-blue-500"})}],o=()=>{s<i.length-1?r(s+1):(localStorage.setItem("onboardingCompleted","true"),e())},l=()=>{s>0&&r(s-1)},u=()=>{localStorage.setItem("onboardingCompleted","true"),e()};return n.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:`bg-white rounded-lg shadow-xl max-w-md w-full ${a.highContrast?"border-2 border-white text-white bg-black":""}`,role:"dialog","aria-modal":"true","aria-labelledby":"tutorial-title",children:[n.jsx("div",{className:"p-4 flex justify-end",children:n.jsx("button",{onClick:u,className:`p-2 rounded-full ${a.highContrast?"text-white hover:bg-gray-800":"text-gray-500 hover:bg-gray-100"}`,"aria-label":"Skip tutorial",children:n.jsx(kt,{size:20})})}),n.jsxs("div",{className:"px-8 py-6 text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:i[s].icon}),n.jsx("h2",{id:"tutorial-title",className:`text-2xl font-bold mb-4 ${a.highContrast?"text-white":"text-gray-800"}`,children:i[s].title}),n.jsx("p",{className:`mb-8 ${a.highContrast?"text-gray-300":"text-gray-600"}`,children:i[s].description}),n.jsx("div",{className:"flex justify-center mb-6",children:i.map((d,g)=>n.jsx("div",{className:`w-2 h-2 mx-1 rounded-full ${s===g?a.highContrast?"bg-blue-400":"bg-blue-500":a.highContrast?"bg-gray-600":"bg-gray-300"}`},g))})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 rounded-b-lg flex justify-between border-t",children:[n.jsxs("button",{onClick:l,disabled:s===0,className:`px-4 py-2 rounded-lg flex items-center ${s===0?"bg-gray-200 text-gray-400 cursor-not-allowed":a.highContrast?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:[n.jsx(Ba,{size:16,className:"mr-1"}),"Previous"]}),n.jsxs("button",{onClick:o,className:`px-4 py-2 rounded-lg flex items-center ${a.highContrast?"bg-blue-700 text-white hover:bg-blue-600":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[s===i.length-1?"Get Started":"Next",s<i.length-1&&n.jsx(Va,{size:16,className:"ml-1"})]})]})]})})},it=({icon:t,label:e,onClick:s,color:r="blue",size:a="md"})=>{const{preferences:i}=fe(),o=()=>(i.highContrast?{blue:"bg-blue-800 text-white hover:bg-blue-700",green:"bg-green-800 text-white hover:bg-green-700",red:"bg-red-800 text-white hover:bg-red-700",yellow:"bg-yellow-700 text-white hover:bg-yellow-600",purple:"bg-purple-800 text-white hover:bg-purple-700"}:{blue:"bg-blue-500 text-white hover:bg-blue-600",green:"bg-green-500 text-white hover:bg-green-600",red:"bg-red-500 text-white hover:bg-red-600",yellow:"bg-yellow-500 text-white hover:bg-yellow-600",purple:"bg-purple-500 text-white hover:bg-purple-600"})[r],l=()=>{const w={sm:"p-2 text-xs",md:"p-3 text-sm",lg:"p-4 text-base"},v={sm:"mb-1",md:"mb-2",lg:"mb-3"};return{button:w[a],icon:v[a]}},u=o(),d=l(),g=localStorage.getItem("touchTargetSize")||"normal",m=g==="large"?"p-1":g==="extra-large"?"p-2":"";return n.jsxs("button",{onClick:s,className:`${u} ${d.button} ${m} rounded-lg flex flex-col items-center justify-center transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-${r}-500`,children:[n.jsx("div",{className:d.icon,children:t}),n.jsx("span",{className:`font-medium ${i.largeText?"text-base":""}`,children:e})]})},jo=({isOpen:t,onClose:e})=>{const{preferences:s,updatePreference:r}=fe(),{t:a}=Ve(),[i,o]=c.useState(localStorage.getItem("touchTargetSize")||"normal"),[l,u]=c.useState(localStorage.getItem("reduceMotion")==="true");if(c.useEffect(()=>{localStorage.setItem("touchTargetSize",i)},[i]),c.useEffect(()=>{localStorage.setItem("reduceMotion",l.toString()),l?document.documentElement.classList.add("reduce-motion"):document.documentElement.classList.remove("reduce-motion")},[l]),!t)return null;const d=g=>{o(g),document.documentElement.classList.remove("touch-normal","touch-large","touch-xl"),document.documentElement.classList.add(`touch-${g==="extra-large"?"xl":g}`)};return n.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"accessibility-title",children:n.jsxs("div",{className:`bg-white rounded-lg shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto ${s.highContrast?"border-2 border-white text-white bg-black":""}`,children:[n.jsx("div",{className:"sticky top-0 bg-blue-600 text-white p-4 rounded-t-lg",children:n.jsxs("h2",{id:"accessibility-title",className:"text-xl font-bold flex items-center",children:[n.jsx(Wi,{className:"mr-2",size:20}),"Accessibility Options"]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("section",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[n.jsx(oi,{className:"mr-2",size:18}),"Visual Settings"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"flex items-center",children:n.jsx("span",{className:"mr-2",children:"High Contrast Mode"})}),n.jsx("div",{className:`w-12 h-6 flex items-center rounded-full p-1 cursor-pointer ${s.highContrast?"bg-green-500":"bg-gray-300"}`,onClick:()=>r("highContrast",!s.highContrast),role:"switch","aria-checked":s.highContrast,tabIndex:0,onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&r("highContrast",!s.highContrast)},children:n.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out ${s.highContrast?"translate-x-6":""}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"flex items-center",children:n.jsx("span",{className:"mr-2",children:"Large Text"})}),n.jsx("div",{className:`w-12 h-6 flex items-center rounded-full p-1 cursor-pointer ${s.largeText?"bg-green-500":"bg-gray-300"}`,onClick:()=>r("largeText",!s.largeText),role:"switch","aria-checked":s.largeText,tabIndex:0,onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&r("largeText",!s.largeText)},children:n.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out ${s.largeText?"translate-x-6":""}`})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"flex items-center",children:n.jsx("span",{className:"mr-2",children:"Reduce Motion"})}),n.jsx("div",{className:`w-12 h-6 flex items-center rounded-full p-1 cursor-pointer ${l?"bg-green-500":"bg-gray-300"}`,onClick:()=>u(!l),role:"switch","aria-checked":l,tabIndex:0,onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&u(!l)},children:n.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out ${l?"translate-x-6":""}`})})]})]})]}),n.jsxs("section",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[n.jsx(ki,{className:"mr-2",size:18}),"Touch Target Size"]}),n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>d("normal"),className:`flex-1 py-2 px-4 rounded-lg ${i==="normal"?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,"aria-pressed":i==="normal",children:"Normal"}),n.jsx("button",{onClick:()=>d("large"),className:`flex-1 py-2 px-4 rounded-lg ${i==="large"?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,"aria-pressed":i==="large",children:"Large"}),n.jsx("button",{onClick:()=>d("extra-large"),className:`flex-1 py-2 px-4 rounded-lg ${i==="extra-large"?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,"aria-pressed":i==="extra-large",children:"Extra Large"})]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Increase button and interactive element sizes for easier touch access"})]})]}),n.jsxs("section",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[n.jsx(ro,{className:"mr-2",size:18}),"Feedback Settings"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"flex items-center",children:n.jsx("span",{className:"mr-2",children:"Audio Feedback"})}),n.jsx("div",{className:`w-12 h-6 flex items-center rounded-full p-1 cursor-pointer ${s.audioFeedback?"bg-green-500":"bg-gray-300"}`,onClick:()=>r("audioFeedback",!s.audioFeedback),role:"switch","aria-checked":s.audioFeedback,tabIndex:0,children:n.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out ${s.audioFeedback?"translate-x-6":""}`})})]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Play subtle sounds when actions are performed"}),n.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200",children:n.jsx("p",{className:"text-sm text-gray-500",children:"Note: For haptic feedback, you may need to enable it in your device settings."})})]})]})]}),n.jsx("div",{className:"p-4 bg-gray-50 rounded-b-lg flex justify-end border-t",children:n.jsx("button",{onClick:e,className:`px-4 py-2 rounded-lg ${s.highContrast?"bg-blue-700 text-white hover:bg-blue-600":"bg-blue-500 text-white hover:bg-blue-600"}`,children:"Close"})})]})})};function Pn(t,e){return function(){return t.apply(e,arguments)}}const{toString:No}=Object.prototype,{getPrototypeOf:ms}=Object,Tt=(t=>e=>{const s=No.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),pe=t=>(t=t.toLowerCase(),e=>Tt(e)===t),Rt=t=>e=>typeof e===t,{isArray:He}=Array,et=Rt("undefined");function So(t){return t!==null&&!et(t)&&t.constructor!==null&&!et(t.constructor)&&me(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const On=pe("ArrayBuffer");function Co(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&On(t.buffer),e}const ko=Rt("string"),me=Rt("function"),Mn=Rt("number"),$t=t=>t!==null&&typeof t=="object",Eo=t=>t===!0||t===!1,ut=t=>{if(Tt(t)!=="object")return!1;const e=ms(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},To=pe("Date"),Ro=pe("File"),$o=pe("Blob"),Ao=pe("FileList"),Lo=t=>$t(t)&&me(t.pipe),Po=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||me(t.append)&&((e=Tt(t))==="formdata"||e==="object"&&me(t.toString)&&t.toString()==="[object FormData]"))},Oo=pe("URLSearchParams"),[Mo,zo,Io,_o]=["ReadableStream","Request","Response","Headers"].map(pe),Fo=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tt(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),He(t))for(r=0,a=t.length;r<a;r++)e.call(null,t[r],r,t);else{const i=s?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(r=0;r<o;r++)l=i[r],e.call(null,t[l],l,t)}}function zn(t,e){e=e.toLowerCase();const s=Object.keys(t);let r=s.length,a;for(;r-- >0;)if(a=s[r],e===a.toLowerCase())return a;return null}const Le=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,In=t=>!et(t)&&t!==Le;function Qt(){const{caseless:t}=In(this)&&this||{},e={},s=(r,a)=>{const i=t&&zn(e,a)||a;ut(e[i])&&ut(r)?e[i]=Qt(e[i],r):ut(r)?e[i]=Qt({},r):He(r)?e[i]=r.slice():e[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&tt(arguments[r],s);return e}const Uo=(t,e,s,{allOwnKeys:r}={})=>(tt(e,(a,i)=>{s&&me(a)?t[i]=Pn(a,s):t[i]=a},{allOwnKeys:r}),t),Do=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Bo=(t,e,s,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},Wo=(t,e,s,r)=>{let a,i,o;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)o=a[i],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=s!==!1&&ms(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},Vo=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const r=t.indexOf(e,s);return r!==-1&&r===s},Ho=t=>{if(!t)return null;if(He(t))return t;let e=t.length;if(!Mn(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},qo=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ms(Uint8Array)),Go=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=r.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},Jo=(t,e)=>{let s;const r=[];for(;(s=t.exec(e))!==null;)r.push(s);return r},Yo=pe("HTMLFormElement"),Ko=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),_s=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),Qo=pe("RegExp"),_n=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),r={};tt(s,(a,i)=>{let o;(o=e(a,i,t))!==!1&&(r[i]=o||a)}),Object.defineProperties(t,r)},Xo=t=>{_n(t,(e,s)=>{if(me(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=t[s];if(me(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Zo=(t,e)=>{const s={},r=a=>{a.forEach(i=>{s[i]=!0})};return He(t)?r(t):r(String(t).split(e)),s},el=()=>{},tl=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function sl(t){return!!(t&&me(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const nl=t=>{const e=new Array(10),s=(r,a)=>{if($t(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[a]=r;const i=He(r)?[]:{};return tt(r,(o,l)=>{const u=s(o,a+1);!et(u)&&(i[l]=u)}),e[a]=void 0,i}}return r};return s(t,0)},rl=pe("AsyncFunction"),al=t=>t&&($t(t)||me(t))&&me(t.then)&&me(t.catch),Fn=((t,e)=>t?setImmediate:e?((s,r)=>(Le.addEventListener("message",({source:a,data:i})=>{a===Le&&i===s&&r.length&&r.shift()()},!1),a=>{r.push(a),Le.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",me(Le.postMessage)),il=typeof queueMicrotask<"u"?queueMicrotask.bind(Le):typeof process<"u"&&process.nextTick||Fn,N={isArray:He,isArrayBuffer:On,isBuffer:So,isFormData:Po,isArrayBufferView:Co,isString:ko,isNumber:Mn,isBoolean:Eo,isObject:$t,isPlainObject:ut,isReadableStream:Mo,isRequest:zo,isResponse:Io,isHeaders:_o,isUndefined:et,isDate:To,isFile:Ro,isBlob:$o,isRegExp:Qo,isFunction:me,isStream:Lo,isURLSearchParams:Oo,isTypedArray:qo,isFileList:Ao,forEach:tt,merge:Qt,extend:Uo,trim:Fo,stripBOM:Do,inherits:Bo,toFlatObject:Wo,kindOf:Tt,kindOfTest:pe,endsWith:Vo,toArray:Ho,forEachEntry:Go,matchAll:Jo,isHTMLForm:Yo,hasOwnProperty:_s,hasOwnProp:_s,reduceDescriptors:_n,freezeMethods:Xo,toObjectSet:Zo,toCamelCase:Ko,noop:el,toFiniteNumber:tl,findKey:zn,global:Le,isContextDefined:In,isSpecCompliantForm:sl,toJSONObject:nl,isAsyncFn:rl,isThenable:al,setImmediate:Fn,asap:il};function H(t,e,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}N.inherits(H,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const Un=H.prototype,Dn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Dn[t]={value:t}});Object.defineProperties(H,Dn);Object.defineProperty(Un,"isAxiosError",{value:!0});H.from=(t,e,s,r,a,i)=>{const o=Object.create(Un);return N.toFlatObject(t,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),H.call(o,t.message,e,s,r,a),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const ol=null;function Xt(t){return N.isPlainObject(t)||N.isArray(t)}function Bn(t){return N.endsWith(t,"[]")?t.slice(0,-2):t}function Fs(t,e,s){return t?t.concat(e).map(function(a,i){return a=Bn(a),!s&&i?"["+a+"]":a}).join(s?".":""):e}function ll(t){return N.isArray(t)&&!t.some(Xt)}const cl=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function At(t,e,s){if(!N.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=N.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,p){return!N.isUndefined(p[x])});const r=s.metaTokens,a=s.visitor||g,i=s.dots,o=s.indexes,u=(s.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(a))throw new TypeError("visitor must be a function");function d(f){if(f===null)return"";if(N.isDate(f))return f.toISOString();if(!u&&N.isBlob(f))throw new H("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(f)||N.isTypedArray(f)?u&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function g(f,x,p){let b=f;if(f&&!p&&typeof f=="object"){if(N.endsWith(x,"{}"))x=r?x:x.slice(0,-2),f=JSON.stringify(f);else if(N.isArray(f)&&ll(f)||(N.isFileList(f)||N.endsWith(x,"[]"))&&(b=N.toArray(f)))return x=Bn(x),b.forEach(function(k,T){!(N.isUndefined(k)||k===null)&&e.append(o===!0?Fs([x],T,i):o===null?x:x+"[]",d(k))}),!1}return Xt(f)?!0:(e.append(Fs(p,x,i),d(f)),!1)}const m=[],w=Object.assign(cl,{defaultVisitor:g,convertValue:d,isVisitable:Xt});function v(f,x){if(!N.isUndefined(f)){if(m.indexOf(f)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(f),N.forEach(f,function(b,C){(!(N.isUndefined(b)||b===null)&&a.call(e,b,N.isString(C)?C.trim():C,x,w))===!0&&v(b,x?x.concat(C):[C])}),m.pop()}}if(!N.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Us(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function fs(t,e){this._pairs=[],t&&At(t,this,e)}const Wn=fs.prototype;Wn.append=function(e,s){this._pairs.push([e,s])};Wn.toString=function(e){const s=e?function(r){return e.call(this,r,Us)}:Us;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function dl(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vn(t,e,s){if(!e)return t;const r=s&&s.encode||dl;N.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let i;if(a?i=a(e,s):i=N.isURLSearchParams(e)?e.toString():new fs(e,s).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Ds{constructor(){this.handlers=[]}use(e,s,r){return this.handlers.push({fulfilled:e,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Hn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ul=typeof URLSearchParams<"u"?URLSearchParams:fs,hl=typeof FormData<"u"?FormData:null,gl=typeof Blob<"u"?Blob:null,ml={isBrowser:!0,classes:{URLSearchParams:ul,FormData:hl,Blob:gl},protocols:["http","https","file","blob","url","data"]},ps=typeof window<"u"&&typeof document<"u",Zt=typeof navigator=="object"&&navigator||void 0,fl=ps&&(!Zt||["ReactNative","NativeScript","NS"].indexOf(Zt.product)<0),pl=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xl=ps&&window.location.href||"http://localhost",bl=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ps,hasStandardBrowserEnv:fl,hasStandardBrowserWebWorkerEnv:pl,navigator:Zt,origin:xl},Symbol.toStringTag,{value:"Module"})),ue={...bl,...ml};function yl(t,e){return At(t,new ue.classes.URLSearchParams,Object.assign({visitor:function(s,r,a,i){return ue.isNode&&N.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function wl(t){return N.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vl(t){const e={},s=Object.keys(t);let r;const a=s.length;let i;for(r=0;r<a;r++)i=s[r],e[i]=t[i];return e}function qn(t){function e(s,r,a,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=s.length;return o=!o&&N.isArray(a)?a.length:o,u?(N.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!l):((!a[o]||!N.isObject(a[o]))&&(a[o]=[]),e(s,r,a[o],i)&&N.isArray(a[o])&&(a[o]=vl(a[o])),!l)}if(N.isFormData(t)&&N.isFunction(t.entries)){const s={};return N.forEachEntry(t,(r,a)=>{e(wl(r),a,s,0)}),s}return null}function jl(t,e,s){if(N.isString(t))try{return(e||JSON.parse)(t),N.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(t)}const st={transitional:Hn,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,i=N.isObject(e);if(i&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return a?JSON.stringify(qn(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e)||N.isReadableStream(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return yl(e,this.formSerializer).toString();if((l=N.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return At(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),jl(e)):e}],transformResponse:[function(e){const s=this.transitional||st.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(N.isResponse(e)||N.isReadableStream(e))return e;if(e&&N.isString(e)&&(r&&!this.responseType||a)){const o=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?H.from(l,H.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ue.classes.FormData,Blob:ue.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],t=>{st.headers[t]={}});const Nl=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Sl=t=>{const e={};let s,r,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),s=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!s||e[s]&&Nl[s])&&(s==="set-cookie"?e[s]?e[s].push(r):e[s]=[r]:e[s]=e[s]?e[s]+", "+r:r)}),e},Bs=Symbol("internals");function Ge(t){return t&&String(t).trim().toLowerCase()}function ht(t){return t===!1||t==null?t:N.isArray(t)?t.map(ht):String(t)}function Cl(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(t);)e[r[1]]=r[2];return e}const kl=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ut(t,e,s,r,a){if(N.isFunction(r))return r.call(this,e,s);if(a&&(e=s),!!N.isString(e)){if(N.isString(r))return e.indexOf(r)!==-1;if(N.isRegExp(r))return r.test(e)}}function El(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,r)=>s.toUpperCase()+r)}function Tl(t,e){const s=N.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+s,{value:function(a,i,o){return this[r].call(this,e,a,i,o)},configurable:!0})})}let ge=class{constructor(e){e&&this.set(e)}set(e,s,r){const a=this;function i(l,u,d){const g=Ge(u);if(!g)throw new Error("header name must be a non-empty string");const m=N.findKey(a,g);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||u]=ht(l))}const o=(l,u)=>N.forEach(l,(d,g)=>i(d,g,u));if(N.isPlainObject(e)||e instanceof this.constructor)o(e,s);else if(N.isString(e)&&(e=e.trim())&&!kl(e))o(Sl(e),s);else if(N.isHeaders(e))for(const[l,u]of e.entries())i(u,l,r);else e!=null&&i(s,e,r);return this}get(e,s){if(e=Ge(e),e){const r=N.findKey(this,e);if(r){const a=this[r];if(!s)return a;if(s===!0)return Cl(a);if(N.isFunction(s))return s.call(this,a,r);if(N.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Ge(e),e){const r=N.findKey(this,e);return!!(r&&this[r]!==void 0&&(!s||Ut(this,this[r],r,s)))}return!1}delete(e,s){const r=this;let a=!1;function i(o){if(o=Ge(o),o){const l=N.findKey(r,o);l&&(!s||Ut(r,r[l],l,s))&&(delete r[l],a=!0)}}return N.isArray(e)?e.forEach(i):i(e),a}clear(e){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const i=s[r];(!e||Ut(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const s=this,r={};return N.forEach(this,(a,i)=>{const o=N.findKey(r,i);if(o){s[o]=ht(a),delete s[i];return}const l=e?El(i):String(i).trim();l!==i&&delete s[i],s[l]=ht(a),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return N.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=e&&N.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const r=new this(e);return s.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[Bs]=this[Bs]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Ge(o);r[l]||(Tl(a,o),r[l]=!0)}return N.isArray(e)?e.forEach(i):i(e),this}};ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(ge.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[s]=r}}});N.freezeMethods(ge);function Dt(t,e){const s=this||st,r=e||s,a=ge.from(r.headers);let i=r.data;return N.forEach(t,function(l){i=l.call(s,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function Gn(t){return!!(t&&t.__CANCEL__)}function qe(t,e,s){H.call(this,t??"canceled",H.ERR_CANCELED,e,s),this.name="CanceledError"}N.inherits(qe,H,{__CANCEL__:!0});function Jn(t,e,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?t(s):e(new H("Request failed with status code "+s.status,[H.ERR_BAD_REQUEST,H.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Rl(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function $l(t,e){t=t||10;const s=new Array(t),r=new Array(t);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(u){const d=Date.now(),g=r[i];o||(o=d),s[a]=u,r[a]=d;let m=i,w=0;for(;m!==a;)w+=s[m++],m=m%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),d-o<e)return;const v=g&&d-g;return v?Math.round(w*1e3/v):void 0}}function Al(t,e){let s=0,r=1e3/e,a,i;const o=(d,g=Date.now())=>{s=g,a=null,i&&(clearTimeout(i),i=null),t.apply(null,d)};return[(...d)=>{const g=Date.now(),m=g-s;m>=r?o(d,g):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},r-m)))},()=>a&&o(a)]}const bt=(t,e,s=3)=>{let r=0;const a=$l(50,250);return Al(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-r,d=a(u),g=o<=l;r=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&g?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},s)},Ws=(t,e)=>{const s=t!=null;return[r=>e[0]({lengthComputable:s,total:t,loaded:r}),e[1]]},Vs=t=>(...e)=>N.asap(()=>t(...e)),Ll=ue.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,ue.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(ue.origin),ue.navigator&&/(msie|trident)/i.test(ue.navigator.userAgent)):()=>!0,Pl=ue.hasStandardBrowserEnv?{write(t,e,s,r,a,i){const o=[t+"="+encodeURIComponent(e)];N.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),N.isString(r)&&o.push("path="+r),N.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ol(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ml(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Yn(t,e,s){let r=!Ol(e);return t&&(r||s==!1)?Ml(t,e):e}const Hs=t=>t instanceof ge?{...t}:t;function Oe(t,e){e=e||{};const s={};function r(d,g,m,w){return N.isPlainObject(d)&&N.isPlainObject(g)?N.merge.call({caseless:w},d,g):N.isPlainObject(g)?N.merge({},g):N.isArray(g)?g.slice():g}function a(d,g,m,w){if(N.isUndefined(g)){if(!N.isUndefined(d))return r(void 0,d,m,w)}else return r(d,g,m,w)}function i(d,g){if(!N.isUndefined(g))return r(void 0,g)}function o(d,g){if(N.isUndefined(g)){if(!N.isUndefined(d))return r(void 0,d)}else return r(void 0,g)}function l(d,g,m){if(m in e)return r(d,g);if(m in t)return r(void 0,d)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,g,m)=>a(Hs(d),Hs(g),m,!0)};return N.forEach(Object.keys(Object.assign({},t,e)),function(g){const m=u[g]||a,w=m(t[g],e[g],g);N.isUndefined(w)&&m!==l||(s[g]=w)}),s}const Kn=t=>{const e=Oe({},t);let{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=e;e.headers=o=ge.from(o),e.url=Vn(Yn(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(N.isFormData(s)){if(ue.hasStandardBrowserEnv||ue.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[d,...g]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...g].join("; "))}}if(ue.hasStandardBrowserEnv&&(r&&N.isFunction(r)&&(r=r(e)),r||r!==!1&&Ll(e.url))){const d=a&&i&&Pl.read(i);d&&o.set(a,d)}return e},zl=typeof XMLHttpRequest<"u",Il=zl&&function(t){return new Promise(function(s,r){const a=Kn(t);let i=a.data;const o=ge.from(a.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=a,g,m,w,v,f;function x(){v&&v(),f&&f(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let p=new XMLHttpRequest;p.open(a.method.toUpperCase(),a.url,!0),p.timeout=a.timeout;function b(){if(!p)return;const k=ge.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:k,config:t,request:p};Jn(function(j){s(j),x()},function(j){r(j),x()},A),p=null}"onloadend"in p?p.onloadend=b:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(b)},p.onabort=function(){p&&(r(new H("Request aborted",H.ECONNABORTED,t,p)),p=null)},p.onerror=function(){r(new H("Network Error",H.ERR_NETWORK,t,p)),p=null},p.ontimeout=function(){let T=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const A=a.transitional||Hn;a.timeoutErrorMessage&&(T=a.timeoutErrorMessage),r(new H(T,A.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,t,p)),p=null},i===void 0&&o.setContentType(null),"setRequestHeader"in p&&N.forEach(o.toJSON(),function(T,A){p.setRequestHeader(A,T)}),N.isUndefined(a.withCredentials)||(p.withCredentials=!!a.withCredentials),l&&l!=="json"&&(p.responseType=a.responseType),d&&([w,f]=bt(d,!0),p.addEventListener("progress",w)),u&&p.upload&&([m,v]=bt(u),p.upload.addEventListener("progress",m),p.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(g=k=>{p&&(r(!k||k.type?new qe(null,t,p):k),p.abort(),p=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const C=Rl(a.url);if(C&&ue.protocols.indexOf(C)===-1){r(new H("Unsupported protocol "+C+":",H.ERR_BAD_REQUEST,t));return}p.send(i||null)})},_l=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let r=new AbortController,a;const i=function(d){if(!a){a=!0,l();const g=d instanceof Error?d:this.reason;r.abort(g instanceof H?g:new qe(g instanceof Error?g.message:g))}};let o=e&&setTimeout(()=>{o=null,i(new H(`timeout ${e} of ms exceeded`,H.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>N.asap(l),u}},Fl=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let r=0,a;for(;r<s;)a=r+e,yield t.slice(r,a),r=a},Ul=async function*(t,e){for await(const s of Dl(t))yield*Fl(s,e)},Dl=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:r}=await e.read();if(s)break;yield r}}finally{await e.cancel()}},qs=(t,e,s,r)=>{const a=Ul(t,e);let i=0,o,l=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:g}=await a.next();if(d){l(),u.close();return}let m=g.byteLength;if(s){let w=i+=m;s(w)}u.enqueue(new Uint8Array(g))}catch(d){throw l(d),d}},cancel(u){return l(u),a.return()}},{highWaterMark:2})},Lt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Qn=Lt&&typeof ReadableStream=="function",Bl=Lt&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Xn=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Wl=Qn&&Xn(()=>{let t=!1;const e=new Request(ue.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Gs=64*1024,es=Qn&&Xn(()=>N.isReadableStream(new Response("").body)),yt={stream:es&&(t=>t.body)};Lt&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!yt[e]&&(yt[e]=N.isFunction(t[e])?s=>s[e]():(s,r)=>{throw new H(`Response type '${e}' is not supported`,H.ERR_NOT_SUPPORT,r)})})})(new Response);const Vl=async t=>{if(t==null)return 0;if(N.isBlob(t))return t.size;if(N.isSpecCompliantForm(t))return(await new Request(ue.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(N.isArrayBufferView(t)||N.isArrayBuffer(t))return t.byteLength;if(N.isURLSearchParams(t)&&(t=t+""),N.isString(t))return(await Bl(t)).byteLength},Hl=async(t,e)=>{const s=N.toFiniteNumber(t.getContentLength());return s??Vl(e)},ql=Lt&&(async t=>{let{url:e,method:s,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:g,withCredentials:m="same-origin",fetchOptions:w}=Kn(t);d=d?(d+"").toLowerCase():"text";let v=_l([a,i&&i.toAbortSignal()],o),f;const x=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let p;try{if(u&&Wl&&s!=="get"&&s!=="head"&&(p=await Hl(g,r))!==0){let A=new Request(e,{method:"POST",body:r,duplex:"half"}),$;if(N.isFormData(r)&&($=A.headers.get("content-type"))&&g.setContentType($),A.body){const[j,R]=Ws(p,bt(Vs(u)));r=qs(A.body,Gs,j,R)}}N.isString(m)||(m=m?"include":"omit");const b="credentials"in Request.prototype;f=new Request(e,{...w,signal:v,method:s.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:b?m:void 0});let C=await fetch(f);const k=es&&(d==="stream"||d==="response");if(es&&(l||k&&x)){const A={};["status","statusText","headers"].forEach(y=>{A[y]=C[y]});const $=N.toFiniteNumber(C.headers.get("content-length")),[j,R]=l&&Ws($,bt(Vs(l),!0))||[];C=new Response(qs(C.body,Gs,j,()=>{R&&R(),x&&x()}),A)}d=d||"text";let T=await yt[N.findKey(yt,d)||"text"](C,t);return!k&&x&&x(),await new Promise((A,$)=>{Jn(A,$,{data:T,headers:ge.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:f})})}catch(b){throw x&&x(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new H("Network Error",H.ERR_NETWORK,t,f),{cause:b.cause||b}):H.from(b,b&&b.code,t,f)}}),ts={http:ol,xhr:Il,fetch:ql};N.forEach(ts,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Js=t=>`- ${t}`,Gl=t=>N.isFunction(t)||t===null||t===!1,Zn={getAdapter:t=>{t=N.isArray(t)?t:[t];const{length:e}=t;let s,r;const a={};for(let i=0;i<e;i++){s=t[i];let o;if(r=s,!Gl(s)&&(r=ts[(o=String(s)).toLowerCase()],r===void 0))throw new H(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(Js).join(`
`):" "+Js(i[0]):"as no adapter specified";throw new H("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:ts};function Bt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qe(null,t)}function Ys(t){return Bt(t),t.headers=ge.from(t.headers),t.data=Dt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Zn.getAdapter(t.adapter||st.adapter)(t).then(function(r){return Bt(t),r.data=Dt.call(t,t.transformResponse,r),r.headers=ge.from(r.headers),r},function(r){return Gn(r)||(Bt(t),r&&r.response&&(r.response.data=Dt.call(t,t.transformResponse,r.response),r.response.headers=ge.from(r.response.headers))),Promise.reject(r)})}const er="1.8.4",Pt={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Pt[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Ks={};Pt.transitional=function(e,s,r){function a(i,o){return"[Axios v"+er+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(e===!1)throw new H(a(o," has been removed"+(s?" in "+s:"")),H.ERR_DEPRECATED);return s&&!Ks[o]&&(Ks[o]=!0,console.warn(a(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(i,o,l):!0}};Pt.spelling=function(e){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Jl(t,e,s){if(typeof t!="object")throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const i=r[a],o=e[i];if(o){const l=t[i],u=l===void 0||o(l,i,t);if(u!==!0)throw new H("option "+i+" must be "+u,H.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new H("Unknown option "+i,H.ERR_BAD_OPTION)}}const gt={assertOptions:Jl,validators:Pt},xe=gt.validators;let Pe=class{constructor(e){this.defaults=e,this.interceptors={request:new Ds,response:new Ds}}async request(e,s){try{return await this._request(e,s)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=Oe(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:i}=s;r!==void 0&&gt.assertOptions(r,{silentJSONParsing:xe.transitional(xe.boolean),forcedJSONParsing:xe.transitional(xe.boolean),clarifyTimeoutError:xe.transitional(xe.boolean)},!1),a!=null&&(N.isFunction(a)?s.paramsSerializer={serialize:a}:gt.assertOptions(a,{encode:xe.function,serialize:xe.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),gt.assertOptions(s,{baseUrl:xe.spelling("baseURL"),withXsrfToken:xe.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&N.merge(i.common,i[s.method]);i&&N.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),s.headers=ge.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(s)===!1||(u=u&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let g,m=0,w;if(!u){const f=[Ys.bind(this),void 0];for(f.unshift.apply(f,l),f.push.apply(f,d),w=f.length,g=Promise.resolve(s);m<w;)g=g.then(f[m++],f[m++]);return g}w=l.length;let v=s;for(m=0;m<w;){const f=l[m++],x=l[m++];try{v=f(v)}catch(p){x.call(this,p);break}}try{g=Ys.call(this,v)}catch(f){return Promise.reject(f)}for(m=0,w=d.length;m<w;)g=g.then(d[m++],d[m++]);return g}getUri(e){e=Oe(this.defaults,e);const s=Yn(e.baseURL,e.url,e.allowAbsoluteUrls);return Vn(s,e.params,e.paramsSerializer)}};N.forEach(["delete","get","head","options"],function(e){Pe.prototype[e]=function(s,r){return this.request(Oe(r||{},{method:e,url:s,data:(r||{}).data}))}});N.forEach(["post","put","patch"],function(e){function s(r){return function(i,o,l){return this.request(Oe(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Pe.prototype[e]=s(),Pe.prototype[e+"Form"]=s(!0)});let Yl=class tr{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,l){r.reason||(r.reason=new qe(i,o,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=r=>{e.abort(r)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new tr(function(a){e=a}),cancel:e}}};function Kl(t){return function(s){return t.apply(null,s)}}function Ql(t){return N.isObject(t)&&t.isAxiosError===!0}const ss={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ss).forEach(([t,e])=>{ss[e]=t});function sr(t){const e=new Pe(t),s=Pn(Pe.prototype.request,e);return N.extend(s,Pe.prototype,e,{allOwnKeys:!0}),N.extend(s,e,null,{allOwnKeys:!0}),s.create=function(a){return sr(Oe(t,a))},s}const se=sr(st);se.Axios=Pe;se.CanceledError=qe;se.CancelToken=Yl;se.isCancel=Gn;se.VERSION=er;se.toFormData=At;se.AxiosError=H;se.Cancel=se.CanceledError;se.all=function(e){return Promise.all(e)};se.spread=Kl;se.isAxiosError=Ql;se.mergeConfig=Oe;se.AxiosHeaders=ge;se.formToJSON=t=>qn(N.isHTMLForm(t)?new FormData(t):t);se.getAdapter=Zn.getAdapter;se.HttpStatusCode=ss;se.default=se;const{Axios:Gd,AxiosError:Jd,CanceledError:Yd,isCancel:Kd,CancelToken:Qd,VERSION:Xd,all:Zd,Cancel:eu,isAxiosError:tu,spread:su,toFormData:nu,AxiosHeaders:ru,HttpStatusCode:au,formToJSON:iu,getAdapter:ou,mergeConfig:lu}=se;class Xl{constructor(e={},s={}){Q(this,"axiosInstance");Q(this,"retryConfig");this.axiosInstance=se.create(e),this.retryConfig={maxRetries:s.maxRetries||3,retryDelay:s.retryDelay||1e3,retryStatusCodes:s.retryStatusCodes||[408,429,500,502,503,504]},this.setupInterceptors()}setupInterceptors(){this.axiosInstance.interceptors.response.use(e=>e,async e=>{const s=e.config;if((!s||!s.retry)&&(s.retry=0),s.retry<this.retryConfig.maxRetries&&(!e.response||e.response&&this.retryConfig.retryStatusCodes.includes(e.response.status))){s.retry+=1;const r=this.retryConfig.retryDelay*Math.pow(2,s.retry-1);return await new Promise(a=>setTimeout(a,r)),this.axiosInstance(s)}return Promise.reject(e)})}async get(e,s){return this.axiosInstance.get(e,s)}async post(e,s,r){return this.axiosInstance.post(e,s,r)}async put(e,s,r){return this.axiosInstance.put(e,s,r)}async delete(e,s){return this.axiosInstance.delete(e,s)}}const Zl=new Xl,ec={twi:"female-1",ga:"female-1",ewe:"female-1",dagbani:"female-1",hausa:"female-1",english:"en-US-Standard-F"},Qs=50,tc=7*24*60*60*1e3;class sc{constructor(e){Q(this,"apiKey");Q(this,"defaultVoices");Q(this,"cache",[]);Q(this,"enableOfflineMode");Q(this,"cacheAudio");Q(this,"remoteTTSEndpoint");Q(this,"audioElement",null);this.apiKey=(e==null?void 0:e.apiKey)||"hf-your-huggingface-api-key",this.defaultVoices={...ec,...(e==null?void 0:e.defaultVoices)||{}},this.enableOfflineMode=(e==null?void 0:e.enableOfflineMode)||!0,this.cacheAudio=(e==null?void 0:e.cacheAudio)!==!1&&!0;const s="http://localhost:5002/api";this.remoteTTSEndpoint=(e==null?void 0:e.remoteTTSEndpoint)||`${s}/tts`,typeof window<"u"&&(this.audioElement=new Audio),this.loadCacheFromStorage()}loadCacheFromStorage(){if(!(!this.cacheAudio||typeof localStorage>"u"))try{const e=localStorage.getItem("ttsAudioCache");e&&(this.cache=JSON.parse(e))}catch(e){console.error("Failed to load TTS audio cache:",e)}}saveCacheToStorage(){if(!(!this.cacheAudio||typeof localStorage>"u"||this.cache.length===0))try{const e=JSON.stringify(this.cache.map(({text:s,language:r,timestamp:a})=>({text:s,language:r,timestamp:a})));localStorage.setItem("ttsAudioCache",e)}catch(e){console.error("Failed to save TTS audio cache:",e)}}getCachedAudio(e,s){if(!this.cacheAudio)return null;const r=this.cache.find(a=>a.text===e&&a.language===s&&a.blob);return r&&r.blob?(this.updateCacheTimestamp(e,s),r.blob):null}addToCache(e,s,r){if(!this.cacheAudio)return;const a=Date.now();this.cache=this.cache.filter(i=>a-i.timestamp<tc),this.cache=[{text:e,language:s,blob:r,timestamp:a},...this.cache.filter(i=>!(i.text===e&&i.language===s))],this.cache.length>Qs&&(this.cache=this.cache.slice(0,Qs)),this.saveCacheToStorage()}updateCacheTimestamp(e,s){this.cache=this.cache.map(r=>r.text===e&&r.language===s?{...r,timestamp:Date.now()}:r),this.saveCacheToStorage()}async speak(e){const{text:s,language:r,voice:a,pitch:i=1,rate:o=1,volume:l=1}=e;if(!s)return!1;try{const u=this.getCachedAudio(s,r);if(u)return this.playAudioBlob(u,o,l);if(!navigator.onLine&&!u){if(this.enableOfflineMode)return this.speakWithWebSpeech(s,r,i,o,l);throw new Error("Device is offline and no cached audio available")}const d=await this.fetchAudioFromAPI(s,r,a,i,o,l);return this.addToCache(s,r,d),this.playAudioBlob(d,o,l)}catch(u){return console.error("TTS error:",u),this.speakWithWebSpeech(s,r,i,o,l)}}async fetchAudioFromAPI(e,s,r,a=1,i=1,o=1){const l={text:e,language:s,voice:r||this.defaultVoices[s],pitch:a,rate:i,volume:o},u={"Content-Type":"application/json"};this.apiKey&&(u.Authorization=`Bearer ${this.apiKey}`);try{const d=await Zl.post(this.remoteTTSEndpoint,l,{headers:u});return d.data&&typeof d.data=="object"&&d.data.success?(console.log("Mock TTS response received:",d.data),new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,0,0,0,0,76,65,77,69])],{type:"audio/mpeg"})):d.data}catch(d){throw console.error("Error fetching audio:",d),new Error(`Failed to fetch audio: ${d.message}`)}}playAudioBlob(e,s=1,r=1){return new Promise((a,i)=>{if(!this.audioElement){i(new Error("Audio element not available"));return}this.stop();const o=URL.createObjectURL(e);this.audioElement.src=o,this.audioElement.playbackRate=s,this.audioElement.volume=r,this.audioElement.onplay=()=>a(!0),this.audioElement.onerror=()=>{URL.revokeObjectURL(o),i(new Error("Audio playback error"))},this.audioElement.onended=()=>{URL.revokeObjectURL(o)},this.audioElement.play().catch(l=>{URL.revokeObjectURL(o),i(l)})})}speakWithWebSpeech(e,s,r=1,a=1,i=1){if(typeof window>"u"||!("speechSynthesis"in window))return!1;try{window.speechSynthesis.cancel();const o=new SpeechSynthesisUtterance(e),l=window.speechSynthesis.getVoices(),u=s==="english"?"en":s,d=l.find(g=>g.lang.startsWith(u));return d&&(o.voice=d),o.lang=s==="english"?"en-US":`${s}-GH`,o.pitch=r,o.rate=a,o.volume=i,window.speechSynthesis.speak(o),!0}catch(o){return console.error("Web Speech API error:",o),!1}}stop(){typeof window<"u"&&"speechSynthesis"in window&&window.speechSynthesis.cancel(),this.audioElement&&(this.audioElement.pause(),this.audioElement.currentTime=0)}isVoiceAvailable(e){if(typeof window>"u"||!("speechSynthesis"in window))return!1;const s=window.speechSynthesis.getVoices(),r=e==="english"?"en":e;return s.some(a=>a.lang.startsWith(r))}async preloadCommonPhrases(e,s){if(!navigator.onLine||!this.cacheAudio)return 0;let r=0;for(const a of e)try{if(this.getCachedAudio(a,s)){r++;continue}const i=await this.fetchAudioFromAPI(a,s);this.addToCache(a,s,i),r++}catch(i){console.error(`Failed to preload phrase: "${a}"`,i)}return r}getAvailableVoices(){return typeof window>"u"||!("speechSynthesis"in window)?[]:window.speechSynthesis.getVoices()}setAPIKey(e){this.apiKey=e,console.log("TTSService API key updated")}updateConfig(e){e.apiKey&&(this.apiKey=e.apiKey),e.defaultVoices&&(this.defaultVoices={...this.defaultVoices,...e.defaultVoices}),e.remoteTTSEndpoint&&(this.remoteTTSEndpoint=e.remoteTTSEndpoint),e.enableOfflineMode!==void 0&&(this.enableOfflineMode=e.enableOfflineMode),e.cacheAudio!==void 0&&(this.cacheAudio=e.cacheAudio),console.log("TTSService configuration updated")}}const ns=new sc,ot={twi:["Akwaaba (Welcome)","Me din de... (My name is...)","Wo ho te sɛn? (How are you?)","Medaase (Thank you)","Yɛbɛhyia bio (See you again)"],ga:["Ogekoo (Welcome)","Mibii ji... (My name is...)","Te ofe? (How are you?)","Oyiwaladon (Thank you)","Wo miimɔ̃ ekoŋŋ (See you again)"],ewe:["Woezɔ (Welcome)","Ŋkɔnye enye... (My name is...)","Efɔ̃ a? (How are you?)","Akpe (Thank you)","Míakpɔ mía nɔewo (See you again)"],hausa:["Sannu (Welcome)","Sunana... (My name is...)","Yaya lafiya? (How are you?)","Na gode (Thank you)","Sai mun sadu (See you again)"],english:["Welcome to TalkGhana","My name is...","How are you?","Thank you","See you again"],dagbani:["Desiba! This is TalkGhana","I can help you communicate in Dagbani","Try saying some basic phrases","You can also type if you prefer"]},nc=()=>{const{currentLanguage:t,setLanguage:e}=Ve(),{preferences:s}=fe(),[r,a]=c.useState(""),[i,o]=c.useState(!1),[l,u]=c.useState(!1),[d,g]=c.useState(null),[m,w]=c.useState(!0),[v,f]=c.useState(null),[x,p]=c.useState(!1),[b,C]=c.useState(!1),k=ns;c.useEffect(()=>{var j;((j=ot[t])==null?void 0:j.length)>0?a(ot[t][0]):a(""),g(null),f(null)},[t]);const T=async()=>{if(!(!r||i)){o(!0),C(!0),g({text:"Processing speech...",type:"info"});try{await k.speak({text:r,language:t,pitch:1,rate:1,volume:1}),g({text:"Speech synthesis complete",type:"success"})}catch(j){console.error("Speech error:",j),g({text:"Failed to synthesize speech. Please try again.",type:"error"})}finally{o(!1),C(!1)}}},A=async j=>{p(!0),C(!0);try{j?(g({text:"Using advanced synthesis...",type:"info"}),await k.speak({text:r,language:t,pitch:1.2,rate:1,volume:1})):(g({text:"Using standard TTS...",type:"info"}),await k.speak({text:r,language:t,pitch:1,rate:1,volume:1}))}catch(R){console.error("Speech comparison error:",R)}finally{p(!1),C(!1),g(null)}},$=async j=>{f(j),C(!0);try{g({text:"Thank you for your feedback! This helps improve our models.",type:"success"})}catch(R){console.error("Error submitting feedback:",R),g({text:"Error submitting feedback.",type:"error"})}finally{C(!1),setTimeout(()=>{g(null)},3e3)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>u(!l),className:`w-full flex justify-between items-center px-4 py-2 rounded-lg border ${s.highContrast?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-300"}`,"aria-haspopup":"listbox","aria-expanded":l,children:[n.jsx("span",{className:"truncate",children:r||"Select a phrase"}),n.jsx(Ua,{size:16})]}),l&&n.jsx("ul",{className:`absolute z-10 w-full mt-1 rounded-lg shadow-lg ${s.highContrast?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"}`,role:"listbox",children:ot[t].map((j,R)=>n.jsx("li",{onClick:()=>{a(j),u(!1)},className:`px-4 py-2 cursor-pointer ${s.highContrast?"hover:bg-gray-700":"hover:bg-gray-100"} ${j===r?s.highContrast?"bg-blue-800":"bg-blue-100":""}`,role:"option","aria-selected":j===r,children:j},R))})]})}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("button",{onClick:T,disabled:i||!r||b,className:`flex items-center gap-2 px-4 py-2 rounded-lg ${i||!r||b?"bg-gray-400 cursor-not-allowed":s.highContrast?"bg-blue-700 hover:bg-blue-800":"bg-blue-500 hover:bg-blue-600"} text-white`,"aria-label":"Play selected phrase",children:[b?n.jsx(mi,{size:16,className:"animate-spin"}):n.jsx(We,{size:16}),n.jsx("span",{children:i?"Playing...":"Play"})]})})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.keys(ot).map(j=>n.jsx("button",{onClick:()=>e(j),className:`px-3 py-1 text-sm rounded-full ${t===j?s.highContrast?"bg-green-800 text-white":"bg-green-100 text-green-800":s.highContrast?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-700"}`,children:j.charAt(0).toUpperCase()+j.slice(1)},j))}),n.jsxs("div",{className:`p-3 rounded-lg ${s.highContrast?"bg-gray-800":"bg-gray-100"}`,children:[n.jsx("h3",{className:"font-medium mb-2",children:"Compare Speech Quality"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:()=>A(!0),disabled:x||b,className:`px-3 py-1 text-sm rounded-md ${x||b?"bg-gray-400 cursor-not-allowed":s.highContrast?"bg-indigo-700 hover:bg-indigo-800":"bg-indigo-100 text-indigo-800 hover:bg-indigo-200"}`,children:"ESPnet + G2P"}),n.jsx("button",{onClick:()=>A(!1),disabled:x||b,className:`px-3 py-1 text-sm rounded-md ${x||b?"bg-gray-400 cursor-not-allowed":s.highContrast?"bg-purple-700 hover:bg-purple-800":"bg-purple-100 text-purple-800 hover:bg-purple-200"}`,children:"Standard TTS"})]})]}),r&&!b&&!x&&n.jsxs("div",{className:`p-3 rounded-lg ${s.highContrast?"bg-gray-800":"bg-gray-100"}`,children:[n.jsx("h3",{className:"font-medium mb-2",children:"Rate Speech Quality"}),n.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(j=>n.jsx("button",{onClick:()=>$(j),className:`p-1 rounded ${v===j?s.highContrast?"text-yellow-400":"text-yellow-500":s.highContrast?"text-gray-600 hover:text-gray-400":"text-gray-400 hover:text-gray-600"}`,"aria-label":`Rate ${j} star${j!==1?"s":""}`,children:n.jsx(qi,{size:20,fill:v!==null&&j<=v?"currentColor":"none"})},j))})]}),d&&n.jsx("div",{className:`p-3 rounded-lg ${d.type==="success"?s.highContrast?"bg-green-900 text-green-100":"bg-green-100 text-green-800":d.type==="error"?s.highContrast?"bg-red-900 text-red-100":"bg-red-100 text-red-800":s.highContrast?"bg-blue-900 text-blue-100":"bg-blue-100 text-blue-800"}`,children:d.text})]})},nr=({text:t="",language:e="twi",autoPlay:s=!1,onPlayStart:r,onPlayEnd:a,onError:i,showSettings:o=!0})=>{const[l,u]=c.useState(t),[d,g]=c.useState(e),[m,w]=c.useState("default"),[v,f]=c.useState(1),[x,p]=c.useState(1),[b,C]=c.useState(!1),[k,T]=c.useState(null),[A,$]=c.useState(null),[j,R]=c.useState([]),[y,L]=c.useState(!1),z=c.useRef(null);c.useEffect(()=>{t!==l&&u(t)},[t]),c.useEffect(()=>{e!==d&&g(e)},[e]),c.useEffect(()=>{(async()=>{try{const M=await fetch(`/api/tts/voices?language=${d}`);if(M.ok){const B=await M.json();R(B.voices),B.voices.length>0?w(B.voices[0].id):w("default")}else{const B=[{id:"female-1",name:`${d.charAt(0).toUpperCase()+d.slice(1)} Female`,gender:"female"},{id:"male-1",name:`${d.charAt(0).toUpperCase()+d.slice(1)} Male`,gender:"male"}];R(B),w(B[0].id)}}catch(M){console.error("Error fetching voices:",M);const B=[{id:"female-1",name:`${d.charAt(0).toUpperCase()+d.slice(1)} Female`,gender:"female"},{id:"male-1",name:`${d.charAt(0).toUpperCase()+d.slice(1)} Male`,gender:"male"}];R(B),w(B[0].id)}})()},[d]),c.useEffect(()=>{s&&l&&z.current&&!b&&q()},[s,l,b]);const F=async U=>{if(U.preventDefault(),!l.trim()){const M="Please enter some text";$(M),i&&i(M);return}$(null),C(!0),r&&r();try{const M=await fetch("/api/tts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:l,language:d,voice:m,rate:v,pitch:x})}),B=await M.json();if(M.ok)T(B.audioUrl),z.current&&(z.current.load(),z.current.play());else{const K=B.error||"Failed to generate speech";$(K),i&&i(K)}}catch(M){console.error("Error synthesizing speech:",M);const B="Failed to connect to the server";$(B),i&&i(B)}finally{C(!1)}},q=async()=>{if(!l.trim()){const U="Please enter some text";$(U),i&&i(U);return}$(null),C(!0),r&&r();try{const U=`/api/tts?${new URLSearchParams({text:l,language:d,voice:m,rate:v.toString(),pitch:x.toString()})}`;T(U),z.current&&(z.current.load(),z.current.play(),z.current.onended=()=>{a&&a()})}catch(U){console.error("Error streaming speech:",U);const M="Failed to stream audio";$(M),i&&i(M)}finally{C(!1)}},X=()=>{L(!y)};return n.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ghanaian Text-to-Speech"}),A&&n.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md",children:A}),n.jsxs("form",{onSubmit:F,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"text",className:"block text-sm font-medium mb-1",children:"Text to Speak"}),n.jsx("textarea",{id:"text",value:l,onChange:U=>u(U.target.value),className:"w-full p-2 border border-gray-300 rounded-md",rows:4,placeholder:"Enter text in a Ghanaian language..."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"language",className:"block text-sm font-medium mb-1",children:"Language"}),n.jsxs("select",{id:"language",value:d,onChange:U=>g(U.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[n.jsx("option",{value:"twi",children:"Twi"}),n.jsx("option",{value:"ga",children:"Ga"}),n.jsx("option",{value:"ewe",children:"Ewe"}),n.jsx("option",{value:"hausa",children:"Hausa"}),n.jsx("option",{value:"english",children:"English"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"voice",className:"block text-sm font-medium mb-1",children:"Voice"}),n.jsx("select",{id:"voice",value:m,onChange:U=>w(U.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:j.length===0?n.jsx("option",{value:"default",children:"Default"}):j.map(U=>n.jsxs("option",{value:U.id,children:[U.name," (",U.gender,")"]},U.id))})]})]}),o&&y&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"speed",className:"block text-sm font-medium mb-1",children:["Speed: ",v.toFixed(1)]}),n.jsx("input",{id:"speed",type:"range",min:"0.5",max:"2.0",step:"0.1",value:v,onChange:U=>f(parseFloat(U.target.value)),className:"w-full"})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"pitch",className:"block text-sm font-medium mb-1",children:["Pitch: ",x.toFixed(1)]}),n.jsx("input",{id:"pitch",type:"range",min:"0.5",max:"2.0",step:"0.1",value:x,onChange:U=>p(parseFloat(U.target.value)),className:"w-full"})]})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 disabled:opacity-50",children:b?"Generating...":"Generate Speech"}),n.jsx("button",{type:"button",onClick:q,disabled:b,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 disabled:opacity-50",children:b?"Streaming...":"Stream Speech"}),o&&n.jsx("button",{type:"button",onClick:X,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-md font-medium","aria-expanded":y,children:y?"Hide Settings":"Show Settings"})]})]}),k&&n.jsxs("div",{className:"mt-6",children:[n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Generated Audio"}),n.jsxs("audio",{ref:z,controls:!0,className:"w-full",onEnded:()=>{a&&a()},children:[n.jsx("source",{src:k,type:"audio/wav"}),"Your browser does not support the audio element."]})]})]})},rr=({language:t="twi",onTranscriptChange:e,onSpeechEnd:s,onError:r})=>{const[a,i]=c.useState(!1),[o,l]=c.useState(null),[u,d]=c.useState(!1),[g,m]=c.useState(null),[w,v]=c.useState(null),f=c.useRef(null),x=c.useRef([]),p=c.useRef(null),b=c.useRef(null),C=async()=>{try{v(null),l(null),m(null),x.current=[];const j=await navigator.mediaDevices.getUserMedia({audio:!0}),R=new MediaRecorder(j);f.current=R,R.ondataavailable=y=>{y.data.size>0&&x.current.push(y.data)},R.onstop=()=>{const y=new Blob(x.current,{type:"audio/wav"});l(y),j.getTracks().forEach(L=>L.stop())},R.start(),i(!0)}catch(j){console.error("Error starting recording:",j);const R="Could not access microphone. Please check permissions.";v(R),i(!1),r&&r(R)}},k=()=>{f.current&&a&&(f.current.stop(),i(!1),s&&s())},T=j=>{var y;const R=(y=j.target.files)==null?void 0:y[0];R&&(v(null),l(R),m(null))},A=async()=>{if(!o){const j="No audio to transcribe";v(j),r&&r(j);return}d(!0),v(null);try{const j=new FormData;j.append("audio",o),j.append("language",t);const R=await fetch("/api/asr/whisper",{method:"POST",body:j}),y=await R.json();if(R.ok)m(y),e&&y.text&&e(y.text,y.confidence),s&&s();else{const L=y.error||"Failed to transcribe audio";v(L),r&&r(L)}}catch(j){console.error("Error transcribing audio:",j);const R="Failed to connect to the server";v(R),r&&r(R)}finally{d(!1)}},$=()=>!g||!g.words?null:n.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:g.words.map((j,R)=>n.jsx("span",{className:"inline-block px-1 py-0.5 m-0.5 rounded cursor-pointer hover:bg-blue-100",title:`${j.start.toFixed(2)}s - ${j.end.toFixed(2)}s`,onClick:()=>{p.current&&(p.current.currentTime=j.start,p.current.play())},children:j.word},R))});return n.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ghanaian Speech Recognition"}),w&&n.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md",children:w}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"language",className:"block text-sm font-medium mb-1",children:"Language"}),n.jsx("div",{className:"p-2 border border-gray-300 rounded-md bg-gray-50",children:n.jsx("span",{children:t.charAt(0).toUpperCase()+t.slice(1)})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[n.jsx("button",{onClick:a?k:C,className:`px-4 py-2 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-opacity-50 ${a?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}`,disabled:u,children:a?"Stop Recording":"Record Audio"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"file",ref:b,onChange:T,accept:"audio/*",className:"hidden",disabled:a||u}),n.jsx("button",{onClick:()=>{var j;return(j=b.current)==null?void 0:j.click()},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50",disabled:a||u,children:"Upload Audio"})]})]}),o&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Recorded Audio"}),n.jsxs("audio",{ref:p,controls:!0,className:"w-full",children:[n.jsx("source",{src:URL.createObjectURL(o),type:"audio/wav"}),"Your browser does not support the audio element."]}),n.jsx("button",{onClick:A,disabled:u,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 disabled:opacity-50",children:u?"Transcribing...":"Transcribe Audio"})]}),g&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Transcript"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Confidence: ",(g.confidence*100).toFixed(1),"%"]})]}),n.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-md",children:n.jsx("p",{className:"text-lg",children:g.text})}),n.jsx("h4",{className:"text-md font-medium mt-4 mb-2",children:"Word Timestamps"}),$()]})]})]})},rc=()=>{const t=St(),{t:e}=Ve(),{preferences:s}=fe(),[r,a]=c.useState(!1),[i,o]=c.useState(!1),[l,u]=c.useState(!1),[d,g]=c.useState({type:"success",message:"",visible:!1}),m=()=>{g({type:"processing",message:"Emergency mode activated",visible:!0})},w=()=>{u(!0)};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"TalkGhana"}),n.jsx("p",{className:"text-xl text-gray-600",children:"Speech synthesis and recognition for Ghanaian languages"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[n.jsx("div",{children:n.jsx(nr,{})}),n.jsx("div",{children:n.jsx(rr,{})})]})]}),n.jsxs("div",{className:"flex flex-col space-y-6 py-4",children:[n.jsx(wo,{type:d.type,message:d.message,isVisible:d.visible}),n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:`${s.largeText?"text-4xl":"text-3xl"} font-bold text-blue-600`,children:e("homeTitle")}),n.jsx("p",{className:"mt-2 text-gray-600",children:e("homeSubtitle")})]}),n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Rn,{className:"text-red-500 mr-3",size:24}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-bold text-red-800",children:"Emergency Quick Access"}),n.jsx("p",{className:"text-red-600 text-sm",children:"Fast access to emergency communication"})]})]}),n.jsxs("button",{onClick:m,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 flex items-center","aria-label":"Emergency communication",children:[n.jsx("span",{className:"mr-1",children:"Emergency"}),n.jsx(Ia,{size:16})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto w-full",children:[n.jsx(it,{icon:n.jsx(En,{size:24}),label:"Conversation",onClick:()=>t("/conversation"),color:"blue",size:"lg"}),n.jsx(it,{icon:n.jsx(Fe,{size:24}),label:"Commands",onClick:()=>t("/voice-commands"),color:"green",size:"lg"}),n.jsx(it,{icon:n.jsx(Ye,{size:24}),label:"Settings",onClick:()=>t("/settings"),color:"purple",size:"lg"}),n.jsx(it,{icon:n.jsx(pt,{size:24}),label:"Accessibility",onClick:w,color:"yellow",size:"lg"})]}),n.jsxs("div",{className:`rounded-lg shadow-md p-4 ${s.highContrast?"bg-gray-900":"bg-white"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Enhanced Ghanaian Speech"}),n.jsx("button",{onClick:()=>a(!r),className:`px-3 py-1 rounded-md text-sm ${s.highContrast?"bg-blue-700 text-white hover:bg-blue-800":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:r?"Hide Demo":"Show Demo"})]}),r?n.jsx(nc,{}):n.jsx("p",{className:`${s.highContrast?"text-gray-300":"text-gray-600"}`,children:"Try our enhanced speech capabilities for Ghanaian languages with improved pronunciation, phonetic mappings, and natural-sounding voices."})]}),n.jsxs("div",{className:`rounded-lg shadow-md p-4 ${s.highContrast?"bg-gray-900":"bg-white"}`,children:[n.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Recently Used"}),n.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:[{icon:"💧",text:"I need water"},{icon:"🆘",text:"Help me"},{icon:"🚻",text:"Bathroom"},{icon:"👋",text:"Hello"},{icon:"🙏",text:"Thank you"},{icon:"❌",text:"No"}].map((v,f)=>n.jsxs("button",{onClick:()=>{g({type:"success",message:`Speaking: "${v.text}"`,visible:!0})},className:`flex flex-col items-center justify-center p-3 rounded-lg ${s.highContrast?"bg-gray-800 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:[n.jsx("span",{className:"text-2xl",role:"img","aria-label":v.text,children:v.icon}),n.jsx("span",{className:`mt-1 text-xs ${s.largeText?"text-sm":""} text-center`,children:v.text})]},f))})]}),n.jsxs("div",{className:`rounded-lg shadow-md p-4 ${s.highContrast?"bg-gray-900":"bg-white"}`,children:[n.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Tips & Guides"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{onClick:()=>o(!0),className:`w-full text-left p-3 rounded-lg flex items-center ${s.highContrast?"bg-gray-800 hover:bg-gray-700":"bg-blue-50 hover:bg-blue-100"}`,children:[n.jsx("div",{className:"bg-blue-500 text-white p-2 rounded-full mr-3",children:n.jsx(pt,{size:18})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"App Tutorial"}),n.jsx("p",{className:`text-sm ${s.highContrast?"text-gray-400":"text-gray-600"}`,children:"Learn how to use all features of TalkGhana"})]})]}),n.jsxs("button",{onClick:()=>t("/voice-commands"),className:`w-full text-left p-3 rounded-lg flex items-center ${s.highContrast?"bg-gray-800 hover:bg-gray-700":"bg-green-50 hover:bg-green-100"}`,children:[n.jsx("div",{className:"bg-green-500 text-white p-2 rounded-full mr-3",children:n.jsx(Fe,{size:18})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Create Custom Commands"}),n.jsx("p",{className:`text-sm ${s.highContrast?"text-gray-400":"text-gray-600"}`,children:"Set up personalized voice commands for your needs"})]})]})]})]}),n.jsx(vo,{isOpen:i,onClose:()=>o(!1)}),n.jsx(jo,{isOpen:l,onClose:()=>u(!1)})]})]})},ac={code:"tw-GH",name:"Twi",nativeName:"Twi",speechRecognition:{code:"tw-GH",fallback:"en-GH"},textToSpeech:{code:"tw-GH",fallback:"en-GH",voicePreferences:["Akua","Kwame"]},commands:{help:"Boa me",yes:"Aane",no:"Daabi",emergency:"Ɔhaw",thankyou:"Medaase",water:"Me pɛ nsuo",food:"Me pɛ aduane",bathroom:"Me pɛ toilet",pain:"Me wɔ yaw",medicine:"Me pɛ medicine",cold:"Awɔw de me",hot:"Ahuhuro de me"},conversations:{greeting:"Akwaaba",howAreYou:"Wo ho te sɛn?",imFine:"Me ho ye",goodbye:"Yɛ be hyia bio",understand:"Me te aseɛ",dontUnderstand:"Me nte aseɛ",speakSlowly:"Kasa brɛoo",repeat:"Mesrɛ wo, san ka bio"}},ic={code:"gaa-GH",name:"Ga",nativeName:"Gã",speechRecognition:{code:"gaa-GH",fallback:"en-GH"},textToSpeech:{code:"gaa-GH",fallback:"en-GH",voicePreferences:["Nii","Amerley"]},commands:{help:"Ye mi boa",yes:"Hɛɛ",no:"Daabi",emergency:"Amrɔ Shia",thankyou:"Oyiwaladon",water:"Mi tao nu",food:"Mi tao niyenii",bathroom:"Mi tao toilet",pain:"Mi ye piɛ",medicine:"Mi tao tsofaa",cold:"Fɛi mii ye",hot:"Ŋulami mii ye"},conversations:{greeting:"Ŋɛɛ",howAreYou:"Te ohe?",imFine:"Mi ye ojogbaŋŋ",goodbye:"Oyi wala",understand:"Mi nu shishi",dontUnderstand:"Mi nu shishi jeee",speakSlowly:"Wie blee",repeat:"Ofaine ha, wie eko"}},oc={code:"ee-GH",name:"Ewe",nativeName:"Eʋegbe",speechRecognition:{code:"ee-GH",fallback:"en-GH"},textToSpeech:{code:"ee-GH",fallback:"en-GH",voicePreferences:["Edem","Efua"]},commands:{help:"Kpe ɖe ŋunye",yes:"Ɛ",no:"Ao",emergency:"Dzodzo Xaxa",thankyou:"Akpe",water:"Medi tsi",food:"Medi nuɖuɖu",bathroom:"Medi toilet",pain:"Mele veve sem",medicine:"Medi atike",cold:"Vuvɔ le fu ɖem",hot:"Dzodzo le fu ɖem"},conversations:{greeting:"Woezor",howAreYou:"Aleke nèle?",imFine:"Mele nyuie",goodbye:"Heyi nyuie",understand:"Mese egɔme",dontUnderstand:"Nyemese egɔme o",speakSlowly:"Ƒo nu blewu",repeat:"Meɖe kuku, gblɔe ake"}},lc={code:"ha-GH",name:"Hausa",nativeName:"Hausa",speechRecognition:{code:"ha-GH",fallback:"en-GH"},textToSpeech:{code:"ha-GH",fallback:"en-GH",voicePreferences:["ha-GH-Standard-A","ha-GH-Standard-B"]},commands:{help:"Taimako",yes:"Eh",no:"A'a",emergency:"Gaggawa",thankyou:"Na gode",water:"Ina buƙatar ruwa",food:"Ina jin yunwa",bathroom:"Ina buƙatar bandaki",pain:"Ina jin zafi",medicine:"Ina buƙatar magani",cold:"Ina jin sanyi",hot:"Ina jin zafi"},conversations:{greeting:"Sannu",howAreYou:"Yaya kake?",imFine:"Ina lafiya",goodbye:"Sai an jima",understand:"Na fahimta",dontUnderstand:"Ban fahimta ba",speakSlowly:"Don Allah, yi magana a hankali",repeat:"Don Allah, sake faɗi"}},cc={twi:ac,ga:ic,ewe:oc,hausa:lc,english:{code:"en-GH",name:"English",nativeName:"English",speechRecognition:{code:"en-GH",fallback:"en-US"},textToSpeech:{code:"en-GH",fallback:"en-US",voicePreferences:["en-GH-Standard-A","en-GH-Standard-B"]},commands:{help:"Help me",yes:"Yes",no:"No",emergency:"Emergency",thankyou:"Thank you",water:"I need water",food:"I am hungry",bathroom:"I need the bathroom",pain:"I am in pain",medicine:"I need medicine",cold:"I am cold",hot:"I am hot"},conversations:{greeting:"Hello",howAreYou:"How are you?",imFine:"I am fine",goodbye:"Goodbye",understand:"I understand",dontUnderstand:"I do not understand",speakSlowly:"Please speak slowly",repeat:"Please repeat that"}},dagbani:{code:"dag",name:"Dagbani",nativeName:"Dagbani",speechRecognition:{code:"en-GH",fallback:"en-US"},textToSpeech:{code:"en-GH",fallback:"en-US",voicePreferences:["en-US-Standard-D","en-US-Standard-B"]},commands:{help:"I need help",yes:"Yes",no:"No",stop:"Stop",emergency:"Emergency"},conversations:{greeting:"Desiba",thanks:"Naa",goodbye:"Naa nkaaye"}}};class dc{constructor(){Q(this,"currentLanguage","english");Q(this,"recognition",null);Q(this,"synthesis",null);if(typeof window<"u"){this.synthesis=window.speechSynthesis;const e=window.SpeechRecognition||window.webkitSpeechRecognition;e&&(this.recognition=new e)}}setLanguage(e){this.currentLanguage=e;const s=this.getLanguageConfig();this.recognition&&(this.recognition.lang=s.speechRecognition.code,this.recognition.onerror=r=>{r.error==="language-not-supported"&&(this.recognition.lang=s.speechRecognition.fallback)}),typeof document<"u"&&(document.documentElement.lang=s.code),typeof window<"u"&&window.dispatchEvent(new Event("languagechange"))}getLanguageConfig(){return cc[this.currentLanguage]}getCurrentLanguage(){return this.currentLanguage}getVoiceForLanguage(){if(!this.synthesis)return null;const e=this.getLanguageConfig(),s=this.synthesis.getVoices();for(const a of e.textToSpeech.voicePreferences){const i=s.find(o=>o.name===a);if(i)return i}const r=s.find(a=>a.lang.toLowerCase().includes(e.textToSpeech.code.toLowerCase()));return r||s.find(a=>a.lang.toLowerCase().includes(e.textToSpeech.fallback.toLowerCase()))||null}translateCommand(e){return this.getLanguageConfig().commands[e]||e}translateConversation(e){return this.getLanguageConfig().conversations[e]||e}}const uc=new dc,hc=t=>{const[e,s]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(null),[l,u]=c.useState(0),d=window.SpeechRecognition||window.webkitSpeechRecognition,g=!!d;c.useEffect(()=>{if(!g){o("Browser does not support speech recognition.");return}const f=new d,x=uc.getLanguageConfig();return f.continuous=!0,f.interimResults=!0,f.lang=x.speechRecognition.code,f.onstart=()=>{a(!0),o(null)},f.onerror=p=>{p.error==="language-not-supported"?f.lang=x.speechRecognition.fallback:(o(`Speech recognition error: ${p.error}`),a(!1))},f.onend=()=>{a(!1)},f.onresult=p=>{let b="",C="";for(let k=p.resultIndex;k<p.results.length;k++){const T=p.results[k][0].transcript,A=p.results[k][0].confidence;p.results[k].isFinal?(C+=T,u(A)):b+=T}s(C||b)},()=>{r&&f.stop()}},[t,g]);const m=c.useCallback(()=>{s(""),o(null),g&&new d().start()},[g]),w=c.useCallback(()=>{g&&new d().stop(),a(!1)},[g]),v=c.useCallback(()=>{s(""),u(0)},[]);return{text:e,isListening:r,error:i,confidence:l,startListening:m,stopListening:w,resetText:v,browserSupportsSpeechRecognition:g}},Ae=class Ae{constructor(){Q(this,"isInitialized",!1);Q(this,"availableVoices",new Map);Q(this,"workerInstance",null);Q(this,"modelInstances",new Map);Q(this,"pendingRequests",new Map);Q(this,"audioContext",null);Q(this,"requestCounter",0);Q(this,"voiceCache",new Map);this.initializeWorkerIfSupported();try{typeof window<"u"&&window.AudioContext&&(this.audioContext=new window.AudioContext)}catch(e){console.error("Failed to initialize AudioContext:",e)}this.availableVoices.set("english-default",!1),this.availableVoices.set("twi-default",!1),this.availableVoices.set("ga-default",!1),this.availableVoices.set("ewe-default",!1),this.availableVoices.set("hausa-default",!1),this.loadVoiceCache()}static getInstance(){return Ae.instance||(Ae.instance=new Ae),Ae.instance}initializeWorkerIfSupported(){if(typeof Worker<"u")try{this.workerInstance=new Worker(new URL("/assets/tortoise-tts.worker-EBFLGbnW.js",import.meta.url),{type:"module"}),this.workerInstance.onmessage=this.handleWorkerMessage.bind(this),this.workerInstance.onerror=this.handleWorkerError.bind(this)}catch(e){console.error("Failed to initialize TortoiseTTS worker:",e),this.workerInstance=null}}handleWorkerMessage(e){const{id:s,type:r,data:a,error:i}=e.data,o=this.pendingRequests.get(s);if(!o){console.warn(`Received message for unknown request: ${s}`);return}if(r==="error")o.reject(new Error(i||"Unknown error"));else if(r==="initialize")this.isInitialized=!0,o.resolve(!0);else if(r==="generate")o.resolve(a);else if(r==="loadVoice"){const l=a.voiceKey;this.availableVoices.set(l,!0),o.resolve(!0)}else if(r==="cloneVoice"){const l=a.voiceId,u=`${a.language}-${l}`;this.availableVoices.set(u,!0),o.resolve(l)}this.pendingRequests.delete(s)}handleWorkerError(e){console.error("TortoiseTTS worker error:",e),this.pendingRequests.forEach(s=>{s.reject(new Error("Worker error: "+e.message))}),this.pendingRequests.clear()}async sendToWorker(e,s){if(!this.workerInstance)return this.mockImplementation(e,s);const r=`${e}-${this.requestCounter++}-${Date.now()}`,a=new Promise((o,l)=>{this.pendingRequests.set(r,{resolve:o,reject:l})});this.workerInstance.postMessage({id:r,type:e,data:s});const i=setTimeout(()=>{var o;this.pendingRequests.has(r)&&((o=this.pendingRequests.get(r))==null||o.reject(new Error(`Request ${r} timed out`)),this.pendingRequests.delete(r))},3e4);try{const o=await a;return clearTimeout(i),o}catch(o){throw clearTimeout(i),o}}mockImplementation(e,s){switch(console.log(`TortoiseTTSService: Mock ${e} for ${JSON.stringify(s)}`),e){case"initialize":return this.isInitialized=!0,Promise.resolve(!0);case"generate":const a=22050*1,i=new ArrayBuffer(a*2),o=new Int16Array(i);for(let m=0;m<a;m++)m%1e3===0?o[m]=Math.floor(Math.random()*100):o[m]=0;return new Promise(m=>{setTimeout(()=>m(i),300)});case"loadVoice":const{language:l,voiceId:u}=s,d=`${l}-${u}`;return this.availableVoices.set(d,!0),Promise.resolve(!0);case"cloneVoice":const g=`cloned-${s.language}-${Date.now()}`;return this.availableVoices.set(`${s.language}-${g}`,!0),Promise.resolve(g);default:return Promise.reject(new Error(`Unknown mock operation: ${e}`))}}async initialize(){if(this.isInitialized)return Promise.resolve();try{return await this.sendToWorker("initialize",{}),this.isInitialized=!0,await this.loadDefaultVoices(),Promise.resolve()}catch(e){return console.error("Failed to initialize TortoiseTTS:",e),this.isInitialized=!0,Promise.resolve()}}async loadDefaultVoices(){const s=["english","twi","ga","ewe","hausa"].map(r=>this.loadVoice(r,"default").catch(a=>console.warn(`Failed to load default voice for ${r}:`,a)));await Promise.all(s)}async generateSpeech(e,s={}){this.isInitialized||await this.initialize();const a={...{language:"english",voice:"default",preset:"standard",numSamples:1,numAutoregressiveSamples:4,temperature:.8,lengthPenalty:1,repetitionPenalty:2,topK:50,topP:.8},...s},i=`${a.language}-${a.voice}`;if(!this.availableVoices.get(i))try{await this.loadVoice(a.language,a.voice)}catch(l){throw console.error(`Failed to load voice ${i}:`,l),new Error(`Voice ${i} not available`)}const o=await this.sendToWorker("generate",{text:e,voiceKey:i,config:a});return this.audioContext?this.enhanceAudio(o):o}async enhanceAudio(e){if(!this.audioContext)return e;try{const s=new ArrayBuffer(e.byteLength);new Uint8Array(s).set(new Uint8Array(e));const r=await this.audioContext.decodeAudioData(s),a=r.getChannelData(0),i=this.audioContext.createBuffer(1,r.length,r.sampleRate),o=i.getChannelData(0);try{let m=0;for(let f=0;f<a.length;f++){const x=Math.abs(a[f]),p=x>m?.003:.1;m=m+(x-m)*p;let b=1;if(m>.5){const k=20*Math.log10(m/.5)*(1-1/3);b=Math.pow(10,-k/20)}o[f]=a[f]*b}const w=.2;for(let f=2;f<o.length-2;f++)Math.abs(o[f]-o[f-1])+Math.abs(o[f]-o[f+1])>w&&(o[f]=(o[f-2]+o[f-1]+o[f]+o[f+1]+o[f+2])/5);let v=0;for(let f=0;f<o.length;f++)v=Math.max(v,Math.abs(o[f]));if(v>0&&v<.8){const f=.9/v;for(let x=0;x<o.length;x++)o[x]*=f}}catch(l){console.warn("Audio processing failed, using unprocessed audio:",l);for(let u=0;u<a.length;u++)o[u]=a[u]}try{const l=new OfflineAudioContext(1,i.length,i.sampleRate),u=l.createBufferSource();u.buffer=i,u.connect(l.destination),u.start();const d=await l.startRendering();return this.audioBufferToWav(d)}catch(l){return console.warn("Failed to render processed audio:",l),this.audioBufferToWav(i)}}catch(s){console.error("Audio enhancement failed:",s);const r=new ArrayBuffer(e.byteLength);return new Uint8Array(r).set(new Uint8Array(e)),r}}audioBufferToWav(e){const s=e.numberOfChannels,r=e.sampleRate,a=e.length,i=2,o=s*a*i,u=44+o,d=new ArrayBuffer(u),g=new DataView(d);this.writeWavHeader(g,s,r,i,o);let m=44;for(let w=0;w<a;w++)for(let v=0;v<s;v++){const f=e.getChannelData(v)[w],x=Math.max(-1,Math.min(1,f)),p=x<0?x*32768:x*32767;g.setInt16(m,p,!0),m+=i}return d}writeWavHeader(e,s,r,a,i){this.writeString(e,0,"RIFF"),e.setUint32(4,36+i,!0),this.writeString(e,8,"WAVE"),this.writeString(e,12,"fmt "),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,s,!0),e.setUint32(24,r,!0),e.setUint32(28,r*s*a,!0),e.setUint16(32,s*a,!0),e.setUint16(34,a*8,!0),this.writeString(e,36,"data"),e.setUint32(40,i,!0)}writeString(e,s,r){for(let a=0;a<r.length;a++)e.setUint8(s+a,r.charCodeAt(a))}async loadVoice(e,s){this.isInitialized||await this.initialize();const r=`${e}-${s}`;if(this.availableVoices.get(r))return Promise.resolve();try{return await this.sendToWorker("loadVoice",{language:e,voiceId:s}),this.availableVoices.set(r,!0),Promise.resolve()}catch(a){throw console.error(`Failed to load voice ${r}:`,a),new Error(`Failed to load voice ${r}`)}}async cloneVoice(e,s){this.isInitialized||await this.initialize();try{const r=await this.sendToWorker("cloneVoice",{audioClips:e,language:s});return this.availableVoices.set(`${s}-${r}`,!0),r}catch(r){throw console.error(`Failed to clone voice for ${s}:`,r),new Error(`Failed to clone voice for ${s}`)}}getAvailableVoices(){return Array.from(this.availableVoices.entries()).filter(([,e])=>e).map(([e])=>e)}saveVoiceToCache(e,s){try{if(s.byteLength>5*1024*1024)return;this.voiceCache.set(e,s);const r=new Uint8Array(s);let a="";for(let u=0;u<r.byteLength;u++)a+=String.fromCharCode(r[u]);const i=window.btoa(a);let o=[];const l=localStorage.getItem("tortoise_voice_keys");l&&(o=JSON.parse(l)),o.includes(e)||(o.push(e),localStorage.setItem("tortoise_voice_keys",JSON.stringify(o))),localStorage.setItem(`tortoise_voice_${e}`,i)}catch(r){console.warn("Failed to cache voice:",r)}}loadVoiceCache(){try{const e=localStorage.getItem("tortoise_voice_keys");if(!e)return;JSON.parse(e).forEach(r=>{const a=localStorage.getItem(`tortoise_voice_${r}`);if(a){const i=window.atob(a),o=new Uint8Array(i.length);for(let l=0;l<i.length;l++)o[l]=i.charCodeAt(l);this.voiceCache.set(r,o.buffer),this.availableVoices.set(r,!0)}})}catch(e){console.warn("Failed to load voice cache:",e)}}async stop(){if(this.workerInstance)try{await this.sendToWorker("stop",{})}catch(e){console.warn("Failed to stop TortoiseTTS:",e)}return Promise.resolve()}};Q(Ae,"instance");let rs=Ae;const Xs=rs.getInstance(),ar=t=>{const[e,s]=c.useState(!1),[r,a]=c.useState(null),[i,o]=c.useState(null),[l,u]=c.useState(null),[d,g]=c.useState(null),[m,w]=c.useState(navigator.onLine),v=typeof window<"u"&&"speechSynthesis"in window;c.useEffect(()=>{const p=new(window.AudioContext||window.webkitAudioContext);return u(p),()=>{p.close()}},[]),c.useEffect(()=>{(async()=>{try{const b=`voice_${t}`;await Xs.loadVoice(t,b),o(b)}catch(b){console.error("Failed to load voice:",b),a("Failed to load voice")}})()},[t]);const f=c.useCallback(async(p,b=1,C=1)=>{if(!l){a("Audio context not initialized");return}try{s(!0),a(null),d&&d.stop();const k=await Xs.generateSpeech(p,{language:t,voice:i||"default",preset:"standard"}),T=new ArrayBuffer(k.byteLength);new Uint8Array(T).set(new Uint8Array(k));try{const A=await l.decodeAudioData(T),$=l.createBufferSource();$.buffer=A,b!==1||C!==1?$.playbackRate.value=b*Math.pow(2,(C-1)/12):$.playbackRate.value=b,$.connect(l.destination),$.start(0),g($),$.onended=()=>{s(!1),g(null)}}catch(A){if(console.error("Failed to decode audio data:",A),a("Failed to decode audio data"),s(!1),v&&window.speechSynthesis){const $=new SpeechSynthesisUtterance(p);$.rate=b,$.pitch=C,window.speechSynthesis.speak($)}}}catch(k){if(console.error("Speech generation failed:",k),a("Failed to generate speech"),s(!1),v&&window.speechSynthesis){const T=new SpeechSynthesisUtterance(p);T.rate=b,T.pitch=C,window.speechSynthesis.speak(T)}}},[t,i,l,d,v]),x=c.useCallback(()=>{d&&(d.stop(),g(null)),s(!1)},[d]);return c.useEffect(()=>()=>{x(),l&&l.close()},[x,l]),{speak:f,stop:x,isSpeaking:e,error:r,selectedVoice:i,setSelectedVoice:o,browserSupportsTTS:v,isOnline:m}},re={EMERGENCY:"emergency",DAILY_NEEDS:"daily",CONVERSATIONS:"conversations",CUSTOM:"custom"},gc={[re.EMERGENCY]:["🆘","🚨","🚑","⚠️","❗","🔴","😣"],[re.DAILY_NEEDS]:["🍽️","💧","🚻","💊","🛌","👕","❄️","🔥"],[re.CONVERSATIONS]:["👍","👎","✅","❌","🙏","👋","😊","🤔"],[re.CUSTOM]:["📝","🔧","🛠️","📌","🔍","📢","💬","🎯"]},mc=({command:t,onSave:e,onCancel:s})=>{const{preferences:r}=fe(),[a,i]=c.useState((t==null?void 0:t.text)||""),[o,l]=c.useState((t==null?void 0:t.icon)||""),[u,d]=c.useState((t==null?void 0:t.category)||re.CUSTOM),[g,m]=c.useState(!1);c.useEffect(()=>{t?(i(t.text),l(t.icon),d(t.category)):(i(""),l(""),d(re.CUSTOM))},[t]);const w=()=>{if(!a.trim()){alert("Command text is required");return}if(!o){alert("Please select an icon");return}e({id:(t==null?void 0:t.id)||"",text:a.trim(),icon:o,category:u,isCustom:!0})},v=f=>{l(f),m(!1)};return n.jsxs("div",{className:`p-6 rounded-lg shadow-md ${r.highContrast?"bg-gray-800 text-white":"bg-white"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold",children:t?"Edit Command":"Create New Command"}),n.jsx("button",{onClick:s,className:"p-1 rounded-full hover:bg-gray-200 text-gray-500","aria-label":"Cancel",children:n.jsx(kt,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"command-text",children:"Command Text"}),n.jsx("input",{id:"command-text",type:"text",value:a,onChange:f=>i(f.target.value),placeholder:"What do you want to say...",className:`w-full p-3 border rounded-lg ${r.highContrast?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,autoFocus:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Icon"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>m(!g),className:`w-16 h-16 flex items-center justify-center text-3xl border rounded-lg ${r.highContrast?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-gray-100 hover:bg-gray-200 border-gray-300"}`,children:o||"Select"}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:"text-sm text-gray-500",children:"Select an emoji that represents this command"})})]}),g&&n.jsxs("div",{className:`mt-2 p-3 border rounded-lg grid grid-cols-8 gap-2 ${r.highContrast?"bg-gray-700 border-gray-600":"bg-white border-gray-300"}`,children:[gc[u].map((f,x)=>n.jsx("button",{onClick:()=>v(f),className:`text-2xl p-2 rounded-lg ${r.highContrast?"hover:bg-gray-600":"hover:bg-gray-100"}`,children:f},x)),["👍","👎","👋","🙌","👏","🤝","✋","👆"].map((f,x)=>n.jsx("button",{onClick:()=>v(f),className:`text-2xl p-2 rounded-lg ${r.highContrast?"hover:bg-gray-600":"hover:bg-gray-100"}`,children:f},`common-${x}`))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"category",children:"Category"}),n.jsx("select",{id:"category",value:u,onChange:f=>d(f.target.value),className:`w-full p-3 border rounded-lg capitalize ${r.highContrast?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:Object.values(re).map(f=>n.jsx("option",{value:f,className:"capitalize",children:f},f))})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx("button",{onClick:s,className:`px-4 py-2 rounded-lg ${r.highContrast?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"Cancel"}),n.jsxs("button",{onClick:w,className:`px-4 py-2 rounded-lg flex items-center ${r.highContrast?"bg-blue-700 text-white hover:bg-blue-600":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[n.jsx(Tn,{size:16,className:"mr-1"}),"Save Command"]})]})]})};let fc={data:""},pc=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||fc,xc=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,bc=/\/\*[^]*?\*\/|  +/g,Zs=/\n+/g,Se=(t,e)=>{let s="",r="",a="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?s=i+" "+o+";":r+=i[1]=="f"?Se(o,i):i+"{"+Se(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=Se(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Se.p?Se.p(i,o):i+":"+o+";")}return s+(e&&a?e+"{"+a+"}":a)+r},we={},ir=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+ir(t[s]);return e}return t},yc=(t,e,s,r,a)=>{let i=ir(t),o=we[i]||(we[i]=(u=>{let d=0,g=11;for(;d<u.length;)g=101*g+u.charCodeAt(d++)>>>0;return"go"+g})(i));if(!we[o]){let u=i!==t?t:(d=>{let g,m,w=[{}];for(;g=xc.exec(d.replace(bc,""));)g[4]?w.shift():g[3]?(m=g[3].replace(Zs," ").trim(),w.unshift(w[0][m]=w[0][m]||{})):w[0][g[1]]=g[2].replace(Zs," ").trim();return w[0]})(t);we[o]=Se(a?{["@keyframes "+o]:u}:u,s?"":"."+o)}let l=s&&we.g?we.g:null;return s&&(we.g=we[o]),((u,d,g,m)=>{m?d.data=d.data.replace(m,u):d.data.indexOf(u)===-1&&(d.data=g?u+d.data:d.data+u)})(we[o],e,r,l),o},wc=(t,e,s)=>t.reduce((r,a,i)=>{let o=e[i];if(o&&o.call){let l=o(s),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":Se(l,""):l===!1?"":l}return r+a+(o??"")},"");function Ot(t){let e=this||{},s=t.call?t(e.p):t;return yc(s.unshift?s.raw?wc(s,[].slice.call(arguments,1),e.p):s.reduce((r,a)=>Object.assign(r,a&&a.call?a(e.p):a),{}):s,pc(e.target),e.g,e.o,e.k)}let or,as,is;Ot.bind({g:1});let je=Ot.bind({k:1});function vc(t,e,s,r){Se.p=e,or=t,as=s,is=r}function $e(t,e){let s=this||{};return function(){let r=arguments;function a(i,o){let l=Object.assign({},i),u=l.className||a.className;s.p=Object.assign({theme:as&&as()},l),s.o=/ *go\d+/.test(u),l.className=Ot.apply(s,r)+(u?" "+u:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),is&&d[0]&&is(l),or(d,l)}return a}}var jc=t=>typeof t=="function",os=(t,e)=>jc(t)?t(e):t,Nc=(()=>{let t=0;return()=>(++t).toString()})(),Sc=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Cc=20,lr=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Cc)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:s}=e;return lr(t,{type:t.toasts.find(i=>i.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},kc=[],Wt={toasts:[],pausedAt:void 0},xs=t=>{Wt=lr(Wt,t),kc.forEach(e=>{e(Wt)})},Ec=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||Nc()}),nt=t=>(e,s)=>{let r=Ec(e,t,s);return xs({type:2,toast:r}),r.id},le=(t,e)=>nt("blank")(t,e);le.error=nt("error");le.success=nt("success");le.loading=nt("loading");le.custom=nt("custom");le.dismiss=t=>{xs({type:3,toastId:t})};le.remove=t=>xs({type:4,toastId:t});le.promise=(t,e,s)=>{let r=le.loading(e.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let i=e.success?os(e.success,a):void 0;return i?le.success(i,{id:r,...s,...s==null?void 0:s.success}):le.dismiss(r),a}).catch(a=>{let i=e.error?os(e.error,a):void 0;i?le.error(i,{id:r,...s,...s==null?void 0:s.error}):le.dismiss(r)}),t};var Tc=je`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Rc=je`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$c=je`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ac=$e("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Tc} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Rc} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$c} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Lc=je`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Pc=$e("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Lc} 1s linear infinite;
`,Oc=je`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Mc=je`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zc=$e("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Oc} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Mc} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ic=$e("div")`
  position: absolute;
`,_c=$e("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Fc=je`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Uc=$e("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Fc} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Dc=({toast:t})=>{let{icon:e,type:s,iconTheme:r}=t;return e!==void 0?typeof e=="string"?c.createElement(Uc,null,e):e:s==="blank"?null:c.createElement(_c,null,c.createElement(Pc,{...r}),s!=="loading"&&c.createElement(Ic,null,s==="error"?c.createElement(Ac,{...r}):c.createElement(zc,{...r})))},Bc=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Wc=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Vc="0%{opacity:0;} 100%{opacity:1;}",Hc="0%{opacity:1;} 100%{opacity:0;}",qc=$e("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Gc=$e("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Jc=(t,e)=>{let s=t.includes("top")?1:-1,[r,a]=Sc()?[Vc,Hc]:[Bc(s),Wc(s)];return{animation:e?`${je(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${je(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};c.memo(({toast:t,position:e,style:s,children:r})=>{let a=t.height?Jc(t.position||e||"top-center",t.visible):{opacity:0},i=c.createElement(Dc,{toast:t}),o=c.createElement(Gc,{...t.ariaProps},os(t.message,t));return c.createElement(qc,{className:t.className,style:{...a,...s,...t.style}},typeof r=="function"?r({icon:i,message:o}):c.createElement(c.Fragment,null,i,o))});vc(c.createElement);Ot`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const en=[{id:"help",text:"I need help",icon:"🆘",category:re.EMERGENCY},{id:"emergency",text:"Emergency",icon:"🚨",category:re.EMERGENCY},{id:"water",text:"I need water",icon:"💧",category:re.DAILY_NEEDS},{id:"food",text:"I am hungry",icon:"🍽️",category:re.DAILY_NEEDS},{id:"bathroom",text:"I need the bathroom",icon:"🚻",category:re.DAILY_NEEDS},{id:"pain",text:"I am in pain",icon:"😣",category:re.EMERGENCY},{id:"medicine",text:"I need medicine",icon:"💊",category:re.DAILY_NEEDS},{id:"yes",text:"Yes",icon:"✅",category:re.CONVERSATIONS},{id:"no",text:"No",icon:"❌",category:re.CONVERSATIONS},{id:"thanks",text:"Thank you",icon:"🙏",category:re.CONVERSATIONS},{id:"cold",text:"I am cold",icon:"❄️",category:re.DAILY_NEEDS},{id:"hot",text:"I am hot",icon:"🔥",category:re.DAILY_NEEDS}],Yc=()=>{const{t,currentLanguage:e}=Ve(),{preferences:s}=fe(),[r,a]=c.useState([]),[i,o]=c.useState(null),[l,u]=c.useState(!1),[d,g]=c.useState(!1),[m,w]=c.useState(en),[v,f]=c.useState(en),[x,p]=c.useState(null),[b,C]=c.useState(!1),[k,T]=c.useState(null),[A,$]=c.useState(!1),[j,R]=c.useState(null),{text:y,isListening:L,startListening:z,stopListening:F,resetText:q,browserSupportsSpeechRecognition:X,confidence:U=0}=hc(e),{speak:M,stop:B,isSpeaking:K,browserSupportsTTS:h}=ar(e),S=c.useCallback(()=>{const P=localStorage.getItem("voiceCommands");if(P)try{w(JSON.parse(P)),f(JSON.parse(P))}catch{console.error("Failed to parse saved commands data")}const V=localStorage.getItem("commandUsage");if(V)try{a(JSON.parse(V))}catch{console.error("Failed to parse command usage data")}},[]);c.useEffect(()=>{L&&F(),K&&B();const P=()=>{if(console.log("Language change event received in Voice Commands"),S(),q(),B(),X){const V=window.SpeechRecognition||window.webkitSpeechRecognition;if(V){const W=new V;W.lang=e==="english"?"en-US":e}}if(h){const W=window.speechSynthesis.getVoices().filter(Y=>Y.lang.toLowerCase().includes(e==="english"?"en":e));W.length>0&&R(W[0])}};return window.addEventListener("languagechange",P),P(),()=>{window.removeEventListener("languagechange",P)}},[e,L,K,F,B,S,q,X,h,R]),c.useEffect(()=>{S()},[S]),c.useEffect(()=>{f(x?m.filter(P=>P.category===x):m)},[x,m]),c.useEffect(()=>{if(L&&y){const P=y.toLowerCase();let V=null,W=0;for(const Y of m){const ne=Y.text.toLowerCase().split(" ");let O=0;for(const Z of ne)P.includes(Z)&&Z.length>2&&O++;const G=O/ne.length;G>W&&G>.3&&(W=G,V=Y)}V?(o(V.text),u(!0),g(!0),E(V.id),h&&M(V.text,s.speechRate,s.speechPitch),setTimeout(()=>{u(!1),o(null),F()},3e3)):y.length>10&&(u(!0),g(!1),o(y),setTimeout(()=>{u(!1),o(null)},3e3))}},[y,L,h,M,s.speechRate,s.speechPitch,F,m]);const E=P=>{a(V=>{const W=[...V],Y=W.findIndex(he=>he.id===P);return Y>=0?W[Y]={...W[Y],count:W[Y].count+1}:W.push({id:P,count:1}),W.sort((he,ne)=>ne.count-he.count),localStorage.setItem("commandUsage",JSON.stringify(W)),W})},D=async(P,V)=>{if(!h){le.error("Your browser doesn't support text-to-speech");return}le.loading("Preparing to speak...",{id:"speech-toast"});try{let W=0;const Y=2,he=async()=>{try{return await M(P,s.speechRate,s.speechPitch),!0}catch(ne){return console.error(`Speech attempt ${W+1} failed:`,ne),!1}};for(;W<Y;){if(await he()){le.success("Command spoken successfully",{id:"speech-toast"}),E(V);return}W++,W<Y&&(await new Promise(O=>setTimeout(O,300)),le.loading("Retrying speech...",{id:"speech-toast"}))}if(le.error("Couldn't generate speech after multiple attempts",{id:"speech-toast"}),window.speechSynthesis){le("Using browser's built-in speech",{id:"speech-toast-fallback"});const ne=new SpeechSynthesisUtterance(P);ne.rate=s.speechRate,ne.pitch=s.speechPitch,window.speechSynthesis.speak(ne),E(V)}}catch(W){console.error("Command speech error:",W),le.error("Failed to speak command",{id:"speech-toast"})}},I=P=>{T(P),C(!0)},J=P=>{w(V=>{const W=P.id?V.map(Y=>Y.id===P.id?P:Y):[...V,{...P,id:Date.now().toString(),isCustom:!0}];return localStorage.setItem("voiceCommands",JSON.stringify(W)),W}),C(!1),T(null)},ae=P=>{w(V=>{const W=V.filter(Y=>Y.id!==P);return localStorage.setItem("voiceCommands",JSON.stringify(W)),W})},ie=()=>{const P=JSON.stringify(m),V=`data:application/json;charset=utf-8,${encodeURIComponent(P)}`,W=`talkghana_commands_${new Date().toISOString().slice(0,10)}.json`,Y=document.createElement("a");Y.setAttribute("href",V),Y.setAttribute("download",W),Y.click()},ce=P=>{var Y;const V=(Y=P.target.files)==null?void 0:Y[0];if(!V)return;const W=new FileReader;W.onload=he=>{var ne;try{const O=JSON.parse((ne=he.target)==null?void 0:ne.result);Array.isArray(O)&&(w(O),localStorage.setItem("voiceCommands",JSON.stringify(O)))}catch(O){console.error("Error importing commands:",O),alert("Invalid command file format")}},W.readAsText(V)},oe=[...v].sort((P,V)=>{var he,ne;const W=((he=r.find(O=>O.id===P.id))==null?void 0:he.count)||0;return(((ne=r.find(O=>O.id===V.id))==null?void 0:ne.count)||0)-W}),ye=oe.slice(0,6);return n.jsxs("div",{className:"container mx-auto py-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold",children:t("voiceCommands")}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs("button",{onClick:()=>$(!A),className:`px-3 py-1 rounded-lg text-white text-sm flex items-center ${A?"bg-blue-700":s.highContrast?"bg-blue-700 hover:bg-blue-600":"bg-blue-500 hover:bg-blue-600"}`,children:[n.jsx(Os,{size:16,className:"mr-1"}),A?"Done":"Manage Commands"]})})]}),l&&n.jsx("div",{className:`mb-4 p-4 rounded-lg ${d?"bg-green-100 border-green-500":"bg-yellow-100 border-yellow-500"} border-l-4`,children:n.jsxs("div",{className:"flex items-center",children:[d?n.jsx(Ga,{className:"text-green-500 mr-2",size:20}):n.jsx(Sn,{className:"text-yellow-500 mr-2",size:20}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:d?"Command Recognized":"Not Sure What You Said"}),n.jsx("p",{className:"text-sm",children:i})]})]})}),A&&n.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-gray-50 shadow-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Manage Commands"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>{C(!0),T(null)},className:"px-3 py-1 rounded-lg bg-green-500 text-white text-sm flex items-center",children:[n.jsx(Mi,{size:16,className:"mr-1"}),"New Command"]}),n.jsxs("button",{onClick:ie,className:"px-3 py-1 rounded-lg bg-blue-500 text-white text-sm flex items-center",children:[n.jsx(_e,{size:16,className:"mr-1"}),"Export"]}),n.jsxs("label",{className:"px-3 py-1 rounded-lg bg-blue-500 text-white text-sm flex items-center cursor-pointer",children:[n.jsx(gs,{size:16,className:"mr-1"}),"Import",n.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:ce})]})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Icon"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Command"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(P=>{var W;const V=((W=r.find(Y=>Y.id===P.id))==null?void 0:W.count)||0;return n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-2xl",children:P.icon}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P.text}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:P.category}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:V}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>I(P),className:"p-1 rounded-full text-blue-500 hover:bg-blue-100",children:n.jsx(Os,{size:16})}),P.isCustom&&n.jsx("button",{onClick:()=>ae(P.id),className:"p-1 rounded-full text-red-500 hover:bg-red-100",children:n.jsx(Kt,{size:16})})]})})]},P.id)})})]})})]}),!b&&n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"flex flex-wrap space-x-2 mb-2",children:[n.jsx("button",{onClick:()=>p(null),className:`px-3 py-1 rounded-full text-sm ${x===null?s.highContrast?"bg-blue-700 text-white":"bg-blue-500 text-white":s.highContrast?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}`,children:"All"}),Object.values(re).map(P=>n.jsx("button",{onClick:()=>p(P),className:`px-3 py-1 rounded-full text-sm capitalize ${x===P?s.highContrast?"bg-blue-700 text-white":"bg-blue-500 text-white":s.highContrast?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}`,children:P},P))]})}),!b&&ye.length>0&&!A&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Frequently Used"}),n.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:ye.map(P=>{var V;return(V=r.find(W=>W.id===P.id))!=null&&V.count,n.jsxs("button",{onClick:()=>D(P.text,P.id),className:`flex flex-col items-center justify-center p-2 rounded-lg shadow-sm transition-transform transform hover:scale-105 ${s.highContrast?"bg-slate-800 text-white hover:bg-slate-700":"bg-white hover:bg-blue-50"}`,style:{fontFamily:"'Roboto', sans-serif"},children:[n.jsx("span",{className:"text-2xl",role:"img","aria-label":P.text,children:P.icon}),n.jsx("p",{className:`${s.largeText?"text-sm":"text-xs"} font-medium mt-1 text-center truncate w-full`,children:P.text})]},P.id)})})]}),b?n.jsx(mc,{command:k,onSave:J,onCancel:()=>{C(!1),T(null)}}):n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:oe.map(P=>{var W;const V=((W=r.find(Y=>Y.id===P.id))==null?void 0:W.count)||0;return n.jsxs("button",{onClick:()=>D(P.text,P.id),className:`flex flex-col items-center justify-center p-4 rounded-lg shadow-md transition-transform transform hover:scale-105 ${s.highContrast?"bg-slate-800 text-white hover:bg-slate-700":"bg-white hover:bg-blue-50"}`,style:{fontFamily:"'Roboto', sans-serif"},children:[n.jsx("span",{className:"text-3xl mb-2",role:"img","aria-label":P.text,children:P.icon}),n.jsx("p",{className:`${s.largeText?"text-lg":"text-base"} font-medium`,children:P.text}),n.jsxs("div",{className:"mt-2 flex items-center justify-center",children:[n.jsx(We,{size:16,className:"text-blue-500 mr-1"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Tap to speak"})]}),V>0&&n.jsxs("span",{className:"mt-1 px-2 py-0.5 bg-blue-100 text-blue-800 rounded-full text-xs",children:["Used ",V," times"]})]},P.id)})}),!b&&n.jsxs("div",{className:"mt-8 p-4 rounded-lg bg-blue-100 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-medium text-blue-800",children:"Voice Recognition"}),n.jsx("p",{className:"text-sm text-blue-600",children:"Tap the microphone to recognize speech and convert to commands"}),L&&y&&n.jsxs("div",{className:"mt-2 flex items-center",children:[n.jsx("p",{className:"text-sm font-medium",children:y}),n.jsx(Ma,{size:16,className:"mx-2"}),n.jsx("div",{className:`w-3 h-3 rounded-full ${U>.7?"bg-green-500":U>.4?"bg-yellow-500":"bg-red-500"}`})]})]}),n.jsx("button",{className:`p-4 rounded-full ${L?"bg-red-500 text-white animate-pulse":s.highContrast?"bg-blue-700 text-white":"bg-blue-500 text-white"}`,"aria-label":L?"Stop voice recognition":"Start voice recognition",onClick:()=>L?F():z(),disabled:!X,children:n.jsx(Fe,{size:24})})]}),!b&&!X&&n.jsxs("div",{className:"mt-4 p-4 bg-red-100 text-red-800 rounded-lg",children:[n.jsx("p",{className:"font-medium",children:"Your browser doesn't support speech recognition."}),n.jsx("p",{className:"text-sm",children:"Please try using Google Chrome for this feature."})]})]})};class Kc extends Error{constructor(s,r,a){super(s);Q(this,"code");Q(this,"details");this.name="GhanaianLanguageError",this.code=r,this.details=a}}function bs(t,e){const s=new Date().toISOString();console.error(`[${s}] ERROR: ${t.name}: ${t.message}`),t instanceof Kc&&t.details&&console.error("Details:",t.details),e&&console.error("Context:",e),console.error("Stack trace:",t.stack)}function ys(){return"serviceWorker"in navigator}async function Qc(){if(!ys())return!1;try{const t=await navigator.serviceWorker.getRegistration();return!!t&&!!t.active}catch(t){return bs(new Error("Error checking service worker status"),t),!1}}async function Xc(){var t,e;if(!ys())return{supported:!1,registered:!1,active:!1,waiting:!1,installing:!1,controller:!1};try{const s=await navigator.serviceWorker.getRegistration();return s?{supported:!0,registered:!0,active:!!s.active,waiting:!!s.waiting,installing:!!s.installing,controller:!!navigator.serviceWorker.controller,scope:s.scope,scriptURL:(t=s.active)==null?void 0:t.scriptURL,state:(e=s.active)==null?void 0:e.state}:{supported:!0,registered:!1,active:!1,waiting:!1,installing:!1,controller:!!navigator.serviceWorker.controller}}catch(s){return bs(new Error("Error getting service worker info"),s),{supported:!0,registered:!1,active:!1,waiting:!1,installing:!1,controller:!1}}}async function Zc(){if(!ys())return!1;try{return!await Qc()||!("caches"in window)?!1:(await(await caches.open("ghanaian-language-training-v1")).keys()).length>0}catch(t){return bs(new Error("Error checking offline capability"),t),!1}}const ed=({className:t=""})=>{const[e,s]=c.useState(null),[r,a]=c.useState(null),[i,o]=c.useState(!0),l=async()=>{o(!0);try{const g=await Xc();s(g);const m=await Zc();a(m)}catch(g){console.error("Error checking service worker status:",g)}finally{o(!1)}};c.useEffect(()=>{l()},[]);const u=()=>{l()},d=()=>{window.location.reload()};return i?n.jsxs("div",{className:`sw-status-card ${t}`,role:"status","aria-busy":"true",children:[n.jsxs("div",{className:"sw-status-header",children:[n.jsx(As,{size:20,"aria-hidden":"true"}),n.jsx("h3",{children:"Service Worker Status"})]}),n.jsxs("div",{className:"sw-status-loading",children:[n.jsx(xt,{size:20,className:"sw-loading-icon","aria-hidden":"true"}),n.jsx("p",{children:"Checking service worker status..."})]})]}):n.jsxs("div",{className:`sw-status-card ${t}`,role:"region","aria-label":"Service Worker Status",children:[n.jsxs("div",{className:"sw-status-header",children:[n.jsx(As,{size:20,"aria-hidden":"true"}),n.jsx("h3",{children:"Service Worker Status"}),n.jsx("button",{className:"sw-refresh-button",onClick:u,"aria-label":"Refresh status",title:"Refresh service worker status",tabIndex:0,children:n.jsx(xt,{size:16,"aria-hidden":"true"})})]}),n.jsxs("div",{className:"sw-status-content",children:[n.jsxs("div",{className:"sw-status-item",children:[n.jsx("span",{className:"sw-status-label",children:"Supported:"}),n.jsxs("span",{className:"sw-status-value",children:[e!=null&&e.supported?n.jsx(Je,{size:16,className:"sw-status-icon success","aria-hidden":"true"}):n.jsx(rt,{size:16,className:"sw-status-icon error","aria-hidden":"true"}),e!=null&&e.supported?"Yes":"No"]})]}),n.jsxs("div",{className:"sw-status-item",children:[n.jsx("span",{className:"sw-status-label",children:"Registered:"}),n.jsxs("span",{className:"sw-status-value",children:[e!=null&&e.registered?n.jsx(Je,{size:16,className:"sw-status-icon success","aria-hidden":"true"}):n.jsx(rt,{size:16,className:"sw-status-icon error","aria-hidden":"true"}),e!=null&&e.registered?"Yes":"No"]})]}),n.jsxs("div",{className:"sw-status-item",children:[n.jsx("span",{className:"sw-status-label",children:"Active:"}),n.jsxs("span",{className:"sw-status-value",children:[e!=null&&e.active?n.jsx(Je,{size:16,className:"sw-status-icon success","aria-hidden":"true"}):n.jsx(rt,{size:16,className:"sw-status-icon error","aria-hidden":"true"}),e!=null&&e.active?"Yes":"No"]})]}),n.jsxs("div",{className:"sw-status-item",children:[n.jsx("span",{className:"sw-status-label",children:"Offline Capable:"}),n.jsxs("span",{className:"sw-status-value",children:[r?n.jsx(Je,{size:16,className:"sw-status-icon success","aria-hidden":"true"}):n.jsx(rt,{size:16,className:"sw-status-icon error","aria-hidden":"true"}),r?"Yes":"No"]})]}),(e==null?void 0:e.waiting)&&n.jsxs("div",{className:"sw-status-update",role:"alert",children:[n.jsx("p",{children:"A new version is available!"}),n.jsxs("button",{className:"sw-update-button",onClick:d,"aria-label":"Update application to new version",children:[n.jsx(_e,{size:16,"aria-hidden":"true"}),"Update Now"]})]}),(e==null?void 0:e.scope)&&n.jsxs("div",{className:"sw-status-detail",children:[n.jsx("span",{className:"sw-status-label",children:"Scope:"}),n.jsx("span",{className:"sw-status-value",children:e.scope})]}),(e==null?void 0:e.state)&&n.jsxs("div",{className:"sw-status-detail",children:[n.jsx("span",{className:"sw-status-label",children:"State:"}),n.jsx("span",{className:"sw-status-value",children:e.state})]})]})]})},td=()=>{const{currentLanguage:t,setLanguage:e,t:s}=Ve(),{preferences:r,updatePreference:a}=fe(),[i,o]=c.useState(!1),[l,u]=c.useState({downloaded:!1,size:"0 MB"}),[d,g]=c.useState({}),{speak:m}=ar(t),w=[{id:"english",name:"English"},{id:"twi",name:"Twi"},{id:"ga",name:"Ga"},{id:"ewe",name:"Ewe"},{id:"hausa",name:"Hausa"},{id:"dagbani",name:"Dagbani"}],v=x=>{const p={english:"45 MB",twi:"32 MB",ga:"28 MB",ewe:"30 MB",hausa:"35 MB",dagbani:"33 MB"};g(C=>({...C,[x]:0}));const b=setInterval(()=>{g(C=>{const k=C[x]||0,T=Math.min(k+10,100);return T===100&&(clearInterval(b),u({downloaded:!0,size:p[x]||"30 MB"}),localStorage.setItem(`offline-${x}`,"true")),{...C,[x]:T}})},300)};c.useEffect(()=>{localStorage.getItem(`offline-${t}`)==="true"?(u({downloaded:!0,size:"30 MB"}),g(p=>({...p,[t]:100}))):(u({downloaded:!1,size:"0 MB"}),g(p=>({...p,[t]:0})))},[t]);const f=()=>{i||(o(!0),m(s("speechTestPhrase")||"This is a test of the speech settings with the current rate and pitch."),setTimeout(()=>{o(!1)},5e3))};return n.jsxs("div",{className:"container mx-auto py-4 max-w-2xl",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:s("settings")}),n.jsxs("div",{className:`rounded-lg shadow-md mb-6 overflow-hidden ${r.highContrast?"bg-gray-800":"bg-white"}`,children:[n.jsx("div",{className:"px-4 py-3 bg-blue-500 text-white",children:n.jsxs("h2",{className:"text-lg font-medium flex items-center",children:[n.jsx(ci,{size:20,className:"mr-2"}),s("languageSettings")]})}),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:s("currentLanguage")}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:w.map(x=>n.jsxs("button",{onClick:()=>{e(x.id),setTimeout(()=>{m(`${x.name} selected`)},300)},className:`px-4 py-2 rounded-lg flex items-center justify-between ${t===x.id?r.highContrast?"bg-blue-700 text-white":"bg-blue-100 text-blue-800":r.highContrast?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-100 hover:bg-gray-200"}`,"aria-pressed":t===x.id,children:[n.jsx("span",{children:x.name}),t===x.id&&n.jsx(hs,{size:16,className:"text-green-500"})]},x.id))})]})})]}),n.jsxs("div",{className:`rounded-lg shadow-md mb-6 overflow-hidden ${r.highContrast?"bg-gray-800":"bg-white"}`,children:[n.jsx("div",{className:"px-4 py-3 bg-blue-500 text-white",children:n.jsxs("h2",{className:"text-lg font-medium flex items-center",children:[n.jsx(Fi,{size:20,className:"mr-2"}),s("offlineCapabilities")||"Offline Capabilities"]})}),n.jsxs("div",{className:"p-4",children:[n.jsx(ed,{}),n.jsxs("div",{className:"mb-4 mt-4",children:[n.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",children:[n.jsx(Cn,{size:16,className:"mr-2"}),"Offline Language Data"]}),n.jsxs("div",{className:`p-3 rounded-lg ${r.highContrast?"bg-gray-700":"bg-gray-100"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:`${r.highContrast?"text-white":"text-gray-800"}`,children:t.charAt(0).toUpperCase()+t.slice(1)}),n.jsx("p",{className:"text-sm text-gray-500",children:l.downloaded?`Downloaded (${l.size})`:"Not downloaded"})]}),n.jsx("button",{id:`download-${t}`,onClick:()=>v(t),disabled:l.downloaded,className:`px-3 py-1 rounded text-white text-sm flex items-center ${l.downloaded?"bg-green-500":"bg-blue-500 hover:bg-blue-600"}`,"aria-label":`${l.downloaded?"Downloaded":"Download"} ${t} language model`,children:l.downloaded?"Downloaded":d[t]>0&&d[t]<100?n.jsx("span",{className:"animate-pulse",children:"Downloading..."}):n.jsxs(n.Fragment,{children:[n.jsx(_e,{size:14,className:"mr-1"}),"Download"]})})]}),n.jsx("div",{className:"w-full bg-gray-300 h-2 rounded-full overflow-hidden",children:n.jsx("div",{className:"bg-blue-500 h-full transition-all duration-300",style:{width:`${d[t]||(l.downloaded?100:0)}%`},role:"progressbar","aria-valuenow":d[t]||(l.downloaded?100:0),"aria-valuemin":0,"aria-valuemax":100})})]})]})]})]}),n.jsxs("div",{className:`rounded-lg shadow-md mb-6 overflow-hidden ${r.highContrast?"bg-gray-800":"bg-white"}`,children:[n.jsx("div",{className:"px-4 py-3 bg-blue-500 text-white",children:n.jsx("h2",{className:"text-lg font-medium",children:s("accessibilitySettings")})}),n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"flex items-center",htmlFor:"high-contrast-toggle",children:n.jsx("span",{className:"mr-2",children:s("highContrast")})}),n.jsx("div",{id:"high-contrast-toggle",className:`w-12 h-6 flex items-center rounded-full p-1 cursor-pointer ${r.highContrast?"bg-green-500":"bg-gray-300"}`,onClick:()=>a("highContrast",!r.highContrast),role:"switch","aria-checked":r.highContrast,tabIndex:0,onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),a("highContrast",!r.highContrast))},children:n.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-300 ${r.highContrast?"translate-x-6":""}`})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"flex items-center",htmlFor:"larger-text-toggle",children:n.jsx("span",{className:"mr-2",children:s("largerText")})}),n.jsx("div",{id:"larger-text-toggle",className:`w-12 h-6 flex items-center rounded-full p-1 cursor-pointer ${r.largeText?"bg-green-500":"bg-gray-300"}`,onClick:()=>a("largeText",!r.largeText),role:"switch","aria-checked":r.largeText,tabIndex:0,onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),a("largeText",!r.largeText))},children:n.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-300 ${r.largeText?"translate-x-6":""}`})})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("label",{className:"flex text-sm font-medium mb-2 items-center",htmlFor:"speech-rate",children:[n.jsx(We,{size:16,className:"mr-2"}),s("speechRate")]}),n.jsx("input",{id:"speech-rate",type:"range",min:"0.5",max:"2",step:"0.1",value:r.speechRate,onChange:x=>a("speechRate",parseFloat(x.target.value)),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer","aria-valuemin":.5,"aria-valuemax":2,"aria-valuenow":r.speechRate,"aria-valuetext":`${r.speechRate.toFixed(1)}x`}),n.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[n.jsx("span",{children:s("slower")}),n.jsxs("span",{children:[r.speechRate.toFixed(1),"x"]}),n.jsx("span",{children:s("faster")})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("label",{className:"flex text-sm font-medium mb-2 items-center",htmlFor:"speech-pitch",children:[n.jsx(Ti,{size:16,className:"mr-2"}),s("speechPitch")]}),n.jsx("input",{id:"speech-pitch",type:"range",min:"0.5",max:"1.5",step:"0.1",value:r.speechPitch,onChange:x=>a("speechPitch",parseFloat(x.target.value)),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer","aria-valuemin":.5,"aria-valuemax":1.5,"aria-valuenow":r.speechPitch,"aria-valuetext":`${r.speechPitch.toFixed(1)}`}),n.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[n.jsx("span",{children:s("lower")}),n.jsx("span",{children:r.speechPitch.toFixed(1)}),n.jsx("span",{children:s("higher")})]})]}),n.jsx("div",{className:"mt-4",children:n.jsx("button",{onClick:f,disabled:i,className:`px-4 py-2 rounded-lg text-white ${i?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,"aria-live":"polite",children:s(i?"testing":"testSpeech")})})]})]})]})},sd=()=>{const{t,currentLanguage:e}=Ve(),{preferences:s}=fe(),[r,a]=c.useState(navigator.onLine),[i,o]=c.useState([]),[l,u]=c.useState({totalSize:0,languageModels:0,phraseCache:0,commandCache:0}),[d,g]=c.useState(!0);c.useEffect(()=>{const p=()=>a(!0),b=()=>a(!1);return window.addEventListener("online",p),window.addEventListener("offline",b),()=>{window.removeEventListener("online",p),window.removeEventListener("offline",b)}},[]),c.useEffect(()=>{(async()=>{g(!0);try{const C=["english","twi","ga","ewe","hausa"].filter(k=>localStorage.getItem(`offline-${k}`)==="true");o(C),u({totalSize:15.2,languageModels:12.5,phraseCache:1.8,commandCache:.9})}catch(b){console.error("Error loading offline data:",b)}finally{g(!1)}})()},[]);const m=p=>{console.log(`Downloading ${p} for offline use`),setTimeout(()=>{const b=[...i];b.includes(p)||(b.push(p),o(b),localStorage.setItem(`offline-${p}`,"true"))},2e3)},w=p=>{console.log(`Deleting ${p} from offline storage`);const b=i.filter(C=>C!==p);o(b),localStorage.removeItem(`offline-${p}`)},v=()=>{console.log("Clearing cache"),u({...l,phraseCache:0,commandCache:0})},f=p=>`${p.toFixed(1)} MB`,x=p=>({english:"English",twi:"Twi",ga:"Ga",ewe:"Ewe",hausa:"Hausa"})[p]||p;return d?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h1",{className:`${s.largeText?"text-4xl":"text-3xl"} font-bold text-blue-600`,children:t("offlineMode")}),n.jsx("p",{className:"mt-2 text-gray-600",children:t(r?"online":"offline")})]}),n.jsx("div",{className:`p-4 rounded-lg ${r?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:n.jsxs("div",{className:"flex items-center",children:[r?n.jsx(An,{className:"text-green-500 mr-3",size:24}):n.jsx(Ze,{className:"text-red-500 mr-3",size:24}),n.jsxs("div",{children:[n.jsx("h2",{className:`font-bold ${r?"text-green-800":"text-red-800"}`,children:r?"Online Mode":"Offline Mode"}),n.jsx("p",{className:`text-sm ${r?"text-green-600":"text-red-600"}`,children:r?"You can download languages for offline use":"Using cached content - some features may be limited"})]})]})}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-3 flex items-center",children:[n.jsx(Cn,{className:"mr-2",size:20}),t("storageManagement")]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-700",children:"Total Storage Used:"}),n.jsx("span",{className:"font-medium",children:f(l.totalSize)})]}),n.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500",style:{width:`${l.totalSize/20*100}%`}})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-4",children:[n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Language Models"}),n.jsx("div",{className:"font-bold",children:f(l.languageModels)})]}),n.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Phrase Cache"}),n.jsx("div",{className:"font-bold",children:f(l.phraseCache)})]}),n.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Command Cache"}),n.jsx("div",{className:"font-bold",children:f(l.commandCache)})]})]}),n.jsxs("button",{onClick:v,className:"mt-4 flex items-center px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-md text-gray-700",children:[n.jsx(Kt,{size:16,className:"mr-2"}),t("clearCache")]})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[n.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Available Languages"}),n.jsx("div",{className:"space-y-3",children:["english","twi","ga","ewe","hausa"].map(p=>{const b=i.includes(p);return n.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:x(p)}),n.jsx("div",{className:"text-sm text-gray-600",children:b?"Available offline":"Online only"})]}),n.jsx("div",{children:b?n.jsxs("button",{onClick:()=>w(p),className:"flex items-center px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded-md",disabled:!r&&i.length===1,children:[n.jsx(Kt,{size:16,className:"mr-1"}),"Remove"]}):n.jsxs("button",{onClick:()=>m(p),className:"flex items-center px-3 py-1 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-md",disabled:!r,children:[n.jsx(_e,{size:16,className:"mr-1"}),"Download"]})})]},p)})})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-3 flex items-center",children:[n.jsx(xt,{className:"mr-2",size:20}),"Sync Status"]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Last synced"}),n.jsx("div",{className:"text-sm text-gray-600",children:r?"Just now":"2 hours ago"})]}),n.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md",disabled:!r,children:[n.jsx(xt,{size:16,className:"mr-2"}),"Sync Now"]})]})]})]})},nd=({isLoading:t,message:e="Loading...",progress:s,showSpinner:r=!0,className:a=""})=>{if(!t)return null;const i=typeof s=="number"&&s>=0&&s<=100;return n.jsxs("div",{className:`loading-indicator ${a}`,children:[r&&n.jsx("div",{className:"spinner",children:n.jsx("div",{className:"spinner-inner"})}),e&&n.jsx("div",{className:"loading-message",children:e}),i&&n.jsxs("div",{className:"progress-container",children:[n.jsx("div",{className:"progress-bar",style:{width:`${s}%`}}),n.jsxs("div",{className:"progress-text",children:[Math.round(s),"%"]})]})]})},rd=({className:t=""})=>{const[e,s]=c.useState(!navigator.onLine),[r,a]=c.useState(!1);return c.useEffect(()=>{s(!navigator.onLine),navigator.onLine||a(!0);const i=()=>{s(!1),setTimeout(()=>{a(!1)},3e3)},o=()=>{s(!0),a(!0)};return window.addEventListener("online",i),window.addEventListener("offline",o),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",o)}},[]),!e&&!r?null:n.jsxs("div",{className:`offline-indicator ${e?"offline":"online"} ${t}`,children:[n.jsx(Ze,{size:18}),n.jsx("span",{children:e?"You are offline. Some features may be limited.":"Connection restored. You are back online!"})]})},cr=c.createContext({isOffline:!1,lastOnlineAt:null,cachedResources:[],isSyncPending:!1,syncQueue:[],addToSyncQueue:()=>{},processSyncQueue:async()=>{}}),ad=({children:t})=>{const[e,s]=c.useState(!navigator.onLine),[r,a]=c.useState(navigator.onLine?new Date:null),[i,o]=c.useState([]),[l,u]=c.useState([]),[d,g]=c.useState(!1);c.useEffect(()=>{const f=localStorage.getItem("syncQueue");f&&u(JSON.parse(f)),(async()=>{if("caches"in window)try{const b=await(await caches.open("talkghana-assets")).keys();o(b.map(C=>C.url))}catch(p){console.error("Failed to load cached resources:",p)}})()},[]),c.useEffect(()=>{const f=()=>{s(!1),a(new Date),l.length>0&&w()},x=()=>{s(!0)};return window.addEventListener("online",f),window.addEventListener("offline",x),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",x)}},[l]),c.useEffect(()=>{localStorage.setItem("syncQueue",JSON.stringify(l))},[l]);const m=(f,x)=>{u(p=>[...p,{endpoint:f,data:x,timestamp:Date.now()}])},w=async()=>{if(!(e||d||l.length===0)){g(!0);try{const f=[...l],x=[];for(let b=0;b<f.length;b++){const{endpoint:C,data:k}=f[b];try{(await fetch(C,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)})).ok&&x.push(b)}catch(T){console.error(`Failed to sync item ${b}:`,T)}}const p=f.filter((b,C)=>!x.includes(C));u(p)}finally{g(!1)}}},v={isOffline:e,lastOnlineAt:r,cachedResources:i,isSyncPending:d,syncQueue:l,addToSyncQueue:m,processSyncQueue:w};return n.jsx(cr.Provider,{value:v,children:t})},Me=()=>c.useContext(cr),ze=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),id=t=>t===ze;var wt=()=>/(android)/i.test(typeof navigator<"u"?navigator.userAgent:"");const od=(t,e,s)=>{let r;return function(){const a=this,i=arguments,o=function(){r=null},l=!r;clearTimeout(r),r=setTimeout(o,e),l&&t.apply(a,i)}},vt=(...t)=>t.map(e=>e.trim()).join(" ").trim(),ld=/\s*\((.*?)\)\s*/g,cd=/(\(\?:[^)]+\))\?/g,dd=/(\(\?)?:\w+/g,ud=/\*/g,hd=/[-{}[\]+?.,\\^$|#]/g,gd=t=>t instanceof RegExp?new RegExp(t.source,"i"):(t=t.replace(hd,"\\$&").replace(ld,"(?:$1)?").replace(dd,(e,s)=>s?e:"([^\\s]+)").replace(ud,"(.*?)").replace(cd,"\\s*$1?\\s*"),new RegExp("^"+t+"$","i")),md=(t,e)=>{if(t=t.replace(/\s+/g,"").toLowerCase(),e=e.replace(/\s+/g,"").toLowerCase(),!t.length&&!e.length)return 1;if(!t.length||!e.length)return 0;if(t===e)return 1;if(t.length===1&&e.length===1||t.length<2||e.length<2)return 0;const s=new Map;for(let a=0;a<t.length-1;a++){const i=t.substring(a,a+2),o=s.has(i)?s.get(i)+1:1;s.set(i,o)}let r=0;for(let a=0;a<e.length-1;a++){const i=e.substring(a,a+2),o=s.has(i)?s.get(i):0;o>0&&(s.set(i,o-1),r++)}return 2*r/(t.length+e.length-2)},dr=()=>typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0);function tn(t,e,s,r,a,i,o){try{var l=t[i](o),u=l.value}catch(d){s(d);return}l.done?e(u):Promise.resolve(u).then(r,a)}function lt(t){return function(){var e=this,s=arguments;return new Promise(function(r,a){var i=t.apply(e,s);function o(u){tn(i,r,a,o,l,"next",u)}function l(u){tn(i,r,a,o,l,"throw",u)}o(void 0)})}}class Vt{setSpeechRecognition(e){const s=!!e&&(id(e)||dr());s&&(this.disableRecognition(),this.recognition=new e,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(s)}subscribe(e,s){this.subscribers[e]=s}unsubscribe(e){delete this.subscribers[e]}emitListeningChange(e){this.listening=e,Object.keys(this.subscribers).forEach(s=>{const{onListeningChange:r}=this.subscribers[s];r(e)})}emitMicrophoneAvailabilityChange(e){this.isMicrophoneAvailable=e,Object.keys(this.subscribers).forEach(s=>{const{onMicrophoneAvailabilityChange:r}=this.subscribers[s];r(e)})}emitTranscriptChange(e,s){Object.keys(this.subscribers).forEach(r=>{const{onTranscriptChange:a}=this.subscribers[r];a(e,s)})}emitClearTranscript(){Object.keys(this.subscribers).forEach(e=>{const{onClearTranscript:s}=this.subscribers[e];s()})}emitBrowserSupportsSpeechRecognitionChange(e){Object.keys(this.subscribers).forEach(s=>{const{onBrowserSupportsSpeechRecognitionChange:r,onBrowserSupportsContinuousListeningChange:a}=this.subscribers[s];r(e),a(e)})}disconnect(e){if(this.recognition&&this.listening)switch(e){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}disableRecognition(){this.recognition&&(this.recognition.onresult=()=>{},this.recognition.onend=()=>{},this.recognition.onerror=()=>{},this.listening&&this.stopListening())}onError(e){e&&e.error&&e.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}onRecognitionDisconnect(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}updateTranscript({results:e,resultIndex:s}){const r=s===void 0?e.length-1:s;this.interimTranscript="",this.finalTranscript="";for(let i=r;i<e.length;++i)e[i].isFinal&&(!wt()||e[i][0].confidence>0)?this.updateFinalTranscript(e[i][0].transcript):this.interimTranscript=vt(this.interimTranscript,e[i][0].transcript);let a=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(a=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,a||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}updateFinalTranscript(e){this.finalTranscript=vt(this.finalTranscript,e)}resetTranscript(){this.disconnect("RESET")}startListening({continuous:e=!1,language:s}={}){var r=this;return lt(function*(){if(!r.recognition)return;const a=e!==r.recognition.continuous,i=s&&s!==r.recognition.lang;if((a||i)&&(r.listening&&(yield r.stopListening()),r.recognition.continuous=a?e:r.recognition.continuous,r.recognition.lang=i?s:r.recognition.lang),!r.listening){r.recognition.continuous||(r.resetTranscript(),r.emitClearTranscript());try{yield r.start(),r.emitListeningChange(!0)}catch(o){o instanceof DOMException||r.emitMicrophoneAvailabilityChange(!1)}}})()}abortListening(){var e=this;return lt(function*(){e.disconnect("ABORT"),e.emitListeningChange(!1),yield new Promise(s=>{e.onStopListening=s})})()}stopListening(){var e=this;return lt(function*(){e.disconnect("STOP"),e.emitListeningChange(!1),yield new Promise(s=>{e.onStopListening=s})})()}getRecognition(){return this.recognition}start(){var e=this;return lt(function*(){e.recognition&&!e.listening&&(yield e.recognition.start(),e.listening=!0)})()}stop(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}abort(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}constructor(e){this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=()=>{},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(e),wt()&&(this.updateFinalTranscript=od(this.updateFinalTranscript,250))}}const ur="CLEAR_TRANSCRIPT",hr="APPEND_TRANSCRIPT",fd=()=>({type:ur}),pd=(t,e)=>({type:hr,payload:{interimTranscript:t,finalTranscript:e}}),xd=(t,e)=>{switch(e.type){case ur:return{interimTranscript:"",finalTranscript:""};case hr:return{interimTranscript:e.payload.interimTranscript,finalTranscript:vt(t.finalTranscript,e.payload.finalTranscript)};default:throw new Error}};function sn(t,e,s,r,a,i,o){try{var l=t[i](o),u=l.value}catch(d){s(d);return}l.done?e(u):Promise.resolve(u).then(r,a)}function Ht(t){return function(){var e=this,s=arguments;return new Promise(function(r,a){var i=t.apply(e,s);function o(u){sn(i,r,a,o,l,"next",u)}function l(u){sn(i,r,a,o,l,"throw",u)}o(void 0)})}}let Ie=!!ze,mt=Ie&&!wt(),ve;const bd=({transcribing:t=!0,clearTranscriptOnListen:e=!0,commands:s=[]}={})=>{const[r]=c.useState(be.getRecognitionManager()),[a,i]=c.useState(Ie),[o,l]=c.useState(mt),[{interimTranscript:u,finalTranscript:d},g]=c.useReducer(xd,{interimTranscript:r.interimTranscript,finalTranscript:""}),[m,w]=c.useState(r.listening),[v,f]=c.useState(r.isMicrophoneAvailable),x=c.useRef(s);x.current=s;const p=()=>{g(fd())},b=c.useCallback(()=>{r.resetTranscript(),p()},[r]),C=(R,y,L)=>{const F=(typeof R=="object"?R.toString():R).replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),q=md(F,y);return q>=L?{command:R,commandWithoutSpecials:F,howSimilar:q,isFuzzyMatch:!0}:null},k=(R,y)=>{const z=gd(R).exec(y);return z?{command:R,parameters:z.slice(1)}:null},T=c.useCallback((R,y)=>{x.current.forEach(({command:L,callback:z,matchInterim:F=!1,isFuzzyMatch:q=!1,fuzzyMatchingThreshold:X=.8,bestMatchOnly:U=!1})=>{const M=!y&&F?R.trim():y.trim(),K=(Array.isArray(L)?L:[L]).map(h=>q?C(h,M,X):k(h,M)).filter(h=>h);if(q&&U&&K.length>=2){K.sort((D,I)=>I.howSimilar-D.howSimilar);const{command:h,commandWithoutSpecials:S,howSimilar:E}=K[0];z(S,M,E,{command:h,resetTranscript:b})}else K.forEach(h=>{if(h.isFuzzyMatch){const{command:S,commandWithoutSpecials:E,howSimilar:D}=h;z(E,M,D,{command:S,resetTranscript:b})}else{const{command:S,parameters:E}=h;z(...E,{command:S,resetTranscript:b})}})})},[b]),A=c.useCallback((R,y)=>{t&&g(pd(R,y)),T(R,y)},[T,t]),$=c.useCallback(()=>{e&&p()},[e]);return c.useEffect(()=>{const R=be.counter;be.counter+=1;const y={onListeningChange:w,onMicrophoneAvailabilityChange:f,onTranscriptChange:A,onClearTranscript:$,onBrowserSupportsSpeechRecognitionChange:i,onBrowserSupportsContinuousListeningChange:l};return r.subscribe(R,y),()=>{r.unsubscribe(R)}},[t,e,r,A,$]),{transcript:vt(d,u),interimTranscript:u,finalTranscript:d,listening:m,isMicrophoneAvailable:v,resetTranscript:b,browserSupportsSpeechRecognition:a,browserSupportsContinuousListening:o}},be={counter:0,applyPolyfill:t=>{ve?ve.setSpeechRecognition(t):ve=new Vt(t);const e=!!t&&dr();Ie=e,mt=e},removePolyfill:()=>{ve?ve.setSpeechRecognition(ze):ve=new Vt(ze),Ie=!!ze,mt=Ie&&!wt()},getRecognitionManager:()=>(ve||(ve=new Vt(ze)),ve),getRecognition:()=>be.getRecognitionManager().getRecognition(),startListening:Ht(function*({continuous:t,language:e}={}){yield be.getRecognitionManager().startListening({continuous:t,language:e})}),stopListening:Ht(function*(){yield be.getRecognitionManager().stopListening()}),abortListening:Ht(function*(){yield be.getRecognitionManager().abortListening()}),browserSupportsSpeechRecognition:()=>Ie,browserSupportsContinuousListening:()=>mt},yd=({continuous:t=!1,onResult:e,onError:s,onEnd:r,useWhisperFallback:a=!0,whisperEndpoint:i="http://localhost:5002/api/asr"}={})=>{const[o,l]=c.useState(null),[u,d]=c.useState([]),[g,m]=c.useState(!1),[w,v]=c.useState(""),[f,x]=c.useState(!1),[p,b]=c.useState(!1),{isOffline:C,addToSyncQueue:k}=Me(),{currentLanguage:T,getLanguageResource:A}=Re(),{transcript:$,listening:j,resetTranscript:R,browserSupportsSpeechRecognition:y,isMicrophoneAvailable:L}=bd();c.useEffect(()=>{$&&e&&!p&&e($)},[$,e,p]),c.useEffect(()=>{w&&e&&p&&e(w)},[w,e,p]);const z=c.useCallback(async()=>{try{const M=await navigator.mediaDevices.getUserMedia({audio:!0}),B=new MediaRecorder(M);B.ondataavailable=K=>{K.data.size>0&&d(h=>[...h,K.data])},B.onstop=async()=>{if(p&&u.length>0){const K=new Blob(u,{type:"audio/webm"});await F(K),d([])}r&&r()},l(B)}catch(M){s&&s("Failed to initialize media recorder: "+M.message)}},[u,p,r,s]),F=async M=>{m(!0);try{const B=A(T),K=(B==null?void 0:B.whisperModel)||"base";if(C){k("/asr/offline-queue",{audio:M,language:T,timestamp:Date.now()}),s&&s("Device is offline. Audio saved for later processing.");return}const h=new FormData;h.append("audio",M),h.append("language",T),h.append("model",K);const S=await fetch(i,{method:"POST",body:h});if(!S.ok)throw new Error(`Whisper API error: ${S.status}`);const E=await S.json();v(E.text)}catch(B){s&&s("Whisper ASR error: "+B.message)}finally{m(!1)}},q=c.useCallback(async()=>{R(),v("");try{if(y)be.startListening({continuous:t,language:T==="english"?"en-US":"en-GH"}),b(!1);else if(a)b(!0),o||await z(),o&&o.state!=="recording"&&o.start(1e3);else{s&&s("Speech recognition not supported and fallback disabled");return}x(!0)}catch(M){s&&s("Failed to start listening: "+M.message)}},[y,t,T,z,o,s,R,a]),X=c.useCallback(()=>{try{y&&!p?be.stopListening():o&&o.state==="recording"&&o.stop(),x(!1)}catch(M){s&&s("Failed to stop listening: "+M.message)}},[y,p,o,s]),U=c.useCallback(()=>{R(),v(""),d([])},[R]);return c.useEffect(()=>()=>{o&&o.state==="recording"&&o.stop(),y&&j&&be.stopListening()},[y,j,o]),{startListening:q,stopListening:X,reset:U,transcript:p?w:$,isListening:p?f:j,isProcessing:g,browserSupportsSpeechRecognition:y,isMicrophoneAvailable:L,usingFallback:p}},wd=({onTranscriptChange:t,onSpeechEnd:e,onError:s,continuous:r=!1,placeholder:a="Speak now...",maxLength:i=500,className:o=""})=>{const[l,u]=c.useState(null),[d,g]=c.useState(!0),{isOffline:m}=Me(),{currentLanguage:w}=Re(),v=c.useCallback(y=>{if(t){const L=i&&y.length>i?y.substring(0,i):y;t(L)}},[i,t]),f=c.useCallback(y=>{u(y),console.error("ASR Error:",y),s&&s(y)},[s]),x=c.useCallback(()=>{e&&e()},[e]),{startListening:p,stopListening:b,reset:C,transcript:k,isListening:T,isProcessing:A,browserSupportsSpeechRecognition:$,isMicrophoneAvailable:j,usingFallback:R}=yd({continuous:r,onResult:v,onError:f,onEnd:x,useWhisperFallback:!0});return c.useEffect(()=>{g(!0)},[w]),!$&&!R?n.jsxs("div",{className:"p-4 bg-yellow-50 text-yellow-800 rounded-lg border border-yellow-200",children:[n.jsx("p",{className:"font-medium",children:"Your browser doesn't support speech recognition."}),n.jsx("p",{className:"text-sm mt-1",children:"Try using Google Chrome for the best experience."})]}):j?n.jsxs("div",{className:`w-full ${o}`,children:[n.jsxs("div",{className:"relative w-full",children:[n.jsx("div",{className:"min-h-[100px] p-4 bg-white border border-gray-300 rounded-lg shadow-sm",children:k?n.jsx("p",{className:"text-gray-800",children:k}):n.jsx("p",{className:"text-gray-400 italic",children:a})}),n.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${T?"bg-green-500 animate-pulse":A?"bg-yellow-500 animate-pulse":"bg-gray-300"}`}),n.jsx("span",{className:"text-gray-600",children:T?"Listening...":A?"Processing speech...":"Ready"}),R&&n.jsx("span",{className:"ml-2 text-xs text-blue-600 bg-blue-50 px-2 py-0.5 rounded-full",children:"Using Whisper"}),m&&n.jsx("span",{className:"ml-2 text-xs text-orange-600 bg-orange-50 px-2 py-0.5 rounded-full",children:"Offline Mode"})]}),l&&n.jsx("div",{className:"mt-2 p-2 bg-red-50 text-red-800 text-sm rounded-md",children:l})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[n.jsx("button",{onClick:T?b:async()=>{u(null),d&&g(!1),await p()},className:`px-4 py-2 rounded-lg font-medium ${T?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,disabled:A,children:T?"Stop Listening":d?"Start Listening":"Listen Again"}),n.jsx("button",{onClick:()=>{C(),v("")},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium",disabled:T||!k&&!l,children:"Clear"})]})]}):n.jsxs("div",{className:"p-4 bg-red-50 text-red-800 rounded-lg border border-red-200",children:[n.jsx("p",{className:"font-medium",children:"Microphone access denied."}),n.jsx("p",{className:"text-sm mt-1",children:"Please allow microphone access in your browser settings to use speech recognition."})]})},vd=50,jd=7*24*60*60*1e3,gr=({pitch:t=1,rate:e=1,volume:s=1,onStart:r,onEnd:a,onError:i,useRemoteTTS:o=!0,remoteTTSEndpoint:l="http://localhost:5002/api/tts",cacheAudio:u=!0}={})=>{const[d,g]=c.useState(!1),[m,w]=c.useState([]),[v,f]=c.useState(!1),[x,p]=c.useState(""),b=c.useRef(null),C=c.useRef(null),{currentLanguage:k,getLanguageResource:T}=Re(),{isOffline:A}=Me();c.useEffect(()=>{if(u)try{const y=localStorage.getItem("ttsAudioCache");y&&w(JSON.parse(y))}catch(y){console.error("Failed to load audio cache:",y)}},[u]),c.useEffect(()=>{if(u&&m.length>0)try{const y=JSON.stringify(m.map(({text:L,language:z,timestamp:F})=>({text:L,language:z,timestamp:F})));localStorage.setItem("ttsAudioCache",y)}catch(y){console.error("Failed to save audio cache:",y)}},[m,u]),c.useEffect(()=>(b.current||(b.current=new Audio,b.current.onended=()=>{g(!1),a&&a()},b.current.onerror=()=>{g(!1),i&&i("Audio playback error")}),()=>{b.current&&(b.current.pause(),b.current=null),speechSynthesis&&C.current&&speechSynthesis.cancel()}),[a,i]),c.useCallback((y,L)=>{if(!u)return null;const z=m.find(F=>F.text===y&&F.language===L);return z&&z.blob?(w(F=>F.map(q=>q.text===y&&q.language===L?{...q,timestamp:Date.now()}:q)),z.blob):null},[m,u]),c.useCallback((y,L,z)=>{u&&w(F=>{const q=Date.now(),X=F.filter(M=>q-M.timestamp<jd);return[{text:y,language:L,blob:z,timestamp:q},...X.filter(M=>!(M.text===y&&M.language===L))].slice(0,vd)})},[u]),c.useEffect(()=>{},[u,l]);const $=c.useCallback(async y=>{if(!y)return!1;R(),f(!0),p(y);try{return r&&r(),g(!0),await ns.speak({text:y,language:k,pitch:t,rate:e,volume:s}),"speechSynthesis"in window&&speechSynthesis.addEventListener("end",j),!0}catch(L){return g(!1),i&&i(`Speech synthesis error: ${L.message}`),!1}finally{f(!1)}},[k,i,r,t,e,s]),j=c.useCallback(()=>{g(!1),"speechSynthesis"in window&&speechSynthesis.removeEventListener("end",j),a&&a()},[a]),R=c.useCallback(()=>{ns.stop(),g(!1),"speechSynthesis"in window&&speechSynthesis.removeEventListener("end",j)},[j]);return c.useEffect(()=>()=>{R()},[R]),{speak:$,stop:R,isSpeaking:d,isLoading:v,lastSpokenText:x}},Nd=({text:t="",autoPlay:e=!1,showControls:s=!0,showSettings:r=!1,className:a="",onPlayStart:i,onPlayEnd:o,onError:l})=>{const[u,d]=c.useState(t),[g,m]=c.useState(1),[w,v]=c.useState(1),[f,x]=c.useState(1),[p,b]=c.useState(null),[C,k]=c.useState(!1),{currentLanguage:T}=Re(),{isOffline:A}=Me(),$=c.useCallback(M=>{b(M),console.error("TTS Error:",M),l&&l(M)},[l]),j=c.useCallback(()=>{i&&i()},[i]),R=c.useCallback(()=>{o&&o()},[o]),{speak:y,stop:L,isSpeaking:z,isLoading:F}=gr({pitch:g,rate:w,volume:f,onStart:j,onEnd:R,onError:$,useRemoteTTS:!0,cacheAudio:!0});c.useEffect(()=>{d(t)},[t]),c.useEffect(()=>{e&&t&&!z&&y(t)},[e,t,y,z]),c.useEffect(()=>{b(null)},[T]);const q=()=>{k(!C)},X=()=>{b(null),u?y(u):$("No text to speak")},U=()=>{L()};return n.jsxs("div",{className:`w-full ${a}`,children:[n.jsx("textarea",{value:u,onChange:M=>d(M.target.value),placeholder:"Enter text to speak...",className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",rows:3,disabled:z||F,"aria-label":"Text to speak"}),s&&n.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[z?n.jsxs("button",{onClick:U,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium flex items-center","aria-label":"Stop speech",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})}),"Stop"]}):n.jsx("button",{onClick:X,disabled:F||!u,className:`px-4 py-2 rounded-lg font-medium flex items-center ${!u||F?"bg-gray-300 cursor-not-allowed text-gray-500":"bg-blue-600 hover:bg-blue-700 text-white"}`,"aria-label":"Play speech",children:F?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Speak"]})}),r&&n.jsxs("button",{onClick:q,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium flex items-center","aria-label":"Voice settings",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),"Settings"]}),A&&n.jsx("span",{className:"ml-2 self-center text-xs text-orange-600 bg-orange-50 px-2 py-0.5 rounded-full",children:"Offline Mode"})]}),r&&C&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Voice Settings"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"pitch-control",className:"block text-xs text-gray-600 mb-1",children:["Pitch: ",g.toFixed(1)]}),n.jsx("input",{id:"pitch-control",type:"range",min:"0.5",max:"2",step:"0.1",value:g,onChange:M=>m(parseFloat(M.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",disabled:z})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"rate-control",className:"block text-xs text-gray-600 mb-1",children:["Speed: ",w.toFixed(1)]}),n.jsx("input",{id:"rate-control",type:"range",min:"0.5",max:"2",step:"0.1",value:w,onChange:M=>v(parseFloat(M.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",disabled:z})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"volume-control",className:"block text-xs text-gray-600 mb-1",children:["Volume: ",(f*100).toFixed(0),"%"]}),n.jsx("input",{id:"volume-control",type:"range",min:"0",max:"1",step:"0.1",value:f,onChange:M=>x(parseFloat(M.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",disabled:z})]})]})]}),p&&n.jsx("div",{className:"mt-3 p-2 bg-red-50 text-red-800 text-sm rounded-md",children:p})]})},Sd={greetings:{twi:"Mema wo akye",ga:"Ojekoo",ewe:"Ŋdi na mi",dagbani:"Dasiba",hausa:"Sannu",english:"Good morning"},needs:{twi:"Me pɛ nsuo",ga:"Miitao nu",ewe:"Medi tsi",dagbani:"N bora kom",hausa:"Ina son ruwa",english:"I need water"},medical:{twi:"Me ho mfa me",ga:"Mitsɔmɔ hewalɛ",ewe:"Mele dɔ lém",dagbani:"N ti bi",hausa:"Ba ni da lafiya",english:"I am not feeling well"},questions:{twi:"Wo din de sɛn?",ga:"Mɛni ji ogbɛi?",ewe:"Ŋkɔwò ɖe?",dagbani:"A yuuli?",hausa:"Mene ne sunanka?",english:"What is your name?"},emergency:{twi:"Me hia mmoa",ga:"Miihia yelikɛbuamɔ",ewe:"Mehiã kpekpeɖeŋu",dagbani:"N bora sɔŋsim",hausa:"Ina bukatar taimako",english:"I need help"},cultural:{twi:{text:"Akwaaba",translation:"Welcome"},ga:{text:"Abɔkɛ",translation:"Welcome/We receive you"},ewe:{text:"Woezo",translation:"Welcome"},hausa:{text:"Barka da asuba",translation:"Good morning"},english:{text:"You are welcome",translation:"A common response to thanks in Ghana"}},market:{twi:{text:"Ɛyɛ sɛn?",translation:"How much is it?"},ga:{text:"Nɛ je ni?",translation:"How much is it?"},ewe:{text:"Esia xɔ nenie?",translation:"How much does this cost?"},hausa:{text:"Nawa ne?",translation:"How much is it?"},english:{text:"Please reduce the price",translation:"Bargaining is common in Ghanaian markets"}},proverbs:{twi:{text:"Tiri nkwa, na yɛmfa nto akyene mu",translation:"Life is valuable and should not be risked carelessly"},ga:{text:"Kɛ mɔ ko fee gbeɔ, esha ekome fɔŋ",translation:"If everyone sweeps in front of their house, the whole village will be clean"},ewe:{text:"Ne ame aɖe xɔ agbe la, ekemɛ hã axɔe",translation:"If one person is saved, then the other will also be saved"},hausa:{text:"Hakuri maganin duniya",translation:"Patience is the cure for the world"},english:{text:"The elder who sits under the big tree speaks wisdom",translation:"A Ghanaian saying about respecting elders' wisdom"}},custom:{english:"Add your own phrase"}},Cd={greetings:"bg-blue-100 border-blue-300 text-blue-800",needs:"bg-green-100 border-green-300 text-green-800",medical:"bg-red-100 border-red-300 text-red-800",questions:"bg-purple-100 border-purple-300 text-purple-800",emergency:"bg-orange-100 border-orange-300 text-orange-800",cultural:"bg-amber-100 border-amber-300 text-amber-800",market:"bg-cyan-100 border-cyan-300 text-cyan-800",proverbs:"bg-indigo-100 border-indigo-300 text-indigo-800",custom:"bg-gray-100 border-gray-300 text-gray-800"},kd={greetings:n.jsx("span",{children:"👋"}),needs:n.jsx("span",{children:"🥄"}),medical:n.jsx("span",{children:"🏥"}),questions:n.jsx("span",{children:"❓"}),emergency:n.jsx("span",{children:"🚨"}),cultural:n.jsx("span",{children:"🏛️"}),market:n.jsx("span",{children:"🛒"}),proverbs:n.jsx("span",{children:"🦉"}),custom:n.jsx("span",{children:"✏️"})},nn={greetings:{name:"Greetings",description:"Everyday greetings and pleasantries"},needs:{name:"Basic Needs",description:"Express basic needs like hunger or thirst"},medical:{name:"Medical",description:"Health-related phrases and symptoms"},questions:{name:"Questions",description:"Common questions to ask others"},emergency:{name:"Emergency",description:"Urgent help and emergency phrases"},cultural:{name:"Cultural",description:"Traditional Ghanaian cultural expressions"},market:{name:"Market",description:"Phrases for shopping and bargaining"},proverbs:{name:"Proverbs",description:"Traditional wisdom and sayings"},custom:{name:"Custom",description:"Your personal phrases"}},Ed=({onPhraseSelect:t,showCategories:e=!0,initialCategory:s="greetings",maxPhrasesPerCategory:r=5,showFavoritesOnly:a=!1,className:i="",showTranslations:o=!0})=>{const[l,u]=c.useState([]),[d,g]=c.useState(s),[m,w]=c.useState(""),[v,f]=c.useState(!1),[x,p]=c.useState([]),[b,C]=c.useState(""),{currentLanguage:k}=Re(),{speak:T,isSpeaking:A}=gr();c.useEffect(()=>{const y=[];Object.entries(Sd).forEach(([L,z])=>{Object.entries(z).forEach(([F,q])=>{typeof q=="string"?y.push({id:`${L}-${F}-${Date.now()}`,text:q,language:F,category:L,isFavorite:!1}):typeof q=="object"&&y.push({id:`${L}-${F}-${Date.now()}`,text:q.text,translation:q.translation,language:F,category:L,isFavorite:!1})})});try{const L=localStorage.getItem("savedPhrases");if(L){const z=JSON.parse(L),F=[...y];z.forEach(q=>{const X=F.findIndex(U=>U.category===q.category&&U.language===q.language);X!==-1?F[X]=q:F.push(q)}),u(F)}else u(y)}catch(L){console.error("Failed to load saved phrases:",L),u(y)}},[]),c.useEffect(()=>{if(l.length>0)try{localStorage.setItem("savedPhrases",JSON.stringify(l))}catch(y){console.error("Failed to save phrases:",y)}},[l]),c.useEffect(()=>{let y=l.filter(L=>(d==="custom"||L.category===d)&&(a?L.isFavorite:!0)&&L.language===k);if(b){const L=b.toLowerCase();y=y.filter(z=>{var F;return z.text.toLowerCase().includes(L)||((F=z.translation)==null?void 0:F.toLowerCase().includes(L))})}r>0&&!a&&!b&&(y=y.slice(0,r)),p(y)},[l,d,k,a,r,b]);const $=c.useCallback(y=>{u(L=>L.map(z=>z.id===y?{...z,isFavorite:!z.isFavorite}:z))},[]),j=c.useCallback(y=>{u(L=>L.map(z=>z.id===y.id?{...z,lastUsed:new Date}:z)),A||T(y.text),t&&t(y)},[t,T,A]),R=c.useCallback(()=>{if(m.trim()){const y={id:`custom-${k}-${Date.now()}`,text:m.trim(),language:k,category:"custom",isFavorite:!1,lastUsed:new Date};u(L=>[...L,y]),w(""),f(!1)}},[m,k]);return n.jsxs("div",{className:`w-full ${i}`,children:[n.jsx("div",{className:"mb-4",children:n.jsx("input",{type:"text",placeholder:"Search phrases...",value:b,onChange:y=>C(y.target.value),className:"w-full p-2 border border-gray-300 rounded-md","aria-label":"Search for phrases"})}),e&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",id:"category-heading",children:"Categories"}),n.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",role:"radiogroup","aria-labelledby":"category-heading",children:Object.entries(nn).map(([y,{name:L,description:z}])=>n.jsxs("button",{onClick:()=>g(y),className:`p-3 rounded-lg border flex flex-col items-center justify-center transition-colors ${d===y?Cd[y]+" shadow-sm":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100"}`,"aria-label":`Select ${L} category`,"aria-pressed":d===y,"aria-describedby":`${y}-desc`,role:"radio","aria-checked":d===y,children:[n.jsx("div",{className:"text-xl mb-1",children:kd[y]}),n.jsx("span",{className:"text-sm font-medium",children:L}),n.jsx("span",{id:`${y}-desc`,className:"sr-only",children:z})]},y))})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-700",children:nn[d].name}),d==="custom"&&n.jsx("button",{onClick:()=>f(!0),className:"text-sm px-2 py-1 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded","aria-label":"Add custom phrase",children:"+ Add Phrase"})]}),x.length===0?n.jsx("p",{className:"text-center py-4 text-gray-500",children:b?"No matching phrases found. Try a different search.":"No phrases available. Try selecting a different category."}):n.jsx("div",{className:"space-y-2",children:x.map(y=>n.jsx("div",{className:"p-3 border border-gray-200 rounded-lg bg-white hover:bg-gray-50 transition-colors focus-within:ring-2 focus-within:ring-blue-500",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("button",{onClick:()=>j(y),className:"text-left flex-1 focus:outline-none","aria-label":`Speak phrase: ${y.text}${y.translation?` (${y.translation})`:""}`,children:[n.jsx("p",{className:"text-gray-800 font-medium",children:y.text}),o&&y.translation&&n.jsx("p",{className:"text-gray-500 text-sm mt-1",children:y.translation})]}),n.jsx("button",{onClick:()=>$(y.id),className:`ml-2 p-1 rounded-full ${y.isFavorite?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-gray-500"}`,"aria-label":y.isFavorite?"Remove from favorites":"Add to favorites","aria-pressed":y.isFavorite,children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:y.isFavorite?"currentColor":"none",stroke:"currentColor",className:"w-5 h-5","aria-hidden":"true",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:y.isFavorite?"0":"2",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})})]})},y.id))}),v&&n.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",role:"dialog","aria-labelledby":"add-phrase-heading",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",id:"add-phrase-heading",children:"Add Custom Phrase"}),n.jsx("input",{type:"text",value:m,onChange:y=>w(y.target.value),placeholder:"Enter your phrase...",className:"w-full p-2 border border-gray-300 rounded-md mb-2","aria-label":"Custom phrase text"}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>f(!1),className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),n.jsx("button",{onClick:R,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!m.trim(),children:"Add"})]})]})]})]})},rn=({showLabels:t=!0,showOfflineIndicator:e=!0,compact:s=!1,className:r=""})=>{const[a,i]=c.useState(!1),{currentLanguage:o,setCurrentLanguage:l,availableLanguages:u,getLanguageResource:d}=Re(),{isOffline:g}=Me(),m=d(o),w=f=>{l(f),i(!1)},v=()=>{i(!a)};return n.jsxs("div",{className:`relative ${r}`,children:[n.jsxs("button",{onClick:v,className:`flex items-center border border-gray-300 rounded-lg ${s?"p-2":"px-4 py-2"} ${a?"bg-blue-50 border-blue-300":"bg-white hover:bg-gray-50"}`,"aria-label":"Select language","aria-expanded":a,children:[n.jsx("span",{className:"font-medium text-gray-800",children:s?o.substring(0,2).toUpperCase():m==null?void 0:m.name}),!s&&t&&n.jsxs("span",{className:"ml-1 text-sm text-gray-500",children:["(",m==null?void 0:m.localName,")"]}),e&&!g&&(m==null?void 0:m.offlineSupport)&&n.jsx("span",{className:"ml-1.5 w-2 h-2 bg-green-500 rounded-full",title:"Available offline"}),n.jsx("svg",{className:`ml-2 w-5 h-5 text-gray-400 transition-transform ${a?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),a&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-56 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:n.jsx("ul",{className:"py-1",role:"menu","aria-orientation":"vertical",children:u.map(f=>n.jsx("li",{children:n.jsxs("button",{onClick:()=>w(f.code),className:`flex items-center justify-between w-full px-4 py-2 text-left text-sm ${o===f.code?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,role:"menuitem",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:f.name}),t&&n.jsx("span",{className:"text-xs text-gray-500",children:f.localName})]}),n.jsxs("div",{className:"flex items-center space-x-1.5",children:[f.voiceAvailable&&n.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-1.5 py-0.5 rounded",title:"Voice available",children:"TTS"}),f.offlineSupport&&n.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded",title:"Available offline",children:"Offline"}),o===f.code&&n.jsx("svg",{className:"w-4 h-4 text-blue-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})]})},f.code))})}),a&&n.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>i(!1),"aria-hidden":"true"})]})},Td=({onSaveRecording:t,onUploadForTranscription:e,disabled:s=!1})=>{const[r,a]=c.useState(!1),[i,o]=c.useState(0),[l,u]=c.useState(null),[d,g]=c.useState(null),[m,w]=c.useState(!1),[v,f]=c.useState(""),[x,p]=c.useState(!1),[b,C]=c.useState(null),k=c.useRef(null),T=c.useRef([]),A=c.useRef(null),$=c.useRef(null),{preferences:j}=fe();c.useEffect(()=>($.current=new Audio,$.current.onplay=()=>w(!0),$.current.onpause=()=>w(!1),$.current.onended=()=>w(!1),()=>{$.current&&($.current.onplay=null,$.current.onpause=null,$.current.onended=null)}),[]),c.useEffect(()=>()=>{d&&URL.revokeObjectURL(d)},[d]);const R=async()=>{try{C(null);const U=await navigator.mediaDevices.getUserMedia({audio:!0});k.current=new MediaRecorder(U),T.current=[],k.current.ondataavailable=M=>{M.data.size>0&&T.current.push(M.data)},k.current.onstop=()=>{const M=new Blob(T.current,{type:"audio/wav"}),B=URL.createObjectURL(M);u(M),g(B),$.current&&($.current.src=B);const K=new Date,h=`recording_${K.toLocaleDateString().replace(/\//g,"-")}_${K.toLocaleTimeString().replace(/:/g,"-")}`;f(h),U.getTracks().forEach(S=>S.stop())},k.current.start(),a(!0),o(0),A.current=window.setInterval(()=>{o(M=>M+1)},1e3)}catch(U){console.error("Error accessing microphone:",U),C("Could not access microphone. Please check permissions.")}},y=()=>{k.current&&r&&(k.current.stop(),a(!1),A.current&&(clearInterval(A.current),A.current=null))},L=()=>{!$.current||!d||(m?$.current.pause():$.current.play())},z=()=>{l&&v.trim()&&(t(l,v.trim()),u(null),g(null),f(""),$.current&&($.current.src=""))},F=()=>{u(null),d&&(URL.revokeObjectURL(d),g(null)),f(""),$.current&&($.current.src="")},q=async()=>{if(!(!l||!e))try{p(!0),C(null),await e(l),F()}catch(U){console.error("Error uploading for transcription:",U),C("Failed to upload recording. Please try again.")}finally{p(!1)}},X=U=>{const M=Math.floor(U/60),B=U%60;return`${M.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}`};return n.jsxs("div",{className:`border rounded-lg p-4 ${j!=null&&j.highContrast?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,"aria-live":"polite",children:[b&&n.jsx("div",{className:`mb-3 p-2 rounded ${j!=null&&j.highContrast?"bg-red-900 text-white":"bg-red-100 text-red-800"}`,role:"alert",children:b}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-3 gap-2",children:[n.jsx("h3",{className:`font-medium ${j!=null&&j.highContrast?"text-white":"text-gray-800"}`,children:r?"Recording...":l?"Recording Ready":"Audio Recorder"}),r&&n.jsxs("div",{className:`flex items-center ${j!=null&&j.highContrast?"text-red-400":"text-red-600"}`,"aria-live":"assertive",children:[n.jsx("span",{className:"inline-block w-2 h-2 bg-red-600 rounded-full mr-2 animate-pulse"}),n.jsx("span",{"aria-label":`Recording time: ${X(i)}`,children:X(i)})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[!r&&!l&&n.jsxs("button",{onClick:R,disabled:s,className:`px-3 py-2 rounded-md flex items-center ${s?j!=null&&j.highContrast?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-100 text-gray-400 cursor-not-allowed":j!=null&&j.highContrast?"bg-blue-700 text-white hover:bg-blue-600":"bg-blue-600 text-white hover:bg-blue-700"}`,"aria-label":"Start recording",children:[n.jsx(Fe,{size:18,className:"mr-2","aria-hidden":"true"})," Record"]}),r&&n.jsxs("button",{onClick:y,className:`px-3 py-2 rounded-md flex items-center ${j!=null&&j.highContrast?"bg-red-700 text-white hover:bg-red-600":"bg-red-600 text-white hover:bg-red-700"}`,"aria-label":"Stop recording",children:[n.jsx(ti,{size:18,className:"mr-2","aria-hidden":"true"})," Stop"]}),l&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:L,className:`px-3 py-2 rounded-md flex items-center ${j!=null&&j.highContrast?"bg-green-700 text-white hover:bg-green-600":"bg-green-600 text-white hover:bg-green-700"}`,"aria-label":m?"Pause playback":"Play recording",children:m?n.jsxs(n.Fragment,{children:[n.jsx(Qa,{size:18,className:"mr-2","aria-hidden":"true"})," ","Pause"]}):n.jsxs(n.Fragment,{children:[n.jsx(Za,{size:18,className:"mr-2","aria-hidden":"true"})," ","Play"]})}),n.jsxs("button",{onClick:F,className:`px-3 py-2 rounded-md flex items-center ${j!=null&&j.highContrast?"bg-red-700 text-white hover:bg-red-600":"bg-red-600 text-white hover:bg-red-700"}`,"aria-label":"Discard recording",children:[n.jsx($n,{size:18,className:"mr-2","aria-hidden":"true"})," Discard"]})]})]}),l&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:`${j!=null&&j.highContrast?"text-gray-300":"text-gray-600"}`,children:[n.jsx("label",{htmlFor:"recording-name",className:"block text-sm mb-1",children:"Recording Name:"}),n.jsx("input",{id:"recording-name",type:"text",value:v,onChange:U=>f(U.target.value),className:`w-full px-3 py-2 rounded-md border ${j!=null&&j.highContrast?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Enter a name for this recording","aria-required":"true"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:z,disabled:!v.trim(),className:`px-3 py-2 rounded-md flex items-center ${v.trim()?j!=null&&j.highContrast?"bg-green-700 text-white hover:bg-green-600":"bg-green-600 text-white hover:bg-green-700":j!=null&&j.highContrast?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,"aria-label":"Save recording",children:[n.jsx(Tn,{size:18,className:"mr-2","aria-hidden":"true"})," Save"]}),e&&n.jsxs("button",{onClick:q,disabled:x||!v.trim(),className:`px-3 py-2 rounded-md flex items-center ${x||!v.trim()?j!=null&&j.highContrast?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-100 text-gray-400 cursor-not-allowed":j!=null&&j.highContrast?"bg-purple-700 text-white hover:bg-purple-600":"bg-purple-600 text-white hover:bg-purple-700"}`,"aria-label":"Upload for transcription",children:[n.jsx(gs,{size:18,className:"mr-2","aria-hidden":"true"}),x?"Uploading...":"Transcribe"]})]})]})]})};let ct;const Rd=new Uint8Array(16);function $d(){if(!ct&&(ct=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ct))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ct(Rd)}const de=[];for(let t=0;t<256;++t)de.push((t+256).toString(16).slice(1));function Ad(t,e=0){return de[t[e+0]]+de[t[e+1]]+de[t[e+2]]+de[t[e+3]]+"-"+de[t[e+4]]+de[t[e+5]]+"-"+de[t[e+6]]+de[t[e+7]]+"-"+de[t[e+8]]+de[t[e+9]]+"-"+de[t[e+10]]+de[t[e+11]]+de[t[e+12]]+de[t[e+13]]+de[t[e+14]]+de[t[e+15]]}const Ld=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),an={randomUUID:Ld};function Pd(t,e,s){if(an.randomUUID&&!t)return an.randomUUID();t=t||{};const r=t.random||(t.rng||$d)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Ad(r)}class Od{constructor(){Q(this,"dbName","TalkGhanaOfflineDB");Q(this,"dbVersion",1);Q(this,"recordingsStoreName","recordings");Q(this,"db",null);this.init()}init(){return new Promise((e,s)=>{if(this.db){e(this.db);return}const r=indexedDB.open(this.dbName,this.dbVersion);r.onerror=a=>{console.error("IndexedDB error:",a),s("Could not open IndexedDB")},r.onsuccess=a=>{this.db=a.target.result,e(this.db)},r.onupgradeneeded=a=>{const i=a.target.result;if(!i.objectStoreNames.contains(this.recordingsStoreName)){const o=i.createObjectStore(this.recordingsStoreName,{keyPath:"id"});o.createIndex("createdAt","createdAt",{unique:!1}),o.createIndex("name","name",{unique:!1}),o.createIndex("uploaded","uploaded",{unique:!1})}}})}async saveRecording(e,s,r){await this.init();const a={id:Pd(),name:e,blob:s,createdAt:Date.now(),duration:r,uploaded:!1};return new Promise((i,o)=>{if(!this.db){o("Database not initialized");return}const d=this.db.transaction([this.recordingsStoreName],"readwrite").objectStore(this.recordingsStoreName).add(a);d.onsuccess=()=>{i(a)},d.onerror=g=>{console.error("Error saving recording:",g),o("Failed to save recording")}})}async getAllRecordings(){return await this.init(),new Promise((e,s)=>{if(!this.db){s("Database not initialized");return}const o=this.db.transaction([this.recordingsStoreName],"readonly").objectStore(this.recordingsStoreName).index("createdAt").openCursor(null,"prev"),l=[];o.onsuccess=u=>{const d=u.target.result;d?(l.push(d.value),d.continue()):e(l)},o.onerror=u=>{console.error("Error getting recordings:",u),s("Failed to get recordings")}})}async getRecording(e){return await this.init(),new Promise((s,r)=>{if(!this.db){r("Database not initialized");return}const o=this.db.transaction([this.recordingsStoreName],"readonly").objectStore(this.recordingsStoreName).get(e);o.onsuccess=()=>{s(o.result||null)},o.onerror=l=>{console.error(`Error getting recording ${e}:`,l),r("Failed to get recording")}})}async updateTranscription(e,s){return await this.init(),new Promise((r,a)=>{if(!this.db){a("Database not initialized");return}const o=this.db.transaction([this.recordingsStoreName],"readwrite").objectStore(this.recordingsStoreName),l=o.get(e);l.onsuccess=()=>{const u=l.result;if(!u){a(`Recording ${e} not found`);return}u.transcription=s;const d=o.put(u);d.onsuccess=()=>{r()},d.onerror=g=>{console.error(`Error updating transcription for ${e}:`,g),a("Failed to update transcription")}},l.onerror=u=>{console.error(`Error getting recording ${e} for transcription update:`,u),a("Failed to get recording for transcription update")}})}async markAsUploaded(e){return await this.init(),new Promise((s,r)=>{if(!this.db){r("Database not initialized");return}const i=this.db.transaction([this.recordingsStoreName],"readwrite").objectStore(this.recordingsStoreName),o=i.get(e);o.onsuccess=()=>{const l=o.result;if(!l){r(`Recording ${e} not found`);return}l.uploaded=!0;const u=i.put(l);u.onsuccess=()=>{s()},u.onerror=d=>{console.error(`Error marking recording ${e} as uploaded:`,d),r("Failed to mark recording as uploaded")}},o.onerror=l=>{console.error(`Error getting recording ${e} for upload marking:`,l),r("Failed to get recording for upload marking")}})}async deleteRecording(e){return await this.init(),new Promise((s,r)=>{if(!this.db){r("Database not initialized");return}const o=this.db.transaction([this.recordingsStoreName],"readwrite").objectStore(this.recordingsStoreName).delete(e);o.onsuccess=()=>{s()},o.onerror=l=>{console.error(`Error deleting recording ${e}:`,l),r("Failed to delete recording")}})}}const Ke=new Od,ws=c.createContext(void 0);function Md({children:t}){const[e,s]=c.useState([]),r=(i,o,l="info")=>{const u=Math.random().toString(36).substring(2,9),d={id:u,title:i,description:o,type:l,createdAt:Date.now()};s(g=>[...g,d]),setTimeout(()=>{a(u)},5e3)},a=i=>{s(o=>o.filter(l=>l.id!==i))};return n.jsxs(ws.Provider,{value:{toasts:e,toast:r,dismiss:a},children:[t,n.jsx(zd,{})]})}function zd(){const t=c.useContext(ws);if(!t)return null;const{toasts:e,dismiss:s}=t;return n.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-md","aria-live":"polite",role:"status","aria-atomic":"true",children:e.map(r=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg flex gap-3 transform transition-all duration-300 ease-in-out 
            animate-in slide-in-from-right-5 fade-in
            ${r.type==="info"?"bg-blue-50 border-l-4 border-blue-500 dark:bg-blue-900/80 dark:border-blue-400":""}
            ${r.type==="success"?"bg-green-50 border-l-4 border-green-500 dark:bg-green-900/80 dark:border-green-400":""}
            ${r.type==="warning"?"bg-yellow-50 border-l-4 border-yellow-500 dark:bg-yellow-900/80 dark:border-yellow-400":""}
            ${r.type==="error"?"bg-red-50 border-l-4 border-red-500 dark:bg-red-900/80 dark:border-red-400":""}
          `,role:"alert","aria-labelledby":`toast-${r.id}-title`,children:[n.jsxs("div",{className:"flex-shrink-0 text-center self-start",children:[r.type==="info"&&n.jsx(hi,{className:"h-5 w-5 text-blue-500 dark:text-blue-400"}),r.type==="success"&&n.jsx(Je,{className:"h-5 w-5 text-green-500 dark:text-green-400"}),r.type==="warning"&&n.jsx(Zi,{className:"h-5 w-5 text-yellow-500 dark:text-yellow-400"}),r.type==="error"&&n.jsx(Sn,{className:"h-5 w-5 text-red-500 dark:text-red-400"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",id:`toast-${r.id}-title`,children:r.title}),r.description&&n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:r.description})]}),n.jsx("button",{onClick:()=>s(r.id),className:"flex-shrink-0 rounded-full p-0.5 inline-flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":"Dismiss notification",children:n.jsx(kt,{className:"h-4 w-4"})})]},r.id))})}function mr(){const t=c.useContext(ws);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}function Id(t){const e=Math.floor(t/1e3),s=Math.floor(e/60),r=e%60,a=Math.floor(t%1e3/10);return`${s.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}.${a.toString().padStart(2,"0")}`}const _d=({onUploadForTranscription:t})=>{const[e,s]=c.useState([]),[r,a]=c.useState(!0),[i,o]=c.useState(null),[l,u]=c.useState(null),{toast:d}=mr();c.useEffect(()=>{g()},[]),c.useEffect(()=>()=>{l&&(l.pause(),l.src="")},[l]);const g=async()=>{a(!0);try{const x=await Ke.getAllRecordings();s(x)}catch(x){console.error("Failed to load recordings:",x),d("Error","Failed to load recordings","error")}finally{a(!1)}},m=async x=>{try{if(i===x.id)l&&(l.paused?await l.play():l.pause());else{l&&(l.pause(),l.src="");const p=URL.createObjectURL(x.blob),b=new Audio(p);b.onended=()=>{o(null)},b.onpause=()=>{},await b.play(),u(b),o(x.id)}}catch(p){console.error("Error playing recording:",p),d("Playback Error","Could not play this recording","error")}},w=async x=>{try{i===x&&l&&(l.pause(),l.src="",o(null)),await Ke.deleteRecording(x),s(e.filter(p=>p.id!==x)),d("Recording Deleted","The recording has been deleted successfully")}catch(p){console.error("Error deleting recording:",p),d("Error","Failed to delete recording","error")}},v=async x=>{if(!t){d("Not Available","Upload functionality is not available");return}try{await t(x),await Ke.markAsUploaded(x.id),s(e.map(p=>p.id===x.id?{...p,uploaded:!0}:p)),d("Upload Successful","The recording has been uploaded for transcription")}catch(p){console.error("Error uploading recording:",p),d("Upload Failed","Could not upload recording for transcription","error")}},f=x=>i===x&&l&&!l.paused;return r?n.jsx("div",{className:"flex justify-center my-4",children:"Loading recordings..."}):e.length===0?n.jsx("div",{className:"text-center p-6 text-gray-500",children:"No recordings saved yet"}):n.jsxs("div",{className:"w-full border rounded-lg bg-white shadow",children:[n.jsxs("div",{className:"p-4 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Saved Recordings"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Manage your offline voice recordings"})]}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"h-[300px] overflow-y-auto pr-2",children:n.jsx("div",{className:"space-y-3",children:e.map(x=>n.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md hover:bg-gray-50 dark:hover:bg-gray-800",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium truncate",children:x.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[new Date(x.createdAt).toLocaleString()," •"," ",Id(x.duration)]}),x.transcription&&n.jsxs("div",{className:"mt-1 italic text-sm text-gray-600 dark:text-gray-400 truncate",children:['"',x.transcription,'"']})]}),n.jsxs("div",{className:"flex space-x-2",children:[x.uploaded?n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium border rounded-md",children:[n.jsx(hs,{size:12})," Uploaded"]}):n.jsx("button",{className:"p-1 rounded border hover:bg-gray-100",onClick:()=>v(x),disabled:!t,title:"Upload for transcription",children:n.jsx(gs,{size:16})}),n.jsx("button",{className:"p-1 rounded border hover:bg-gray-100",onClick:()=>m(x),title:f(x.id)?"Pause":"Play",children:f(x.id)?n.jsx($i,{size:16}):n.jsx(Pi,{size:16})}),n.jsx("button",{className:"p-1 rounded border hover:bg-gray-100",onClick:()=>w(x.id),title:"Delete recording",children:n.jsx($n,{size:16})})]})]},x.id))})})})]})},on=({className:t="",compact:e=!1})=>{const{isOffline:s}=Me();return s?e?n.jsxs("div",{className:`inline-flex items-center p-1 rounded-full bg-amber-100 text-amber-800 ${t}`,role:"status","aria-live":"polite",children:[n.jsx(Ze,{size:16}),n.jsx("span",{className:"sr-only",children:"You are currently offline"})]}):n.jsxs("div",{className:`bg-amber-50 border border-amber-200 rounded-lg p-3 flex items-center text-amber-800 ${t}`,role:"status","aria-live":"polite",children:[n.jsx(Ze,{size:20,className:"mr-2","aria-hidden":"true"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"You are currently offline"}),n.jsx("p",{className:"text-sm mt-1",children:"Some features may be limited or unavailable"})]})]}):null},Fd=({className:t="",compact:e=!1})=>{const{preferences:s,updatePreferences:r}=fe(),a=()=>{r({...s,highContrast:!(s!=null&&s.highContrast)})},i=()=>{r({...s,largeText:!(s!=null&&s.largeText)})},o=()=>{r({...s,ttsEnabled:!(s!=null&&s.ttsEnabled)})};return e?n.jsxs("div",{className:`flex gap-2 ${t}`,children:[n.jsx("button",{onClick:a,className:`p-2 rounded-md ${s!=null&&s.highContrast?"bg-yellow-200 text-gray-900":"bg-gray-200 text-gray-700"}`,"aria-pressed":s==null?void 0:s.highContrast,"aria-label":"Toggle high contrast mode",title:"Toggle high contrast mode",children:n.jsx(Ji,{size:16,"aria-hidden":"true"})}),n.jsx("button",{onClick:i,className:`p-2 rounded-md ${s!=null&&s.largeText?"bg-blue-200 text-gray-900":"bg-gray-200 text-gray-700"}`,"aria-pressed":s==null?void 0:s.largeText,"aria-label":"Toggle large text",title:"Toggle large text",children:n.jsx(to,{size:16,"aria-hidden":"true"})}),n.jsx("button",{onClick:o,className:`p-2 rounded-md ${s!=null&&s.ttsEnabled?"bg-green-200 text-gray-900":"bg-gray-200 text-gray-700"}`,"aria-pressed":s==null?void 0:s.ttsEnabled,"aria-label":"Toggle text to speech",title:"Toggle text to speech",children:n.jsx(We,{size:16,"aria-hidden":"true"})})]}):n.jsxs("div",{className:`space-y-3 ${t}`,children:[n.jsx("h3",{className:`font-medium ${s!=null&&s.highContrast?"text-white":"text-gray-800"}`,children:"Accessibility Settings"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"high-contrast",className:`${s!=null&&s.highContrast?"text-gray-300":"text-gray-700"}`,children:"High Contrast Mode"}),n.jsxs("div",{className:"relative inline-block w-10 mr-2 align-middle select-none",children:[n.jsx("input",{id:"high-contrast",type:"checkbox",checked:s==null?void 0:s.highContrast,onChange:a,className:"sr-only"}),n.jsx("div",{className:`block h-6 rounded-full w-10 ${s!=null&&s.highContrast?"bg-yellow-400":"bg-gray-300"}`}),n.jsx("div",{className:`absolute left-0.5 top-0.5 bg-white border-2 border-gray-300 w-5 h-5 rounded-full transition-transform transform ${s!=null&&s.highContrast?"translate-x-4 border-yellow-400":""}`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"large-text",className:`${s!=null&&s.highContrast?"text-gray-300":"text-gray-700"}`,children:"Large Text"}),n.jsxs("div",{className:"relative inline-block w-10 mr-2 align-middle select-none",children:[n.jsx("input",{id:"large-text",type:"checkbox",checked:s==null?void 0:s.largeText,onChange:i,className:"sr-only"}),n.jsx("div",{className:`block h-6 rounded-full w-10 ${s!=null&&s.largeText?"bg-blue-400":"bg-gray-300"}`}),n.jsx("div",{className:`absolute left-0.5 top-0.5 bg-white border-2 border-gray-300 w-5 h-5 rounded-full transition-transform transform ${s!=null&&s.largeText?"translate-x-4 border-blue-400":""}`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{htmlFor:"tts-enabled",className:`${s!=null&&s.highContrast?"text-gray-300":"text-gray-700"}`,children:"Text-to-Speech"}),n.jsxs("div",{className:"relative inline-block w-10 mr-2 align-middle select-none",children:[n.jsx("input",{id:"tts-enabled",type:"checkbox",checked:s==null?void 0:s.ttsEnabled,onChange:o,className:"sr-only"}),n.jsx("div",{className:`block h-6 rounded-full w-10 ${s!=null&&s.ttsEnabled?"bg-green-400":"bg-gray-300"}`}),n.jsx("div",{className:`absolute left-0.5 top-0.5 bg-white border-2 border-gray-300 w-5 h-5 rounded-full transition-transform transform ${s!=null&&s.ttsEnabled?"translate-x-4 border-green-400":""}`})]})]})]})]})},Ud={twi:["ɛ is pronounced like 'eh' in 'bet'","ɔ is pronounced like 'aw' in 'saw'","Tones are important - high, mid, and low","Try 'Akwaaba' (Welcome) - a-kwa-'a-ba"],ga:["Nasal sounds are common","ŋ is pronounced like 'ng' in 'sing'","Tone changes can change word meaning","Try 'Ogekoo' (Welcome) - o-ge-'koo"],ewe:["ƒ is pronounced like 'f' but made with both lips","ɖ is pronounced with the tongue curled back","Try 'Woezɔ' (Welcome) - woe-'zɔ"],hausa:["Implosive consonants like ɓ and ɗ are distinctive","Long vowels are written double (aa)","Try 'Sannu' ('san-nu) - Hello"],english:["Standard pronunciation works well","Speak clearly and at a moderate pace"]},ln=()=>{var ne;const{toast:t}=mr(),[e,s]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState([]),[l,u]=c.useState("conversation"),[d,g]=c.useState(!1),[m,w]=c.useState(null),[v,f]=c.useState(!1),[x,p]=c.useState(null),[b,C]=c.useState(0),[k,T]=c.useState(!1),[A,$]=c.useState(null),[j,R]=c.useState(!1),[y,L]=c.useState(!1),[z,F]=c.useState(!1),[q,X]=c.useState(null),[U,M]=c.useState(0),{currentLanguage:B}=Re(),{isOffline:K}=Me(),{preferences:h}=fe(),S=c.useRef(null);c.useRef(K);const E=c.useRef(null),D=c.useCallback(()=>{S.current&&requestAnimationFrame(()=>{var O;(O=S.current)==null||O.scrollIntoView({behavior:"smooth",block:"end"})})},[]);c.useEffect(()=>{const O=()=>{L(window.innerWidth<768)};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]),c.useEffect(()=>{D()},[i,D]);const I=c.useCallback((O,G)=>{s(O),X(O),setTimeout(()=>{X(null)},2e3),(x==null?void 0:x.type)==="asr"&&p(null)},[x]),J=c.useCallback(O=>{p({message:O,type:"asr",timestamp:new Date}),C(G=>G+1)},[]),ae=c.useCallback(O=>{p({message:O,type:"tts",timestamp:new Date})},[]),ie=c.useCallback(()=>{if(e.trim()){const O={id:`asr-${Date.now()}`,text:e,timestamp:new Date,isInput:!0,language:B};o(G=>[...G,O]),s(""),setTimeout(D,100)}},[e,B,D]),ce=c.useCallback(()=>{if(r.trim()){const O={id:`tts-${Date.now()}`,text:r,timestamp:new Date,isInput:!1,language:B};o(G=>[...G,O]),a(""),E.current&&E.current.focus(),setTimeout(D,100)}},[r,B,D]),oe=c.useCallback(O=>{a(O.text);const G={id:`phrase-${Date.now()}`,text:O.text,timestamp:new Date,isInput:!1,language:B};o(Z=>[...Z,G]),setTimeout(D,100)},[B,D]),ye=()=>{window.confirm("Are you sure you want to clear the conversation history?")&&(o([]),localStorage.removeItem("conversation-history"))},P=()=>{p(null),C(0)},V=O=>{w(O),f(!0),setTimeout(()=>{f(!1),s("This is a simulated transcription from uploaded audio.")},2e3)};c.useEffect(()=>{const O=G=>{var Z,ee;if(!(((Z=document.activeElement)==null?void 0:Z.tagName)==="INPUT"||((ee=document.activeElement)==null?void 0:ee.tagName)==="TEXTAREA"))switch(G.key.toLowerCase()){case"r":l==="conversation"&&console.log("Record shortcut triggered");break;case"s":l==="conversation"&&console.log("Speak shortcut triggered");break;case"t":u(l==="conversation"?"phrases":"conversation");break;case"p":T(!k);break;case"?":R(!j);break}};return window.addEventListener("keydown",O),()=>{window.removeEventListener("keydown",O)}},[l,k,j]);const W=()=>{if(i.length===0){p({message:"No conversation to share",type:"general",timestamp:new Date});return}try{const O=i.map(Mt=>({text:Mt.text,isInput:Mt.isInput,language:Mt.language||B})),G=encodeURIComponent(JSON.stringify(O)),ee=`${window.location.origin+window.location.pathname}?share=${G}`;$(ee.substring(0,60)+"...")}catch(O){console.error("Failed to generate sharing link:",O),p({message:"Failed to generate sharing link",type:"general",timestamp:new Date})}},Y=()=>{try{const O=JSON.stringify(i,null,2),G="data:application/json;charset=utf-8,"+encodeURIComponent(O),Z=`talkghana-conversation-${new Date().toISOString().slice(0,10)}.json`,ee=document.createElement("a");ee.setAttribute("href",G),ee.setAttribute("download",Z),ee.click()}catch(O){console.error("Failed to export conversation:",O),p({message:"Failed to export conversation",type:"general",timestamp:new Date})}},he=()=>{L(!y)};return n.jsxs("div",{className:`container mx-auto transition-all duration-300 ${y?"px-2 pt-16 pb-4":"p-4 md:p-6"} ${h!=null&&h.highContrast?"bg-gray-900 text-white":""}`,children:[!y&&n.jsxs("header",{className:"mb-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[n.jsx("h1",{className:`text-2xl font-bold ${h!=null&&h.highContrast?"text-white":"text-gray-800"}`,children:"TalkGhana"}),n.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[n.jsx(Fd,{compact:!0}),n.jsx("button",{onClick:he,className:`p-2 rounded-full ${h!=null&&h.highContrast?"bg-gray-800 text-gray-200 hover:bg-gray-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":"Compact mode",title:"Compact mode",children:n.jsx(ji,{size:18})}),n.jsx("button",{onClick:()=>R(!j),className:`p-2 rounded-full ${h!=null&&h.highContrast?"bg-gray-800 text-gray-200 hover:bg-gray-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":"Keyboard shortcuts",title:"Keyboard shortcuts",children:n.jsx(pt,{size:18})}),n.jsx(rn,{})]})]}),K&&n.jsx(on,{className:"mb-4"}),x&&n.jsxs("div",{className:`border rounded-lg p-3 mb-4 flex items-center ${x.type==="asr"?"bg-red-50 border-red-200 text-red-800":x.type==="tts"?"bg-orange-50 border-orange-200 text-orange-800":"bg-gray-50 border-gray-200 text-gray-800"}`,role:"alert",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{children:x.message}),b>0&&x.type==="asr"&&n.jsxs("span",{className:"block text-sm mt-1",children:["Reconnection attempts: ",b,"/3"]})]}),n.jsx("button",{onClick:P,className:"ml-2 text-sm font-medium","aria-label":"Dismiss error",children:"Dismiss"})]}),j&&n.jsxs("div",{className:`mb-4 p-4 ${h!=null&&h.highContrast?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} rounded-lg shadow-md`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:`font-medium ${h!=null&&h.highContrast?"text-white":"text-gray-800"}`,children:"Keyboard Shortcuts"}),n.jsx("button",{onClick:()=>R(!1),className:`text-sm ${h!=null&&h.highContrast?"text-gray-400":"text-gray-500"} hover:underline`,children:"Close"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("kbd",{className:`px-2 py-1 mr-2 rounded ${h!=null&&h.highContrast?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"}`,children:"R"}),n.jsx("span",{children:"Start/stop recording"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("kbd",{className:`px-2 py-1 mr-2 rounded ${h!=null&&h.highContrast?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"}`,children:"S"}),n.jsx("span",{children:"Play/stop speech"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("kbd",{className:`px-2 py-1 mr-2 rounded ${h!=null&&h.highContrast?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"}`,children:"T"}),n.jsx("span",{children:"Toggle between tabs"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("kbd",{className:`px-2 py-1 mr-2 rounded ${h!=null&&h.highContrast?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"}`,children:"P"}),n.jsx("span",{children:"Show/hide pronunciation tips"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("kbd",{className:`px-2 py-1 mr-2 rounded ${h!=null&&h.highContrast?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"}`,children:"?"}),n.jsx("span",{children:"Show/hide this help"})]})]})]})]}),y&&n.jsxs("div",{className:"fixed top-0 left-0 right-0 z-30 flex justify-between items-center p-2 bg-white/90 backdrop-blur-sm dark:bg-gray-900/90 border-b border-gray-200 dark:border-gray-800",children:[n.jsx("button",{onClick:()=>F(!z),className:`p-2 rounded-full ${h!=null&&h.highContrast?"text-white":"text-gray-700"}`,children:n.jsx(kn,{size:20})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h1",{className:`text-lg font-bold ${h!=null&&h.highContrast?"text-white":"text-gray-800"}`,children:"TalkGhana"}),K&&n.jsx(on,{compact:!0})]}),n.jsx("button",{onClick:he,className:`p-2 rounded-full ${h!=null&&h.highContrast?"text-white":"text-gray-700"}`,children:n.jsx(pi,{size:20})})]}),y&&z&&n.jsx("div",{className:"fixed inset-0 z-40 bg-black/50",onClick:()=>F(!1),children:n.jsxs("div",{className:`fixed top-0 left-0 bottom-0 w-64 p-4 ${h!=null&&h.highContrast?"bg-gray-900":"bg-white"} shadow-lg`,onClick:O=>O.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:`font-bold ${h!=null&&h.highContrast?"text-white":"text-gray-800"}`,children:"Menu"}),n.jsx("button",{onClick:()=>F(!1),children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:`text-sm font-medium mb-2 ${h!=null&&h.highContrast?"text-gray-300":"text-gray-600"}`,children:"Language"}),n.jsx(rn,{})]}),n.jsxs("div",{children:[n.jsx("h3",{className:`text-sm font-medium mb-2 ${h!=null&&h.highContrast?"text-gray-300":"text-gray-600"}`,children:"Actions"}),n.jsx("button",{onClick:()=>{T(!k),F(!1)},className:`block w-full text-left p-2 rounded-md ${h!=null&&h.highContrast?"hover:bg-gray-800":"hover:bg-gray-100"} mb-1`,children:"Pronunciation Tips"}),n.jsxs("button",{onClick:()=>{u(l==="conversation"?"phrases":"conversation"),F(!1)},className:`block w-full text-left p-2 rounded-md ${h!=null&&h.highContrast?"hover:bg-gray-800":"hover:bg-gray-100"} mb-1`,children:["Switch to"," ",l==="conversation"?"Phrases":"Conversation"]}),n.jsx("button",{onClick:()=>{R(!0),F(!1)},className:`block w-full text-left p-2 rounded-md ${h!=null&&h.highContrast?"hover:bg-gray-800":"hover:bg-gray-100"}`,children:"Keyboard Shortcuts"})]}),i.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:`text-sm font-medium mb-2 ${h!=null&&h.highContrast?"text-gray-300":"text-gray-600"}`,children:"Conversation"}),n.jsx("button",{onClick:()=>{W(),F(!1)},className:`block w-full text-left p-2 rounded-md ${h!=null&&h.highContrast?"hover:bg-gray-800":"hover:bg-gray-100"} mb-1`,children:"Share Conversation"}),n.jsx("button",{onClick:()=>{Y(),F(!1)},className:`block w-full text-left p-2 rounded-md ${h!=null&&h.highContrast?"hover:bg-gray-800":"hover:bg-gray-100"} mb-1`,children:"Export Conversation"}),n.jsx("button",{onClick:()=>{ye(),F(!1)},className:`block w-full text-left p-2 rounded-md ${h!=null&&h.highContrast?"text-red-900":"text-red-600"}`,children:"Clear History"})]})]})]})}),n.jsxs("div",{className:`flex border-b border-gray-200 mb-4 overflow-x-auto ${y?"mt-2":""}`,role:"tablist",children:[n.jsx("button",{className:`py-2 px-4 font-medium whitespace-nowrap ${l==="conversation"?h!=null&&h.highContrast?"text-blue-300 border-b-2 border-blue-300":"text-blue-600 border-b-2 border-blue-600":h!=null&&h.highContrast?"text-gray-300 hover:text-gray-100":"text-gray-500 hover:text-gray-700"}`,onClick:()=>u("conversation"),role:"tab","aria-selected":l==="conversation","aria-controls":"conversation-panel",id:"conversation-tab",children:"Conversation"}),n.jsx("button",{className:`py-2 px-4 font-medium whitespace-nowrap ${l==="phrases"?h!=null&&h.highContrast?"text-blue-300 border-b-2 border-blue-300":"text-blue-600 border-b-2 border-blue-600":h!=null&&h.highContrast?"text-gray-300 hover:text-gray-100":"text-gray-500 hover:text-gray-700"}`,onClick:()=>u("phrases"),role:"tab","aria-selected":l==="phrases","aria-controls":"phrases-panel",id:"phrases-tab",children:"Common Phrases"}),n.jsx("button",{className:`py-2 px-4 font-medium whitespace-nowrap ${l==="recordings"?h!=null&&h.highContrast?"text-blue-300 border-b-2 border-blue-300":"text-blue-600 border-b-2 border-blue-600":h!=null&&h.highContrast?"text-gray-300 hover:text-gray-100":"text-gray-500 hover:text-gray-700"}`,onClick:()=>u("recordings"),role:"tab","aria-selected":l==="recordings","aria-controls":"recordings-panel",id:"recordings-tab",children:"Recordings"})]}),n.jsx("div",{className:"mb-6",children:l==="conversation"?n.jsxs("div",{role:"tabpanel",id:"conversation-panel","aria-labelledby":"conversation-tab",className:"space-y-6",children:[k&&n.jsxs("div",{className:`mb-6 p-4 rounded-lg ${h!=null&&h.highContrast?"bg-blue-900 border border-blue-800":"bg-blue-50 border border-blue-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("h3",{className:`font-medium ${h!=null&&h.highContrast?"text-white":"text-blue-800"}`,children:[B.charAt(0).toUpperCase()+B.slice(1)," ","Pronunciation Tips"]}),n.jsx("button",{onClick:()=>T(!1),className:`text-sm ${h!=null&&h.highContrast?"text-blue-300":"text-blue-600"} hover:underline`,children:"Close"})]}),n.jsx("ul",{className:`list-disc pl-5 ${h!=null&&h.highContrast?"text-blue-100":"text-blue-700"} text-sm space-y-1`,children:(ne=Ud[B])==null?void 0:ne.map((O,G)=>n.jsx("li",{children:O},G))})]}),i.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:`flex justify-between items-center mb-2 ${y?"flex-wrap gap-y-2":""}`,children:[n.jsx("h2",{className:`text-lg font-medium ${h!=null&&h.highContrast?"text-white":"text-gray-700"}`,children:"Conversation"}),!y&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>T(!k),className:`text-sm px-2 py-1 rounded ${h!=null&&h.highContrast?"bg-gray-800 text-blue-300 hover:bg-gray-700":"bg-blue-50 text-blue-600 hover:bg-blue-100"}`,"aria-label":"Show pronunciation tips",children:"Pronunciation Tips"}),n.jsxs("button",{onClick:W,className:`text-sm px-2 py-1 rounded flex items-center ${h!=null&&h.highContrast?"bg-gray-800 text-green-300 hover:bg-gray-700":"bg-green-50 text-green-600 hover:bg-green-100"}`,"aria-label":"Share conversation",children:[n.jsx(Ms,{size:14,className:"mr-1"}),"Share"]}),n.jsxs("button",{onClick:Y,className:`text-sm px-2 py-1 rounded flex items-center ${h!=null&&h.highContrast?"bg-gray-800 text-purple-300 hover:bg-gray-700":"bg-purple-50 text-purple-600 hover:bg-purple-100"}`,"aria-label":"Export conversation",children:[n.jsx(_e,{size:14,className:"mr-1"}),"Export"]}),n.jsx("button",{onClick:ye,className:`text-sm ${h!=null&&h.highContrast?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-800"}`,"aria-label":"Clear conversation history",children:"Clear"})]})]}),A&&n.jsxs("div",{className:`mb-3 p-3 rounded-lg flex items-center justify-between ${h!=null&&h.highContrast?"bg-gray-700 border border-gray-600":"bg-green-50 border border-green-200"}`,children:[n.jsxs("div",{className:"overflow-hidden text-ellipsis flex-1",children:[n.jsx("span",{className:`text-xs ${h!=null&&h.highContrast?"text-gray-300":"text-green-800"}`,children:"Sharing link (click to copy):"}),n.jsx("p",{className:`text-sm truncate cursor-pointer ${h!=null&&h.highContrast?"text-blue-300":"text-blue-600"}`,onClick:()=>{navigator.clipboard.writeText(A.replace("...","")),alert("Link copied to clipboard!")},children:A})]}),n.jsx("button",{onClick:()=>$(null),className:`text-xs ${h!=null&&h.highContrast?"text-gray-400":"text-gray-500"} hover:underline ml-2`,children:"Close"})]}),n.jsxs("div",{className:`${h!=null&&h.highContrast?"bg-gray-800":"bg-white"} border ${h!=null&&h.highContrast?"border-gray-700":"border-gray-200"} rounded-lg p-4 max-h-[300px] overflow-y-auto`,children:[i.map(O=>n.jsxs("div",{className:`mb-3 p-3 rounded-lg ${O.isInput?h!=null&&h.highContrast?"bg-gray-700 border border-gray-600":"bg-gray-100 border border-gray-200":h!=null&&h.highContrast?"bg-blue-900 border border-blue-800":"bg-blue-50 border border-blue-200"} ${q===O.text?"animate-pulse border-yellow-400":""}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsxs("span",{className:`text-xs font-medium ${h!=null&&h.highContrast?"text-gray-300":"text-gray-500"}`,children:[O.isInput?"Heard":"Spoke",O.language&&` (${O.language})`]}),n.jsx("span",{className:`text-xs ${h!=null&&h.highContrast,"text-gray-400"}`,children:O.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),n.jsx("p",{className:`${h!=null&&h.highContrast?"text-white":"text-gray-800"} ${h!=null&&h.largeText?"text-lg":""}`,children:O.text})]},O.id)),n.jsx("div",{ref:S})]})]}),n.jsxs("div",{className:`mb-6 ${y?"mt-4":""}`,children:[n.jsxs("h2",{className:`text-lg font-medium ${h!=null&&h.highContrast?"text-white":"text-gray-700"} mb-2 flex items-center`,children:[n.jsx(Fe,{size:18,className:"mr-2"}),"Listen"]}),K?n.jsx(wd,{onTranscriptChange:I,onSpeechEnd:ie,continuous:!1,placeholder:"Press Start to listen...",onError:J}):n.jsx(rr,{language:B,onTranscriptChange:I,onSpeechEnd:ie,onError:J})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:`text-lg font-medium ${h!=null&&h.highContrast?"text-white":"text-gray-700"} mb-2 flex items-center`,children:[n.jsx(We,{size:18,className:"mr-2"}),"Speak"]}),K?n.jsx(Nd,{text:r,autoPlay:!1,showControls:!0,showSettings:!0,onPlayStart:ce,onPlayEnd:()=>{},onError:ae}):n.jsx(nr,{text:r,language:B,autoPlay:!1,onPlayStart:ce,onPlayEnd:()=>{},onError:ae,showSettings:!0})]})]}):l==="phrases"?n.jsx("div",{role:"tabpanel",id:"phrases-panel","aria-labelledby":"phrases-tab",children:n.jsx(Ed,{onPhraseSelect:oe,showCategories:!0,maxPhrasesPerCategory:0,showTranslations:!0})}):n.jsx("div",{role:"tabpanel",id:"recordings-panel","aria-labelledby":"recordings-tab",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Td,{onSaveRecording:(O,G)=>{Ke.saveRecording(G,O,U).then(()=>{t("Recording Saved","Your recording has been saved successfully")}).catch(Z=>{console.error("Error saving recording:",Z),t("Error","Failed to save recording","error")})},onUploadForTranscription:async O=>{f(!0);try{const G=new FormData;G.append("audio",O),G.append("language",B);const Z=await fetch("/api/asr/whisper",{method:"POST",body:G}),ee=await Z.json();if(Z.ok&&ee.text)s(ee.text),I(ee.text,ee.confidence),t("Transcription Complete","Audio has been transcribed successfully");else throw new Error(ee.error||"Transcription failed")}catch(G){console.error("Transcription error:",G),t("Transcription Failed","Could not transcribe the audio","error"),p({message:"Transcription failed: "+G.message,type:"asr",timestamp:new Date})}finally{f(!1)}}}),n.jsx(_d,{onUploadForTranscription:async O=>{f(!0);try{const G=new FormData;G.append("audio",O.blob),G.append("language",B);const Z=await fetch("/api/asr/whisper",{method:"POST",body:G}),ee=await Z.json();if(Z.ok&&ee.text){s(ee.text),I(ee.text,ee.confidence),await Ke.updateTranscription(O.id,ee.text);return}else throw new Error(ee.error||"Transcription failed")}catch(G){throw console.error("Transcription error:",G),p({message:"Transcription failed: "+G.message,type:"asr",timestamp:new Date}),G}finally{f(!1)}}})]})})}),y&&n.jsxs("div",{className:"fixed bottom-4 right-4 flex flex-col space-y-2",children:[n.jsx("button",{onClick:()=>{u(l==="conversation"?"phrases":l==="phrases"?"recordings":"conversation")},className:`p-3 rounded-full shadow-lg ${h!=null&&h.highContrast?"bg-indigo-700 text-white":"bg-indigo-600 text-white"}`,"aria-label":"Switch tabs",children:l==="conversation"?"📝":l==="phrases"?"🎙️":"💬"}),i.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>T(!k),className:`p-3 rounded-full shadow-lg ${h!=null&&h.highContrast?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,"aria-label":"Pronunciation tips",children:n.jsx(pt,{size:20})}),n.jsx("button",{onClick:W,className:`p-3 rounded-full shadow-lg ${h!=null&&h.highContrast?"bg-green-700 text-white":"bg-green-600 text-white"}`,"aria-label":"Share conversation",children:n.jsx(Ms,{size:20})}),n.jsx("button",{onClick:Y,className:`p-3 rounded-full shadow-lg ${h!=null&&h.highContrast?"bg-purple-700 text-white":"bg-purple-600 text-white"}`,"aria-label":"Export conversation",children:n.jsx(_e,{size:20})})]})]}),!y&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mt-4 mb-2",children:n.jsx("button",{onClick:()=>g(!d),className:`text-sm ${h!=null&&h.highContrast?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-800"}`,"aria-expanded":d,"aria-controls":"advanced-controls",children:d?"Hide Advanced Options":"Show Advanced Options"})}),d&&n.jsxs("div",{id:"advanced-controls",className:`p-3 rounded-lg mb-6 ${h!=null&&h.highContrast?"bg-gray-800 border border-gray-700":"bg-gray-50 border border-gray-200"}`,children:[n.jsx("h3",{className:`text-sm font-medium mb-2 ${h!=null&&h.highContrast?"text-white":"text-gray-700"}`,children:"Advanced Options"}),n.jsx("div",{className:"space-y-3",children:n.jsxs("div",{children:[n.jsx("label",{htmlFor:"upload-audio",className:`block text-sm mb-1 ${h!=null&&h.highContrast?"text-gray-300":"text-gray-600"}`,children:"Upload audio for transcription:"}),n.jsx("input",{type:"file",id:"upload-audio",accept:"audio/*",onChange:O=>{var Z;const G=(Z=O.target.files)==null?void 0:Z[0];G&&V(G)},className:`block w-full text-sm ${h!=null&&h.highContrast?"text-gray-300 file:bg-gray-700 file:text-gray-300 file:border-gray-600":"text-gray-700 file:bg-gray-100 file:text-gray-700"} file:mr-4 file:py-2 file:px-4 file:rounded-md file:border file:text-sm file:font-medium`})]})})]})]}),!y&&n.jsxs("footer",{className:`mt-8 pt-6 border-t ${h!=null&&h.highContrast?"border-gray-700":"border-gray-200"}`,children:[n.jsx("h2",{className:`text-lg font-medium ${h!=null&&h.highContrast?"text-white":"text-gray-700"} mb-2`,children:"About TalkGhana"}),n.jsx("p",{className:`${h!=null&&h.highContrast?"text-gray-300":"text-gray-600"} mb-2 ${h!=null&&h.largeText?"text-lg":""}`,children:"TalkGhana is an assistive communication app for speech-impaired individuals using Ghanaian languages."}),n.jsx("p",{className:`${h!=null&&h.highContrast?"text-gray-300":"text-gray-600"} mb-4 ${h!=null&&h.largeText?"text-lg":""}`,children:'Use the "Listen" section to convert speech to text, and the "Speak" section or "Common Phrases" tab to convert text to speech.'}),n.jsx("div",{className:`text-sm ${h!=null&&h.highContrast?"text-gray-400":"text-gray-500"}`,children:n.jsx("p",{children:"Need help? Contact support@talkghana.org"})})]})]})};function Dd(){const[t,e]=c.useState(!0),[s,r]=c.useState(!1),[a,i]=c.useState(window.innerWidth<768);c.useEffect(()=>{const l=setTimeout(()=>{e(!1)},1500);"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(g=>{g.addEventListener("updatefound",()=>{r(!0)})});const u=()=>{i(window.innerWidth<768)},d=g=>{var m;if(g instanceof CustomEvent&&((m=g.detail)!=null&&m.language)){const w=document.documentElement,v=g.detail.language;w.dir="ltr",["lang-en","lang-twi","lang-ga","lang-ewe","lang-hausa","lang-dagbani"].forEach(x=>w.classList.remove(x)),w.classList.add(`lang-${v==="english"?"en":v}`)}};return window.addEventListener("resize",u),window.addEventListener("app-language-change",d),()=>{clearTimeout(l),window.removeEventListener("resize",u),window.removeEventListener("app-language-change",d)}},[]);const o=()=>{window.location.reload()};return n.jsx(mo,{children:n.jsx("div",{className:`app min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900 transition-opacity duration-300 ${t?"opacity-0":"opacity-100"}`,children:n.jsx(Ta,{children:n.jsx(ad,{children:n.jsx(Md,{children:t?n.jsx("div",{className:"app-loading flex items-center justify-center min-h-screen",children:n.jsx(nd,{isLoading:!0,message:"Initializing application..."})}):n.jsxs(Sa,{children:[n.jsx(rd,{}),s&&n.jsxs("div",{className:"update-banner fixed top-0 left-0 right-0 bg-blue-600 text-white py-2 px-4 z-50 flex justify-between items-center",children:[n.jsx("p",{children:"A new version is available!"}),n.jsx("button",{onClick:o,className:"px-3 py-1 rounded bg-white text-blue-600 text-sm font-medium hover:bg-blue-50",children:"Update Now"})]}),n.jsx("div",{className:a?"pb-16":"",children:n.jsx(fo,{children:n.jsxs(xa,{children:[n.jsx(Ne,{path:"/",element:n.jsx(ln,{})}),n.jsx(Ne,{path:"/home",element:n.jsx(rc,{})}),n.jsx(Ne,{path:"/conversation",element:n.jsx(ln,{})}),n.jsx(Ne,{path:"/voice-commands",element:n.jsx(Yc,{})}),n.jsx(Ne,{path:"/settings",element:n.jsx(td,{})}),n.jsx(Ne,{path:"/offline",element:n.jsx(sd,{})}),n.jsx(Ne,{path:"*",element:n.jsx(fa,{to:"/",replace:!0})})]})})})]})})})})})})}const Bd=async()=>{if(console.log("Initializing TalkGhana services"),navigator.onLine){console.log("Application is online, initializing remote services");try{const t=await fetch("http://localhost:5002/api/ping");if(t.ok){const e=await t.json();console.log("API Server is online:",e)}else console.warn("API Server is not responding correctly")}catch(t){console.warn("Failed to connect to API server:",t),console.log("Speech services will operate in fallback mode")}}else console.log("Application is offline, initializing offline services")};Bd().catch(t=>{console.error("Failed to initialize services:",t)});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("Service Worker registered with scope:",t.scope),"sync"in t&&(Notification.requestPermission(),setInterval(()=>{t.update().then(()=>console.log("Service Worker checked for updates")).catch(e=>console.error("Error updating Service Worker:",e))},60*60*1e3))}).catch(t=>{console.error("Service Worker registration failed:",t)})});window.addEventListener("online",()=>{console.log("App is online"),document.dispatchEvent(new CustomEvent("app-online"))});window.addEventListener("offline",()=>{console.log("App is offline"),document.dispatchEvent(new CustomEvent("app-offline"))});un(document.getElementById("root")).render(n.jsx(c.StrictMode,{children:n.jsx(Dd,{})}));
//# sourceMappingURL=index-D-NC1ScE.js.map
