const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-ponyfill-DKQo9w2z.js","assets/vendor-nIHjnSxB.js"])))=>i.map(i=>d[i]);
var Mr=Object.defineProperty;var Ir=(n,e,t)=>e in n?Mr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Z=(n,e,t)=>Ir(n,typeof e!="symbol"?e+"":e,t);import{r as h,a as Fr,R as zr}from"./vendor-nIHjnSxB.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var pa={exports:{}},qt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dr=h,Ur=Symbol.for("react.element"),_r=Symbol.for("react.fragment"),Br=Object.prototype.hasOwnProperty,Hr=Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vr={key:!0,ref:!0,__self:!0,__source:!0};function xa(n,e,t){var s,a={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Br.call(e,s)&&!Vr.hasOwnProperty(s)&&(a[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps,e)a[s]===void 0&&(a[s]=e[s]);return{$$typeof:Ur,type:n,key:i,ref:o,props:a,_owner:Hr.current}}qt.Fragment=_r;qt.jsx=xa;qt.jsxs=xa;pa.exports=qt;var r=pa.exports,qr={exports:{}};(function(n){var e=function(t){var s=Object.prototype,a=s.hasOwnProperty,i=Object.defineProperty||function(f,C,T){f[C]=T.value},o,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",d=l.asyncIterator||"@@asyncIterator",u=l.toStringTag||"@@toStringTag";function g(f,C,T){return Object.defineProperty(f,C,{value:T,enumerable:!0,configurable:!0,writable:!0}),f[C]}try{g({},"")}catch{g=function(C,T,_){return C[T]=_}}function b(f,C,T,_){var D=C&&C.prototype instanceof k?C:k,Y=Object.create(D.prototype),ie=new P(_||[]);return i(Y,"_invoke",{value:F(f,T,ie)}),Y}t.wrap=b;function w(f,C,T){try{return{type:"normal",arg:f.call(C,T)}}catch(_){return{type:"throw",arg:_}}}var m="suspendedStart",p="suspendedYield",x="executing",y="completed",j={};function k(){}function $(){}function A(){}var O={};g(O,c,function(){return this});var S=Object.getPrototypeOf,E=S&&S(S(U([])));E&&E!==s&&a.call(E,c)&&(O=E);var v=A.prototype=k.prototype=Object.create(O);$.prototype=A,i(v,"constructor",{value:A,configurable:!0}),i(A,"constructor",{value:$,configurable:!0}),$.displayName=g(A,u,"GeneratorFunction");function L(f){["next","throw","return"].forEach(function(C){g(f,C,function(T){return this._invoke(C,T)})})}t.isGeneratorFunction=function(f){var C=typeof f=="function"&&f.constructor;return C?C===$||(C.displayName||C.name)==="GeneratorFunction":!1},t.mark=function(f){return Object.setPrototypeOf?Object.setPrototypeOf(f,A):(f.__proto__=A,g(f,u,"GeneratorFunction")),f.prototype=Object.create(v),f},t.awrap=function(f){return{__await:f}};function R(f,C){function T(Y,ie,oe,ue){var le=w(f[Y],f,ie);if(le.type==="throw")ue(le.arg);else{var je=le.arg,M=je.value;return M&&typeof M=="object"&&a.call(M,"__await")?C.resolve(M.__await).then(function(V){T("next",V,oe,ue)},function(V){T("throw",V,oe,ue)}):C.resolve(M).then(function(V){je.value=V,oe(je)},function(V){return T("throw",V,oe,ue)})}}var _;function D(Y,ie){function oe(){return new C(function(ue,le){T(Y,ie,ue,le)})}return _=_?_.then(oe,oe):oe()}i(this,"_invoke",{value:D})}L(R.prototype),g(R.prototype,d,function(){return this}),t.AsyncIterator=R,t.async=function(f,C,T,_,D){D===void 0&&(D=Promise);var Y=new R(b(f,C,T,_),D);return t.isGeneratorFunction(C)?Y:Y.next().then(function(ie){return ie.done?ie.value:Y.next()})};function F(f,C,T){var _=m;return function(Y,ie){if(_===x)throw new Error("Generator is already running");if(_===y){if(Y==="throw")throw ie;return Q()}for(T.method=Y,T.arg=ie;;){var oe=T.delegate;if(oe){var ue=W(oe,T);if(ue){if(ue===j)continue;return ue}}if(T.method==="next")T.sent=T._sent=T.arg;else if(T.method==="throw"){if(_===m)throw _=y,T.arg;T.dispatchException(T.arg)}else T.method==="return"&&T.abrupt("return",T.arg);_=x;var le=w(f,C,T);if(le.type==="normal"){if(_=T.done?y:p,le.arg===j)continue;return{value:le.arg,done:T.done}}else le.type==="throw"&&(_=y,T.method="throw",T.arg=le.arg)}}}function W(f,C){var T=C.method,_=f.iterator[T];if(_===o)return C.delegate=null,T==="throw"&&f.iterator.return&&(C.method="return",C.arg=o,W(f,C),C.method==="throw")||T!=="return"&&(C.method="throw",C.arg=new TypeError("The iterator does not provide a '"+T+"' method")),j;var D=w(_,f.iterator,C.arg);if(D.type==="throw")return C.method="throw",C.arg=D.arg,C.delegate=null,j;var Y=D.arg;if(!Y)return C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,j;if(Y.done)C[f.resultName]=Y.value,C.next=f.nextLoc,C.method!=="return"&&(C.method="next",C.arg=o);else return Y;return C.delegate=null,j}L(v),g(v,u,"Generator"),g(v,c,function(){return this}),g(v,"toString",function(){return"[object Generator]"});function J(f){var C={tryLoc:f[0]};1 in f&&(C.catchLoc=f[1]),2 in f&&(C.finallyLoc=f[2],C.afterLoc=f[3]),this.tryEntries.push(C)}function z(f){var C=f.completion||{};C.type="normal",delete C.arg,f.completion=C}function P(f){this.tryEntries=[{tryLoc:"root"}],f.forEach(J,this),this.reset(!0)}t.keys=function(f){var C=Object(f),T=[];for(var _ in C)T.push(_);return T.reverse(),function D(){for(;T.length;){var Y=T.pop();if(Y in C)return D.value=Y,D.done=!1,D}return D.done=!0,D}};function U(f){if(f!=null){var C=f[c];if(C)return C.call(f);if(typeof f.next=="function")return f;if(!isNaN(f.length)){var T=-1,_=function D(){for(;++T<f.length;)if(a.call(f,T))return D.value=f[T],D.done=!1,D;return D.value=o,D.done=!0,D};return _.next=_}}throw new TypeError(typeof f+" is not iterable")}t.values=U;function Q(){return{value:o,done:!0}}return P.prototype={constructor:P,reset:function(f){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(z),!f)for(var C in this)C.charAt(0)==="t"&&a.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=o)},stop:function(){this.done=!0;var f=this.tryEntries[0],C=f.completion;if(C.type==="throw")throw C.arg;return this.rval},dispatchException:function(f){if(this.done)throw f;var C=this;function T(ue,le){return Y.type="throw",Y.arg=f,C.next=ue,le&&(C.method="next",C.arg=o),!!le}for(var _=this.tryEntries.length-1;_>=0;--_){var D=this.tryEntries[_],Y=D.completion;if(D.tryLoc==="root")return T("end");if(D.tryLoc<=this.prev){var ie=a.call(D,"catchLoc"),oe=a.call(D,"finallyLoc");if(ie&&oe){if(this.prev<D.catchLoc)return T(D.catchLoc,!0);if(this.prev<D.finallyLoc)return T(D.finallyLoc)}else if(ie){if(this.prev<D.catchLoc)return T(D.catchLoc,!0)}else if(oe){if(this.prev<D.finallyLoc)return T(D.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(f,C){for(var T=this.tryEntries.length-1;T>=0;--T){var _=this.tryEntries[T];if(_.tryLoc<=this.prev&&a.call(_,"finallyLoc")&&this.prev<_.finallyLoc){var D=_;break}}D&&(f==="break"||f==="continue")&&D.tryLoc<=C&&C<=D.finallyLoc&&(D=null);var Y=D?D.completion:{};return Y.type=f,Y.arg=C,D?(this.method="next",this.next=D.finallyLoc,j):this.complete(Y)},complete:function(f,C){if(f.type==="throw")throw f.arg;return f.type==="break"||f.type==="continue"?this.next=f.arg:f.type==="return"?(this.rval=this.arg=f.arg,this.method="return",this.next="end"):f.type==="normal"&&C&&(this.next=C),j},finish:function(f){for(var C=this.tryEntries.length-1;C>=0;--C){var T=this.tryEntries[C];if(T.finallyLoc===f)return this.complete(T.completion,T.afterLoc),z(T),j}},catch:function(f){for(var C=this.tryEntries.length-1;C>=0;--C){var T=this.tryEntries[C];if(T.tryLoc===f){var _=T.completion;if(_.type==="throw"){var D=_.arg;z(T)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(f,C,T){return this.delegate={iterator:U(f),resultName:C,nextLoc:T},this.method==="next"&&(this.arg=o),j}},t}(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(qr);var yn,ss=Fr;yn=ss.createRoot,ss.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ht(){return ht=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ht.apply(this,arguments)}var Te;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Te||(Te={}));const as="popstate";function Wr(n){n===void 0&&(n={});function e(s,a){let{pathname:i,search:o,hash:l}=s.location;return wn("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:At(a)}return Kr(e,t,null,n)}function ne(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ba(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gr(){return Math.random().toString(36).substr(2,8)}function rs(n,e){return{usr:n.state,key:n.key,idx:e}}function wn(n,e,t,s){return t===void 0&&(t=null),ht({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Qe(e):e,{state:t,key:e&&e.key||s||Gr()})}function At(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Qe(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function Kr(n,e,t,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=Te.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(ht({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function g(){l=Te.Pop;let x=u(),y=x==null?null:x-d;d=x,c&&c({action:l,location:p.location,delta:y})}function b(x,y){l=Te.Push;let j=wn(p.location,x,y);d=u()+1;let k=rs(j,d),$=p.createHref(j);try{o.pushState(k,"",$)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign($)}i&&c&&c({action:l,location:p.location,delta:1})}function w(x,y){l=Te.Replace;let j=wn(p.location,x,y);d=u();let k=rs(j,d),$=p.createHref(j);o.replaceState(k,"",$),i&&c&&c({action:l,location:p.location,delta:0})}function m(x){let y=a.location.origin!=="null"?a.location.origin:a.location.href,j=typeof x=="string"?x:At(x);return j=j.replace(/ $/,"%20"),ne(y,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,y)}let p={get action(){return l},get location(){return n(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(as,g),c=x,()=>{a.removeEventListener(as,g),c=null}},createHref(x){return e(a,x)},createURL:m,encodeLocation(x){let y=m(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:b,replace:w,go(x){return o.go(x)}};return p}var is;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(is||(is={}));function Jr(n,e,t){return t===void 0&&(t="/"),Yr(n,e,t)}function Yr(n,e,t,s){let a=typeof e=="string"?Qe(e):e,i=Bn(a.pathname||"/",t);if(i==null)return null;let o=ya(n);Xr(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=ci(i);l=ii(o[c],d)}return l}function ya(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ne(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Re([s,c.relativePath]),u=t.concat(c);i.children&&i.children.length>0&&(ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),ya(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:ai(d,i.index),routesMeta:u})};return n.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of wa(i.path))a(i,o,c)}),e}function wa(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=wa(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function Xr(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ri(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const Qr=/^:[\w-]+$/,Zr=3,ei=2,ti=1,ni=10,si=-2,os=n=>n==="*";function ai(n,e){let t=n.split("/"),s=t.length;return t.some(os)&&(s+=si),e&&(s+=ei),t.filter(a=>!os(a)).reduce((a,i)=>a+(Qr.test(i)?Zr:i===""?ti:ni),s)}function ri(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function ii(n,e,t){let{routesMeta:s}=n,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?e:e.slice(i.length)||"/",g=oi({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),b=c.route;if(!g)return null;Object.assign(a,g.params),o.push({params:a,pathname:Re([i,g.pathname]),pathnameBase:gi(Re([i,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(i=Re([i,g.pathnameBase]))}return o}function oi(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=li(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,g)=>{let{paramName:b,isOptional:w}=u;if(b==="*"){let p=l[g]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=l[g];return w&&!m?d[b]=void 0:d[b]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:n}}function li(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ba(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function ci(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ba(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Bn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function di(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?Qe(n):n;return{pathname:t?t.startsWith("/")?t:ui(t,e):e,search:fi(s),hash:mi(a)}}function ui(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function on(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hi(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Hn(n,e){let t=hi(n);return e?t.map((s,a)=>a===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function Vn(n,e,t,s){s===void 0&&(s=!1);let a;typeof n=="string"?a=Qe(n):(a=ht({},n),ne(!a.pathname||!a.pathname.includes("?"),on("?","pathname","search",a)),ne(!a.pathname||!a.pathname.includes("#"),on("#","pathname","hash",a)),ne(!a.search||!a.search.includes("#"),on("#","search","hash",a)));let i=n===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=t;else{let g=e.length-1;if(!s&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}l=g>=0?e[g]:"/"}let c=di(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Re=n=>n.join("/").replace(/\/\/+/g,"/"),gi=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fi=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mi=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function pi(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const va=["post","put","patch","delete"];new Set(va);const xi=["get",...va];new Set(xi);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gt(){return gt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},gt.apply(this,arguments)}const qn=h.createContext(null),bi=h.createContext(null),Oe=h.createContext(null),Wt=h.createContext(null),Ae=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Sa=h.createContext(null);function yi(n,e){let{relative:t}=e===void 0?{}:e;Ze()||ne(!1);let{basename:s,navigator:a}=h.useContext(Oe),{hash:i,pathname:o,search:l}=Na(n,{relative:t}),c=o;return s!=="/"&&(c=o==="/"?s:Re([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Ze(){return h.useContext(Wt)!=null}function et(){return Ze()||ne(!1),h.useContext(Wt).location}function ja(n){h.useContext(Oe).static||h.useLayoutEffect(n)}function Gt(){let{isDataRoute:n}=h.useContext(Ae);return n?Oi():wi()}function wi(){Ze()||ne(!1);let n=h.useContext(qn),{basename:e,future:t,navigator:s}=h.useContext(Oe),{matches:a}=h.useContext(Ae),{pathname:i}=et(),o=JSON.stringify(Hn(a,t.v7_relativeSplatPath)),l=h.useRef(!1);return ja(()=>{l.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let g=Vn(d,JSON.parse(o),i,u.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Re([e,g.pathname])),(u.replace?s.replace:s.push)(g,u.state,u)},[e,s,o,i,n])}function Na(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=h.useContext(Oe),{matches:a}=h.useContext(Ae),{pathname:i}=et(),o=JSON.stringify(Hn(a,s.v7_relativeSplatPath));return h.useMemo(()=>Vn(n,JSON.parse(o),i,t==="path"),[n,o,i,t])}function vi(n,e){return Si(n,e)}function Si(n,e,t,s){Ze()||ne(!1);let{navigator:a,static:i}=h.useContext(Oe),{matches:o}=h.useContext(Ae),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let u=et(),g;if(e){var b;let y=typeof e=="string"?Qe(e):e;d==="/"||(b=y.pathname)!=null&&b.startsWith(d)||ne(!1),g=y}else g=u;let w=g.pathname||"/",m=w;if(d!=="/"){let y=d.replace(/^\//,"").split("/");m="/"+w.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=Jr(n,{pathname:m}),x=Ei(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:Re([d,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:Re([d,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,t,s);return e&&x?h.createElement(Wt.Provider,{value:{location:gt({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Te.Pop}},x):x}function ji(){let n=Li(),e=pi(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),t?h.createElement("pre",{style:a},t):null,null)}const Ni=h.createElement(ji,null);class Ci extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?h.createElement(Ae.Provider,{value:this.props.routeContext},h.createElement(Sa.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ki(n){let{routeContext:e,match:t,children:s}=n,a=h.useContext(qn);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),h.createElement(Ae.Provider,{value:e},s)}function Ei(n,e,t,s){var a;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=(a=t)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);u>=0||ne(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(t&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let g=o[u];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=u),g.route.id){let{loaderData:b,errors:w}=t,m=g.route.loader&&b[g.route.id]===void 0&&(!w||w[g.route.id]===void 0);if(g.route.lazy||m){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,g,b)=>{let w,m=!1,p=null,x=null;t&&(w=l&&g.route.id?l[g.route.id]:void 0,p=g.route.errorElement||Ni,c&&(d<0&&b===0?(Ai("route-fallback"),m=!0,x=null):d===b&&(m=!0,x=g.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,b+1)),j=()=>{let k;return w?k=p:m?k=x:g.route.Component?k=h.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=u,h.createElement(ki,{match:g,routeContext:{outlet:u,matches:y,isDataRoute:t!=null},children:k})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?h.createElement(Ci,{location:t.location,revalidation:t.revalidation,component:p,error:w,children:j(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):j()},null)}var Ca=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Ca||{}),ka=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(ka||{});function $i(n){let e=h.useContext(qn);return e||ne(!1),e}function Ti(n){let e=h.useContext(bi);return e||ne(!1),e}function Ri(n){let e=h.useContext(Ae);return e||ne(!1),e}function Ea(n){let e=Ri(),t=e.matches[e.matches.length-1];return t.route.id||ne(!1),t.route.id}function Li(){var n;let e=h.useContext(Sa),t=Ti(),s=Ea();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function Oi(){let{router:n}=$i(Ca.UseNavigateStable),e=Ea(ka.UseNavigateStable),t=h.useRef(!1);return ja(()=>{t.current=!0}),h.useCallback(function(a,i){i===void 0&&(i={}),t.current&&(typeof a=="number"?n.navigate(a):n.navigate(a,gt({fromRouteId:e},i)))},[n,e])}const ls={};function Ai(n,e,t){ls[n]||(ls[n]=!0)}function Pi(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Mi(n){let{to:e,replace:t,state:s,relative:a}=n;Ze()||ne(!1);let{future:i,static:o}=h.useContext(Oe),{matches:l}=h.useContext(Ae),{pathname:c}=et(),d=Gt(),u=Vn(e,Hn(l,i.v7_relativeSplatPath),c,a==="path"),g=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(g),{replace:t,state:s,relative:a}),[d,g,a,t,s]),null}function Ee(n){ne(!1)}function Ii(n){let{basename:e="/",children:t=null,location:s,navigationType:a=Te.Pop,navigator:i,static:o=!1,future:l}=n;Ze()&&ne(!1);let c=e.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:i,static:o,future:gt({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Qe(s));let{pathname:u="/",search:g="",hash:b="",state:w=null,key:m="default"}=s,p=h.useMemo(()=>{let x=Bn(u,c);return x==null?null:{location:{pathname:x,search:g,hash:b,state:w,key:m},navigationType:a}},[c,u,g,b,w,m,a]);return p==null?null:h.createElement(Oe.Provider,{value:d},h.createElement(Wt.Provider,{children:t,value:p}))}function Fi(n){let{children:e,location:t}=n;return vi(vn(e),t)}new Promise(()=>{});function vn(n,e){e===void 0&&(e=[]);let t=[];return h.Children.forEach(n,(s,a)=>{if(!h.isValidElement(s))return;let i=[...e,a];if(s.type===h.Fragment){t.push.apply(t,vn(s.props.children,i));return}s.type!==Ee&&ne(!1),!s.props.index||!s.props.children||ne(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=vn(s.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sn(){return Sn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Sn.apply(this,arguments)}function zi(n,e){if(n==null)return{};var t={},s=Object.keys(n),a,i;for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function Di(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Ui(n,e){return n.button===0&&(!e||e==="_self")&&!Di(n)}const _i=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Bi="6";try{window.__reactRouterVersion=Bi}catch{}const Hi="startTransition",cs=zr[Hi];function Vi(n){let{basename:e,children:t,future:s,window:a}=n,i=h.useRef();i.current==null&&(i.current=Wr({window:a,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=h.useCallback(g=>{d&&cs?cs(()=>c(g)):c(g)},[c,d]);return h.useLayoutEffect(()=>o.listen(u),[o,u]),h.useEffect(()=>Pi(s),[s]),h.createElement(Ii,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:s})}const qi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wi=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=h.forwardRef(function(e,t){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:g}=e,b=zi(e,_i),{basename:w}=h.useContext(Oe),m,p=!1;if(typeof d=="string"&&Wi.test(d)&&(m=d,qi))try{let k=new URL(window.location.href),$=d.startsWith("//")?new URL(k.protocol+d):new URL(d),A=Bn($.pathname,w);$.origin===k.origin&&A!=null?d=A+$.search+$.hash:p=!0}catch{}let x=yi(d,{relative:a}),y=Gi(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:g});function j(k){s&&s(k),k.defaultPrevented||y(k)}return h.createElement("a",Sn({},b,{href:m||x,onClick:p||i?s:j,ref:t,target:c}))});var ds;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(ds||(ds={}));var us;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(us||(us={}));function Gi(n,e){let{target:t,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=Gt(),d=et(),u=Na(n,{relative:o});return h.useCallback(g=>{if(Ui(g,t)){g.preventDefault();let b=s!==void 0?s:At(d)===At(u);c(n,{replace:b,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,t,n,i,o,l])}const jn=[{code:"twi",name:"Twi",localName:"Twi",voiceAvailable:!0,offlineSupport:!0,whisperModel:"small"},{code:"ga",name:"Ga",localName:"Gã",voiceAvailable:!0,offlineSupport:!1,whisperModel:"base"},{code:"ewe",name:"Ewe",localName:"Eʋegbe",voiceAvailable:!0,offlineSupport:!1,whisperModel:"base"},{code:"dagbani",name:"Dagbani",localName:"Dagbani",voiceAvailable:!1,offlineSupport:!1,whisperModel:"base"},{code:"hausa",name:"Hausa",localName:"Hausa",voiceAvailable:!0,offlineSupport:!1,whisperModel:"base"},{code:"english",name:"English",localName:"English",voiceAvailable:!0,offlineSupport:!0,whisperModel:"medium"}],$a=h.createContext({currentLanguage:"english",setCurrentLanguage:()=>{},availableLanguages:jn,getLanguageResource:()=>{}}),Ki=({children:n})=>{const[e,t]=h.useState(()=>localStorage.getItem("preferredLanguage")||"english");h.useEffect(()=>{localStorage.setItem("preferredLanguage",e)},[e]);const a={currentLanguage:e,setCurrentLanguage:t,availableLanguages:jn,getLanguageResource:i=>jn.find(o=>o.code===i)};return r.jsx($a.Provider,{value:a,children:n})},Pe=()=>h.useContext($a);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yi=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),hs=n=>{const e=Yi(n);return e.charAt(0).toUpperCase()+e.slice(1)},Ta=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),Xi=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=h.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...Qi,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:Ta("lucide",a),...!i&&!Xi(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=(n,e)=>{const t=h.forwardRef(({className:s,...a},i)=>h.createElement(Zi,{ref:i,iconNode:e,className:Ta(`lucide-${Ji(hs(n))}`,`lucide-${n}`,s),...a}));return t.displayName=hs(n),t};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],to=B("arrow-right",eo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],so=B("bell",no);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Wn=B("check",ao);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],io=B("chevron-down",ro);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],lo=B("chevron-left",oo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uo=B("chevron-right",co);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ra=B("circle-alert",ho);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],fo=B("circle-check",go);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lt=B("circle-check-big",mo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pt=B("circle-help",po);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],bo=B("circle-pause",xo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],wo=B("circle-play",yo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],So=B("circle-stop",vo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],vt=B("circle-x",jo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],$t=B("command",No);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],gs=B("cpu",Co);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Je=B("download",ko);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$o=B("eye",Eo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ro=B("globe",To);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],La=B("hard-drive",Lo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ao=B("info",Oo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Mo=B("loader",Po);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Fo=B("maximize-2",Io);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Oa=B("menu",zo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],St=B("message-circle",Do);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Aa=B("message-square",Uo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Ye=B("mic",_o);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Ho=B("minimize-2",Bo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],fs=B("monitor",Vo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],ms=B("moon",qo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],Go=B("mouse-pointer",Wo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Jo=B("music",Ko);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Xo=B("pause",Yo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ps=B("pencil",Qo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],el=B("play",Zo);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nl=B("plus",tl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Mt=B("refresh-cw",sl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pa=B("save",al);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],il=B("server",rl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ct=B("settings",ol);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],xs=B("share-2",ll);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],dl=B("sliders-vertical",cl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=[["path",{d:"M12 3c7.2 0 9 1.8 9 9s-1.8 9-9 9-9-1.8-9-9 1.8-9 9-9",key:"garfkc"}]],Ma=B("squircle",ul);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gl=B("star",hl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=[["path",{d:"M12 8a2.83 2.83 0 0 0 4 4 4 4 0 1 1-4-4",key:"1fu5g2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.9 4.9 1.4 1.4",key:"b9915j"}],["path",{d:"m17.7 17.7 1.4 1.4",key:"qc3ed3"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.3 17.7-1.4 1.4",key:"5gca6"}],["path",{d:"m19.1 4.9-1.4 1.4",key:"wpu9u6"}]],ml=B("sun-moon",fl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],bs=B("sun",pl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Nn=B("trash-2",xl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Ia=B("trash",bl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wl=B("triangle-alert",yl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],Sl=B("type",vl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Gn=B("upload",jl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]],Cl=B("vibrate",Nl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],tt=B("volume-2",kl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ft=B("wifi-off",El);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Fa=B("wifi",$l);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jt=B("x",Tl);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ll=B("zap",Rl),za=h.createContext(void 0),Yt=()=>{const n=h.useContext(za);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},Ol=()=>{const n=typeof window<"u"?localStorage.getItem("theme"):null;return n||"system"},Al=()=>typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",Pl=({children:n})=>{const[e,t]=h.useState(Ol),[s,a]=h.useState(Al),i=l=>{localStorage.setItem("theme",l),t(l)},o=()=>{i(e==="system"?s==="dark"?"light":"dark":e==="dark"?"light":"dark")};return h.useEffect(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{a(l.matches?"dark":"light")};if(c(),l.addEventListener)return l.addEventListener("change",c),()=>l.removeEventListener("change",c);if("addListener"in l)return l.addListener(c),()=>{l.removeListener(c)}},[]),h.useEffect(()=>{(e==="system"?s:e)==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light"),document.documentElement.style.colorScheme="dark"):(document.documentElement.classList.add("light"),document.documentElement.classList.remove("dark"),document.documentElement.style.colorScheme="light")},[e,s]),r.jsx(za.Provider,{value:{theme:e,setTheme:i,toggleTheme:o},children:n})},ys=({className:n=""})=>{const{theme:e,setTheme:t}=Yt(),[s,a]=h.useState(!1),i=h.useRef(null);h.useEffect(()=>{const d=u=>{i.current&&!i.current.contains(u.target)&&a(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const o=()=>{a(!s)},l=d=>{t(d),a(!1)},c=()=>{switch(e){case"dark":return r.jsx(bs,{size:18});case"system":return r.jsx(fs,{size:18});default:return r.jsx(ms,{size:18})}};return r.jsxs("div",{className:"relative",ref:i,children:[r.jsx("button",{onClick:o,className:`p-2 rounded-full transition-all duration-300 ${e==="dark"?"bg-gray-700 text-yellow-200 hover:bg-gray-600":"bg-blue-100 text-blue-800 hover:bg-blue-200"} ${n}`,"aria-label":"Toggle theme",title:"Toggle theme",children:c()}),s&&r.jsxs("div",{className:"absolute right-0 mt-2 w-48 py-2 bg-white dark:bg-gray-800 rounded-md shadow-xl z-50",children:[r.jsxs("button",{onClick:()=>l("light"),className:`flex items-center w-full px-4 py-2 text-sm ${e==="light"?"text-blue-600 bg-blue-50 dark:bg-gray-700":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[r.jsx(bs,{size:16,className:"mr-2"}),"Light",e==="light"&&r.jsx("span",{className:"ml-auto text-blue-600",children:"✓"})]}),r.jsxs("button",{onClick:()=>l("dark"),className:`flex items-center w-full px-4 py-2 text-sm ${e==="dark"?"text-blue-600 bg-blue-50 dark:bg-gray-700":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[r.jsx(ms,{size:16,className:"mr-2"}),"Dark",e==="dark"&&r.jsx("span",{className:"ml-auto text-blue-600",children:"✓"})]}),r.jsxs("button",{onClick:()=>l("system"),className:`flex items-center w-full px-4 py-2 text-sm ${e==="system"?"text-blue-600 bg-blue-50 dark:bg-gray-700":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[r.jsx(fs,{size:16,className:"mr-2"}),"System",e==="system"&&r.jsx("span",{className:"ml-auto text-blue-600",children:"✓"})]})]})]})},ln=({to:n,isActive:e,icon:t,label:s,onClick:a,className:i=""})=>{const{theme:o}=Yt();return r.jsxs(Kt,{to:n,className:`nav-link flex items-center px-4 py-2 rounded-md font-medium transition-colors ${e?`bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-200 ${o==="dark"?"border-blue-400":"border-blue-600"}`:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700/50"} ${i}`,onClick:a,"aria-current":e?"page":void 0,children:[t&&r.jsx("span",{className:"mr-2",children:t}),r.jsx("span",{children:s}),e&&r.jsx("span",{className:"sr-only",children:"(current page)"})]})},cn=({to:n,isActive:e,icon:t,label:s,onClick:a,className:i=""})=>{const{theme:o}=Yt();return r.jsxs(Kt,{to:n,className:`nav-link flex items-center px-4 py-3 rounded-md font-medium my-1 transition-colors ${e?`bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-200 ${o==="dark"?"border-l-4 border-blue-400":"border-l-4 border-blue-600"}`:"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700/50"} ${i}`,onClick:a,"aria-current":e?"page":void 0,children:[t&&r.jsx("span",{className:"mr-3",children:t}),r.jsx("span",{children:s}),e&&r.jsx("span",{className:"sr-only",children:"(current page)"})]})},dn=({to:n,isActive:e,icon:t,label:s})=>r.jsxs(Kt,{to:n,className:`flex flex-col items-center justify-center py-2 px-3 transition-colors ${e?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,"aria-current":e?"page":void 0,children:[t,r.jsx("span",{className:"text-xs mt-1",children:s})]}),Ml=({children:n})=>{const[e,t]=h.useState(window.innerWidth<768),[s,a]=h.useState(!1),[i,o]=h.useState(!1),l=h.useRef(null),c=h.useRef(null);Gt();const d=et(),{currentLanguage:u}=Pe(),{theme:g}=Yt();h.useEffect(()=>{const w=()=>{const m=window.innerWidth<768;t(m),m||a(!1)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),h.useEffect(()=>{a(!1)},[d]),h.useEffect(()=>{const w=()=>{o(window.scrollY>10)};return window.addEventListener("scroll",w),()=>window.removeEventListener("scroll",w)},[]),h.useEffect(()=>{const w=m=>{s&&l.current&&!l.current.contains(m.target)&&c.current&&!c.current.contains(m.target)&&a(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[s]),h.useEffect(()=>{const w=m=>{m.key==="Escape"&&s&&a(!1)};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]);const b=()=>{a(!s)};return r.jsxs("div",{className:"app-layout min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[r.jsxs("header",{className:`app-header sticky top-0 z-30 transition-all duration-300 ${i?"bg-white dark:bg-gray-800 shadow-md":"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm"}`,children:[r.jsxs("div",{className:"header-content max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[r.jsxs(Kt,{to:"/",className:"logo flex items-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center mr-2",children:r.jsx(St,{className:"text-white",size:24})}),r.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"TalkGhana"})]}),e?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ys,{className:"theme-toggle"}),r.jsx("button",{ref:c,className:"menu-toggle h-10 w-10 flex items-center justify-center rounded-full text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:b,"aria-label":s?"Close menu":"Open menu","aria-expanded":s,"aria-controls":"mobile-menu",children:s?r.jsx(Jt,{size:24}):r.jsx(Oa,{size:24})})]}):r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ys,{className:"theme-toggle"}),r.jsxs("nav",{className:"desktop-nav flex space-x-1",children:[r.jsx(ln,{to:"/conversation",isActive:d.pathname==="/conversation"||d.pathname==="/",icon:r.jsx(St,{size:18}),label:"Conversation"}),r.jsx(ln,{to:"/voice-commands",isActive:d.pathname==="/voice-commands",icon:r.jsx($t,{size:18}),label:"Commands"}),r.jsx(ln,{to:"/settings",isActive:d.pathname==="/settings",icon:r.jsx(ct,{size:18}),label:"Settings"})]})]})]}),e&&r.jsxs("div",{ref:l,id:"mobile-menu",className:`mobile-menu px-4 pb-4 bg-white dark:bg-gray-800 shadow-lg transition-all duration-300 overflow-hidden ${s?"open":"closed"}`,"aria-hidden":!s,children:[r.jsx(cn,{to:"/conversation",isActive:d.pathname==="/conversation"||d.pathname==="/",icon:r.jsx(St,{size:20}),label:"Conversation",onClick:()=>a(!1)}),r.jsx(cn,{to:"/voice-commands",isActive:d.pathname==="/voice-commands",icon:r.jsx($t,{size:20}),label:"Commands",onClick:()=>a(!1)}),r.jsx(cn,{to:"/settings",isActive:d.pathname==="/settings",icon:r.jsx(ct,{size:20}),label:"Settings",onClick:()=>a(!1)})]})]}),r.jsx("main",{className:"main-content flex-grow max-w-7xl w-full mx-auto px-4 py-6",children:n}),e&&r.jsxs("nav",{className:"mobile-nav fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-lg z-20 flex justify-around",children:[r.jsx(dn,{to:"/conversation",isActive:d.pathname==="/conversation"||d.pathname==="/",icon:r.jsx(St,{size:24}),label:"Chat"}),r.jsx(dn,{to:"/voice-commands",isActive:d.pathname==="/voice-commands",icon:r.jsx($t,{size:24}),label:"Commands"}),r.jsx(dn,{to:"/settings",isActive:d.pathname==="/settings",icon:r.jsx(ct,{size:24}),label:"Settings"})]})]})},Il=(n,e,t,s)=>{var i,o,l,c;const a=[t,{code:e,...s||{}}];if((o=(i=n==null?void 0:n.services)==null?void 0:i.logger)!=null&&o.forward)return n.services.logger.forward(a,"warn","react-i18next::",!0);ze(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(c=(l=n==null?void 0:n.services)==null?void 0:l.logger)!=null&&c.warn?n.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},ws={},Cn=(n,e,t,s)=>{ze(t)&&ws[t]||(ze(t)&&(ws[t]=new Date),Il(n,e,t,s))},Da=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},kn=(n,e,t)=>{n.loadNamespaces(e,Da(n,t))},vs=(n,e,t,s)=>{if(ze(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return kn(n,t,s);t.forEach(a=>{n.options.ns.indexOf(a)<0&&n.options.ns.push(a)}),n.loadLanguages(e,Da(n,s))},Fl=(n,e,t={})=>!e.languages||!e.languages.length?(Cn(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(s,a)=>{var i;if(((i=t.bindI18n)==null?void 0:i.indexOf("languageChanging"))>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!a(s.isLanguageChangingTo,n))return!1}}),ze=n=>typeof n=="string",zl=n=>typeof n=="object"&&n!==null,Dl=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ul={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},_l=n=>Ul[n],Bl=n=>n.replace(Dl,_l);let En={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Bl};const Hl=(n={})=>{En={...En,...n}},Vl=()=>En;let Ua;const ql=n=>{Ua=n},Wl=()=>Ua,Gl={type:"3rdParty",init(n){Hl(n.options.react),ql(n)}},Kl=h.createContext();class Jl{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Yl=(n,e)=>{const t=h.useRef();return h.useEffect(()=>{t.current=n},[n,e]),t.current},_a=(n,e,t,s)=>n.getFixedT(e,t,s),Xl=(n,e,t,s)=>h.useCallback(_a(n,e,t,s),[n,e,t,s]),Kn=(n,e={})=>{var $,A,O,S;const{i18n:t}=e,{i18n:s,defaultNS:a}=h.useContext(Kl)||{},i=t||s||Wl();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Jl),!i){Cn(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const E=(L,R)=>ze(R)?R:zl(R)&&ze(R.defaultValue)?R.defaultValue:Array.isArray(L)?L[L.length-1]:L,v=[E,{},!1];return v.t=E,v.i18n={},v.ready=!1,v}($=i.options.react)!=null&&$.wait&&Cn(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Vl(),...i.options.react,...e},{useSuspense:l,keyPrefix:c}=o;let d=a||((A=i.options)==null?void 0:A.defaultNS);d=ze(d)?[d]:d||["translation"],(S=(O=i.reportNamespaces).addUsedNamespaces)==null||S.call(O,d);const u=(i.isInitialized||i.initializedStoreOnce)&&d.every(E=>Fl(E,i,o)),g=Xl(i,e.lng||null,o.nsMode==="fallback"?d:d[0],c),b=()=>g,w=()=>_a(i,e.lng||null,o.nsMode==="fallback"?d:d[0],c),[m,p]=h.useState(b);let x=d.join();e.lng&&(x=`${e.lng}${x}`);const y=Yl(x),j=h.useRef(!0);h.useEffect(()=>{const{bindI18n:E,bindI18nStore:v}=o;j.current=!0,!u&&!l&&(e.lng?vs(i,e.lng,d,()=>{j.current&&p(w)}):kn(i,d,()=>{j.current&&p(w)})),u&&y&&y!==x&&j.current&&p(w);const L=()=>{j.current&&p(w)};return E&&(i==null||i.on(E,L)),v&&(i==null||i.store.on(v,L)),()=>{j.current=!1,i&&(E==null||E.split(" ").forEach(R=>i.off(R,L))),v&&i&&v.split(" ").forEach(R=>i.store.off(R,L))}},[i,x]),h.useEffect(()=>{j.current&&u&&p(b)},[i,c,u]);const k=[m,i,u];if(k.t=m,k.i18n=i,k.ready=u,u||!u&&!l)return k;throw new Promise(E=>{e.lng?vs(i,e.lng,d,()=>E()):kn(i,d,()=>E())})},q=n=>typeof n=="string",rt=()=>{let n,e;const t=new Promise((s,a)=>{n=s,e=a});return t.resolve=n,t.reject=e,t},Ss=n=>n==null?"":""+n,Ql=(n,e,t)=>{n.forEach(s=>{e[s]&&(t[s]=e[s])})},Zl=/###/g,js=n=>n&&n.indexOf("###")>-1?n.replace(Zl,"."):n,Ns=n=>!n||q(n),dt=(n,e,t)=>{const s=q(e)?e.split("."):e;let a=0;for(;a<s.length-1;){if(Ns(n))return{};const i=js(s[a]);!n[i]&&t&&(n[i]=new t),Object.prototype.hasOwnProperty.call(n,i)?n=n[i]:n={},++a}return Ns(n)?{}:{obj:n,k:js(s[a])}},Cs=(n,e,t)=>{const{obj:s,k:a}=dt(n,e,Object);if(s!==void 0||e.length===1){s[a]=t;return}let i=e[e.length-1],o=e.slice(0,e.length-1),l=dt(n,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=dt(n,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=t},ec=(n,e,t,s)=>{const{obj:a,k:i}=dt(n,e,Object);a[i]=a[i]||[],a[i].push(t)},It=(n,e)=>{const{obj:t,k:s}=dt(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,s))return t[s]},tc=(n,e,t)=>{const s=It(n,t);return s!==void 0?s:It(e,t)},Ba=(n,e,t)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in n?q(n[s])||n[s]instanceof String||q(e[s])||e[s]instanceof String?t&&(n[s]=e[s]):Ba(n[s],e[s],t):n[s]=e[s]);return n},He=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var nc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const sc=n=>q(n)?n.replace(/[&<>"'\/]/g,e=>nc[e]):n;class ac{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const rc=[" ",",","?","!",";"],ic=new ac(20),oc=(n,e,t)=>{e=e||"",t=t||"";const s=rc.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(s.length===0)return!0;const a=ic.getRegExp(`(${s.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(n);if(!i){const o=n.indexOf(t);o>0&&!a.test(n.substring(0,o))&&(i=!0)}return i},$n=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const s=e.split(t);let a=n;for(let i=0;i<s.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=i;c<s.length;++c)if(c!==i&&(l+=t),l+=s[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<s.length-1)continue;i+=c-i+1;break}a=o}return a},Ft=n=>n==null?void 0:n.replace("_","-"),lc={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,s;(s=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||s.call(t,console,e)}};class zt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||lc,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,a){return a&&!this.debug?null:(q(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new zt(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new zt(this.logger,e)}}var ve=new zt;class Xt{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const a=this.observers[s].get(t)||0;this.observers[s].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[l,c]=o;for(let d=0;d<c;d++)l(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,c]=o;for(let d=0;d<c;d++)l.apply(l,[e,...s])})}}class ks extends Xt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s){var d,u;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],s&&(Array.isArray(s)?l.push(...s):q(s)&&i?l.push(...s.split(i)):l.push(s)));const c=It(this.data,l);return!c&&!t&&!s&&e.indexOf(".")>-1&&(e=l[0],t=l[1],s=l.slice(2).join(".")),c||!o||!q(s)?c:$n((u=(d=this.data)==null?void 0:d[e])==null?void 0:u[t],s,i)}addResource(e,t,s,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,t];s&&(l=l.concat(o?s.split(o):s)),e.indexOf(".")>-1&&(l=e.split("."),a=t,t=l[1]),this.addNamespaces(t),Cs(this.data,l,a),i.silent||this.emit("added",e,t,s,a)}addResources(e,t,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in s)(q(s[i])||Array.isArray(s[i]))&&this.addResource(e,t,i,s[i],{silent:!0});a.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,a,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,t];e.indexOf(".")>-1&&(l=e.split("."),a=s,s=t,t=l[1]),this.addNamespaces(t);let c=It(this.data,l)||{};o.skipCopy||(s=JSON.parse(JSON.stringify(s))),a?Ba(c,s,i):c={...c,...s},Cs(this.data,l,c),o.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var Ha={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,s,a){return n.forEach(i=>{var o;e=((o=this.processors[i])==null?void 0:o.process(e,t,s,a))??e}),e}};const Es={},$s=n=>!q(n)&&typeof n!="boolean"&&typeof n!="number";class Dt extends Xt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Ql(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ve.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const s=this.resolve(e,t);return(s==null?void 0:s.res)!==void 0}extractFromKey(e,t){let s=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const o=s&&e.indexOf(s)>-1,l=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!oc(e,s,a);if(o&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:q(i)?[i]:i};const d=e.split(s);(s!==a||s===a&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),e=d.join(a)}return{key:e,namespaces:q(i)?[i]:i}}translate(e,t,s){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],t),c=l[l.length-1],d=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode"){if(u){const R=t.nsSeparator||this.options.nsSeparator;return a?{res:`${c}${R}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:`${c}${R}${o}`}return a?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:o}const g=this.resolve(e,t);let b=g==null?void 0:g.res;const w=(g==null?void 0:g.usedKey)||o,m=(g==null?void 0:g.exactUsedKey)||o,p=["[object Number]","[object Function]","[object RegExp]"],x=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,j=t.count!==void 0&&!q(t.count),k=Dt.hasDefaultValue(t),$=j?this.pluralResolver.getSuffix(d,t.count,t):"",A=t.ordinal&&j?this.pluralResolver.getSuffix(d,t.count,{ordinal:!1}):"",O=j&&!t.ordinal&&t.count===0,S=O&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${$}`]||t[`defaultValue${A}`]||t.defaultValue;let E=b;y&&!b&&k&&(E=S);const v=$s(E),L=Object.prototype.toString.apply(E);if(y&&E&&v&&p.indexOf(L)<0&&!(q(x)&&Array.isArray(E))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,E,{...t,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(g.res=R,g.usedParams=this.getUsedParamsDetails(t),g):R}if(i){const R=Array.isArray(E),F=R?[]:{},W=R?m:w;for(const J in E)if(Object.prototype.hasOwnProperty.call(E,J)){const z=`${W}${i}${J}`;k&&!b?F[J]=this.translate(z,{...t,defaultValue:$s(S)?S[J]:void 0,joinArrays:!1,ns:l}):F[J]=this.translate(z,{...t,joinArrays:!1,ns:l}),F[J]===z&&(F[J]=E[J])}b=F}}else if(y&&q(x)&&Array.isArray(b))b=b.join(x),b&&(b=this.extendTranslation(b,e,t,s));else{let R=!1,F=!1;!this.isValidLookup(b)&&k&&(R=!0,b=S),this.isValidLookup(b)||(F=!0,b=o);const J=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:b,z=k&&S!==b&&this.options.updateMissing;if(F||R||z){if(this.logger.log(z?"updateKey":"missingKey",d,c,o,z?S:b),i){const f=this.resolve(o,{...t,keySeparator:!1});f&&f.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let P=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let f=0;f<U.length;f++)P.push(U[f]);else this.options.saveMissingTo==="all"?P=this.languageUtils.toResolveHierarchy(t.lng||this.language):P.push(t.lng||this.language);const Q=(f,C,T)=>{var D;const _=k&&T!==b?T:J;this.options.missingKeyHandler?this.options.missingKeyHandler(f,c,C,_,z,t):(D=this.backendConnector)!=null&&D.saveMissing&&this.backendConnector.saveMissing(f,c,C,_,z,t),this.emit("missingKey",f,c,C,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?P.forEach(f=>{const C=this.pluralResolver.getSuffixes(f,t);O&&t[`defaultValue${this.options.pluralSeparator}zero`]&&C.indexOf(`${this.options.pluralSeparator}zero`)<0&&C.push(`${this.options.pluralSeparator}zero`),C.forEach(T=>{Q([f],o+T,t[`defaultValue${T}`]||S)})}):Q(P,o,S))}b=this.extendTranslation(b,e,t,g,s),F&&b===o&&this.options.appendNamespaceToMissingKey&&(b=`${c}:${o}`),(F||R)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,R?b:void 0))}return a?(g.res=b,g.usedParams=this.getUsedParamsDetails(t),g):b}extendTranslation(e,t,s,a,i){var d,u;var o=this;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const g=q(e)&&(((u=s==null?void 0:s.interpolation)==null?void 0:u.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let b;if(g){const m=e.match(this.interpolator.nestingRegexp);b=m&&m.length}let w=s.replace&&!q(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(w={...this.options.interpolation.defaultVariables,...w}),e=this.interpolator.interpolate(e,w,s.lng||this.language||a.usedLng,s),g){const m=e.match(this.interpolator.nestingRegexp),p=m&&m.length;b<p&&(s.nest=!1)}!s.lng&&a&&a.res&&(s.lng=this.language||a.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var m=arguments.length,p=new Array(m),x=0;x<m;x++)p[x]=arguments[x];return(i==null?void 0:i[0])===p[0]&&!s.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):o.translate(...p,t)},s)),s.interpolation&&this.interpolator.reset()}const l=s.postProcess||this.options.postProcess,c=q(l)?[l]:l;return e!=null&&(c!=null&&c.length)&&s.applyPostProcessor!==!1&&(e=Ha.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,a,i,o,l;return q(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(s))return;const d=this.extractFromKey(c,t),u=d.key;a=u;let g=d.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const b=t.count!==void 0&&!q(t.count),w=b&&!t.ordinal&&t.count===0,m=t.context!==void 0&&(q(t.context)||typeof t.context=="number")&&t.context!=="",p=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);g.forEach(x=>{var y,j;this.isValidLookup(s)||(l=x,!Es[`${p[0]}-${x}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((j=this.utils)!=null&&j.hasLoadedNamespace(l))&&(Es[`${p[0]}-${x}`]=!0,this.logger.warn(`key "${a}" for languages "${p.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(k=>{var O;if(this.isValidLookup(s))return;o=k;const $=[u];if((O=this.i18nFormat)!=null&&O.addLookupKeys)this.i18nFormat.addLookupKeys($,u,k,x,t);else{let S;b&&(S=this.pluralResolver.getSuffix(k,t.count,t));const E=`${this.options.pluralSeparator}zero`,v=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&($.push(u+S),t.ordinal&&S.indexOf(v)===0&&$.push(u+S.replace(v,this.options.pluralSeparator)),w&&$.push(u+E)),m){const L=`${u}${this.options.contextSeparator}${t.context}`;$.push(L),b&&($.push(L+S),t.ordinal&&S.indexOf(v)===0&&$.push(L+S.replace(v,this.options.pluralSeparator)),w&&$.push(L+E))}}let A;for(;A=$.pop();)this.isValidLookup(s)||(i=A,s=this.getResource(k,x,A,t))}))})}),{res:s,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,s){var i;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,t,s,a):this.resourceStore.getResource(e,t,s,a)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!q(e.replace);let a=s?e.replace:e;if(s&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!s){a={...a};for(const i of t)delete a[i]}return a}static hasDefaultValue(e){const t="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&e[s]!==void 0)return!0;return!1}}class Ts{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ve.create("languageUtils")}getScriptPartFromCode(e){if(e=Ft(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Ft(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(q(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(s=>{if(t)return;const a=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(s=>{if(t)return;const a=this.getScriptPartFromCode(s);if(this.isSupportedCode(a))return t=a;const i=this.getLanguagePartFromCode(s);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),q(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return q(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):q(e)&&i(this.formatLanguageCode(e)),s.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}const Rs={zero:0,one:1,two:2,few:3,many:4,other:5},Ls={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class cc{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ve.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=Ft(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:s,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(s,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ls;if(!e.match(/-|_/))return Ls;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,t)}return this.pluralRulesCache[i]=o,o}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,s).map(a=>`${t}${a}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?s.resolvedOptions().pluralCategories.sort((a,i)=>Rs[a]-Rs[i]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(e,s);return a?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,s))}}const Os=function(n,e,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=tc(n,e,t);return!i&&a&&q(t)&&(i=$n(n,t,s),i===void 0&&(i=$n(e,t,s))),i},un=n=>n.replace(/\$/g,"$$$$");class dc{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ve.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(s=>s),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:g,nestingPrefix:b,nestingPrefixEscaped:w,nestingSuffix:m,nestingSuffixEscaped:p,nestingOptionsSeparator:x,maxReplaces:y,alwaysFormat:j}=e.interpolation;this.escape=t!==void 0?t:sc,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?He(i):o||"{{",this.suffix=l?He(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=b?He(b):w||He("$t("),this.nestingSuffix=m?He(m):p||He(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=y||1e3,this.alwaysFormat=j!==void 0?j:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,s)=>(t==null?void 0:t.source)===s?(t.lastIndex=0,t):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,s,a){var w;let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=m=>{if(m.indexOf(this.formatSeparator)<0){const j=Os(t,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,s,{...a,...t,interpolationkey:m}):j}const p=m.split(this.formatSeparator),x=p.shift().trim(),y=p.join(this.formatSeparator).trim();return this.format(Os(t,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),y,s,{...a,...t,interpolationkey:x})};this.resetRegExp();const u=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((w=a==null?void 0:a.interpolation)==null?void 0:w.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>un(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?un(this.escape(m)):un(m)}].forEach(m=>{for(l=0;i=m.regex.exec(e);){const p=i[1].trim();if(o=d(p),o===void 0)if(typeof u=="function"){const y=u(e,i,a);o=q(y)?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,p))o="";else if(g){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),o="";else!q(o)&&!this.useRawValueToEscape&&(o=Ss(o));const x=m.safeValue(o);if(e=e.replace(i[0],x),g?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,i,o;const l=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const g=c.split(new RegExp(`${u}[ ]*{`));let b=`{${g[1]}`;c=g[0],b=this.interpolate(b,o);const w=b.match(/'/g),m=b.match(/"/g);(((w==null?void 0:w.length)??0)%2===0&&!m||m.length%2!==0)&&(b=b.replace(/'/g,'"'));try{o=JSON.parse(b),d&&(o={...d,...o})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,p),`${c}${u}${b}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(e);){let c=[];o={...s},o=o.replace&&!q(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let d=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const u=a[1].split(this.formatSeparator).map(g=>g.trim());a[1]=u.shift(),c=u,d=!0}if(i=t(l.call(this,a[1].trim(),o),o),i&&a[0]===e&&!q(i))return i;q(i)||(i=Ss(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),i=""),d&&(i=c.reduce((u,g)=>this.format(u,g,s.lng,{...s,interpolationkey:a[1].trim()}),i.trim())),e=e.replace(a[0],i),this.regexp.lastIndex=0}return e}}const uc=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const s=n.split("(");e=s[0].toLowerCase().trim();const a=s[1].substring(0,s[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=l.trim();t[u]||(t[u]=d),d==="false"&&(t[u]=!1),d==="true"&&(t[u]=!0),isNaN(d)||(t[u]=parseInt(d,10))}})}return{formatName:e,formatOptions:t}},Ve=n=>{const e={};return(t,s,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=s+JSON.stringify(i);let l=e[o];return l||(l=n(Ft(s),a),e[o]=l),l(t)}};class hc{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ve.create("formatter"),this.options=e,this.formats={number:Ve((t,s)=>{const a=new Intl.NumberFormat(t,{...s});return i=>a.format(i)}),currency:Ve((t,s)=>{const a=new Intl.NumberFormat(t,{...s,style:"currency"});return i=>a.format(i)}),datetime:Ve((t,s)=>{const a=new Intl.DateTimeFormat(t,{...s});return i=>a.format(i)}),relativetime:Ve((t,s)=>{const a=new Intl.RelativeTimeFormat(t,{...s});return i=>a.format(i,s.range||"day")}),list:Ve((t,s)=>{const a=new Intl.ListFormat(t,{...s});return i=>a.format(i)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Ve(t)}format(e,t,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{var g;const{formatName:d,formatOptions:u}=uc(c);if(this.formats[d]){let b=l;try{const w=((g=a==null?void 0:a.formatParams)==null?void 0:g[a.interpolationkey])||{},m=w.locale||w.lng||a.locale||a.lng||s;b=this.formats[d](l,m,{...u,...a,...w})}catch(w){this.logger.warn(w)}return b}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const gc=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class fc extends Xt{constructor(e,t,s){var i,o;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=a,this.logger=ve.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,s,a.backend,a)}queueLoad(e,t,s,a){const i={},o={},l={},c={};return e.forEach(d=>{let u=!0;t.forEach(g=>{const b=`${d}|${g}`;!s.reload&&this.store.hasResourceBundle(d,g)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?o[b]===void 0&&(o[b]=!0):(this.state[b]=1,u=!1,o[b]===void 0&&(o[b]=!0),i[b]===void 0&&(i[b]=!0),c[g]===void 0&&(c[g]=!0)))}),u||(l[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,t,s){const a=e.split("|"),i=a[0],o=a[1];t&&this.emit("failedLoading",i,o,t),!t&&s&&this.store.addResourceBundle(i,o,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&s&&(this.state[e]=0);const l={};this.queue.forEach(c=>{ec(c.loaded,[i],o),gc(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const u=c.loaded[d];u.length&&u.forEach(g=>{l[d][g]===void 0&&(l[d][g]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,t,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:s,tried:a,wait:i,callback:o});return}this.readingCalls++;const l=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(d&&u&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,s,a+1,i*2,o)},i);return}o(d,u)},c=this.backend[s].bind(this.backend);if(c.length===2){try{const d=c(e,t);d&&typeof d.then=="function"?d.then(u=>l(null,u)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,t,l)}prepareLoading(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();q(e)&&(e=this.languageUtils.toResolveHierarchy(e)),q(t)&&(t=[t]);const i=this.queueLoad(e,t,s,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=e.split("|"),a=s[0],i=s[1];this.read(a,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${t}loading namespace ${i} for language ${a} failed`,o),!o&&l&&this.logger.log(`${t}loaded namespace ${i} for language ${a}`,l),this.loaded(e,o,l)})}saveMissing(e,t,s,a,i){var c,d,u,g,b;let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace&&!((g=(u=this.services)==null?void 0:u.utils)!=null&&g.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((b=this.backend)!=null&&b.create){const w={...o,isUpdate:i},m=this.backend.create.bind(this.backend);if(m.length<6)try{let p;m.length===5?p=m(e,t,s,a,w):p=m(e,t,s,a),p&&typeof p.then=="function"?p.then(x=>l(null,x)).catch(l):l(null,p)}catch(p){l(p)}else m(e,t,s,a,l,w)}!e||!e[0]||this.store.addResource(e[0],t,s,a)}}}const As=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),q(n[1])&&(e.defaultValue=n[1]),q(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(s=>{e[s]=t[s]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Ps=n=>{var e,t;return q(n.ns)&&(n.ns=[n.ns]),q(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),q(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},jt=()=>{},mc=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class mt extends Xt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Ps(e),this.services={},this.logger=ve,this.modules={external:[]},mc(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(s=t,t={}),t.defaultNS==null&&t.ns&&(q(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=As();this.options={...a,...this.options,...Ps(t)},this.options.interpolation={...a.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?ve.init(i(this.modules.logger),this.options):ve.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=hc;const g=new Ts(this.options);this.store=new ks(this.options.resources,this.options);const b=this.services;b.logger=ve,b.resourceStore=this.store,b.languageUtils=g,b.pluralResolver=new cc(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(b.formatter=i(u),b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new dc(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new fc(i(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",function(w){for(var m=arguments.length,p=new Array(m>1?m-1:0),x=1;x<m;x++)p[x-1]=arguments[x];e.emit(w,...p)}),this.modules.languageDetector&&(b.languageDetector=i(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=i(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new Dt(this.services,this.options),this.translator.on("*",function(w){for(var m=arguments.length,p=new Array(m>1?m-1:0),x=1;x<m;x++)p[x-1]=arguments[x];e.emit(w,...p)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,s||(s=jt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const c=rt(),d=()=>{const u=(g,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(b),s(g,b)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(e){var i,o;let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt;const a=q(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(g=>{g!=="cimode"&&l.indexOf(g)<0&&l.push(g)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>c(u)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(d)})}else s(null)}reloadResources(e,t,s){const a=rt();return typeof e=="function"&&(s=e,e=void 0),typeof t=="function"&&(s=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),s||(s=jt),this.services.backendConnector.reload(e,t,i=>{a.resolve(),s(i)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ha.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const s=this.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.indexOf(e)<0&&this.languages.unshift(e))}}changeLanguage(e,t){var s=this;this.isLanguageChangingTo=e;const a=rt();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,a.resolve(function(){return s.t(...arguments)}),t&&t(c,function(){return s.t(...arguments)})},l=c=>{var g,b;!e&&!c&&this.services.languageDetector&&(c=[]);const d=q(c)?c:c&&c[0],u=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(q(c)?[c]:c);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(b=(g=this.services.languageDetector)==null?void 0:g.cacheUserLanguage)==null||b.call(g,u)),this.loadResources(u,w=>{o(w,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),a}getFixedT(e,t,s){var a=this;const i=function(o,l){let c;if(typeof l!="object"){for(var d=arguments.length,u=new Array(d>2?d-2:0),g=2;g<d;g++)u[g-2]=arguments[g];c=a.options.overloadTranslationOptionHandler([o,l].concat(u))}else c={...l};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||s||i.keyPrefix);const b=a.options.keySeparator||".";let w;return c.keyPrefix&&Array.isArray(o)?w=o.map(m=>`${c.keyPrefix}${b}${m}`):w=c.keyPrefix?`${c.keyPrefix}${b}${o}`:o,a.t(w,c)};return q(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=s,i}t(){var a;for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(a=this.translator)==null?void 0:a.translate(...t)}exists(){var a;for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(a=this.translator)==null?void 0:a.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(t.precheck){const l=t.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(s,e)&&(!a||o(i,e)))}loadNamespaces(e,t){const s=rt();return this.options.ns?(q(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{s.resolve(),t&&t(a)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){const s=rt();q(e)&&(e=[e]);const a=this.options.preload||[],i=e.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{s.resolve(),t&&t(o)}),s):(t&&t(),Promise.resolve())}dir(e){var a,i;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((i=this.services)==null?void 0:i.languageUtils)||new Ts(As());return t.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new mt(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt;const s=e.forkResourceStore;s&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},i=new mt(a);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},s){const l=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},Object.keys(c[d]).reduce((u,g)=>(u[g]={...c[d][g]},u),{})),{});i.store=new ks(l,a),i.services.resourceStore=i.store}return i.translator=new Dt(i.services,a),i.translator.on("*",function(l){for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];i.emit(l,...d)}),i.init(a,t),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const de=mt.createInstance();de.createInstance=mt.createInstance;de.createInstance;de.dir;de.init;de.loadResources;de.reloadResources;de.use;de.changeLanguage;de.getFixedT;de.t;de.exists;de.setDefaultNamespace;de.hasLoadedNamespace;de.loadNamespaces;de.loadLanguages;const{slice:pc,forEach:xc}=[];function bc(n){return xc.call(pc.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function yc(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const Ms=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,wc=function(n,e){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let i=`${n}=${a}`;if(s.maxAge>0){const o=s.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(s.domain){if(!Ms.test(s.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${s.domain}`}if(s.path){if(!Ms.test(s.path))throw new TypeError("option path is invalid");i+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(i+="; HttpOnly"),s.secure&&(i+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},Is={create(n,e,t,s){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+t*60*1e3)),s&&(a.domain=s),document.cookie=wc(n,encodeURIComponent(e),a)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let s=0;s<t.length;s++){let a=t[s];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(n){this.create(n,"",-1)}};var vc={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return Is.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:s,cookieDomain:a,cookieOptions:i}=e;t&&typeof document<"u"&&Is.create(t,n,s,a,i)}},Sc={name:"querystring",lookup(n){var s;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((s=window.location.hash)==null?void 0:s.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const o=a.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(t=o[l].substring(c+1))}}return t}};let qe=null;const Fs=()=>{if(qe!==null)return qe;try{if(qe=typeof window<"u"&&window.localStorage!==null,!qe)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{qe=!1}return qe};var jc={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&Fs())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&Fs()&&window.localStorage.setItem(t,n)}};let We=null;const zs=()=>{if(We!==null)return We;try{if(We=typeof window<"u"&&window.sessionStorage!==null,!We)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{We=!1}return We};var Nc={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&zs())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&zs()&&window.sessionStorage.setItem(t,n)}},Cc={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:s,language:a}=navigator;if(t)for(let i=0;i<t.length;i++)e.push(t[i]);s&&e.push(s),a&&e.push(a)}return e.length>0?e:void 0}},kc={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const s=e||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(t=s.getAttribute("lang")),t}},Ec={name:"path",lookup(n){var a;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(a=t[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},$c={name:"subdomain",lookup(n){var a,i;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,s=typeof window<"u"&&((i=(a=window.location)==null?void 0:a.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(s)return s[t]}};let Va=!1;try{document.cookie,Va=!0}catch{}const qa=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Va||qa.splice(1,1);const Tc=()=>({order:qa,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class Wa{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=bc(t,this.options||{},Tc()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(vc),this.addDetector(Sc),this.addDetector(jc),this.addDetector(Nc),this.addDetector(Cc),this.addDetector(kc),this.addDetector(Ec),this.addDetector($c)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(s=>{if(this.detectors[s]){let a=this.detectors[s].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(t=t.concat(a))}}),t=t.filter(s=>s!=null&&!yc(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}Wa.type="languageDetector";function Tn(n){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tn(n)}function Ga(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Tn(XMLHttpRequest))==="object"}function Rc(n){return!!n&&typeof n.then=="function"}function Lc(n){return Rc(n)?n:Promise.resolve(n)}const Oc="modulepreload",Ac=function(n){return"/"+n},Ds={},Pc=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(t.map(c=>{if(c=Ac(c),c in Ds)return;Ds[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":Oc,d||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((b,w)=>{g.addEventListener("load",b),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function Us(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function _s(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Us(Object(t),!0).forEach(function(s){Mc(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Us(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function Mc(n,e,t){return(e=Ic(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ic(n){var e=Fc(n,"string");return Ue(e)=="symbol"?e:e+""}function Fc(n,e){if(Ue(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(Ue(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ue(n){"@babel/helpers - typeof";return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(n)}var Le=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Le=global.fetch:typeof window<"u"&&window.fetch&&(Le=window.fetch);var pt;Ga()&&(typeof global<"u"&&global.XMLHttpRequest?pt=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(pt=window.XMLHttpRequest));var Ut;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Ut=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Ut=window.ActiveXObject));typeof Le!="function"&&(Le=void 0);if(!Le&&!pt&&!Ut)try{Pc(()=>import("./browser-ponyfill-DKQo9w2z.js").then(n=>n.b),__vite__mapDeps([0,1])).then(function(n){Le=n.default}).catch(function(){})}catch{}var Rn=function(e,t){if(t&&Ue(t)==="object"){var s="";for(var a in t)s+="&"+encodeURIComponent(a)+"="+encodeURIComponent(t[a]);if(!s)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+s.slice(1)}return e},Bs=function(e,t,s,a){var i=function(c){if(!c.ok)return s(c.statusText||"Error",{status:c.status});c.text().then(function(d){s(null,{status:c.status,data:d})}).catch(s)};if(a){var o=a(e,t);if(o instanceof Promise){o.then(i).catch(s);return}}typeof fetch=="function"?fetch(e,t).then(i).catch(s):Le(e,t).then(i).catch(s)},Hs=!1,zc=function(e,t,s,a){e.queryStringParams&&(t=Rn(t,e.queryStringParams));var i=_s({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(i["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),s&&(i["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(s):e.requestOptions,l=_s({method:s?"POST":"GET",body:s?e.stringify(s):void 0,headers:i},Hs?{}:o),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{Bs(t,l,a,c)}catch(d){if(!o||Object.keys(o).length===0||!d.message||d.message.indexOf("not implemented")<0)return a(d);try{Object.keys(o).forEach(function(u){delete l[u]}),Bs(t,l,a,c),Hs=!0}catch(u){a(u)}}},Dc=function(e,t,s,a){s&&Ue(s)==="object"&&(s=Rn("",s).slice(1)),e.queryStringParams&&(t=Rn(t,e.queryStringParams));try{var i=pt?new pt:new Ut("MSXML2.XMLHTTP.3.0");i.open(s?"POST":"GET",t,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,s&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var l in o)i.setRequestHeader(l,o[l]);i.onreadystatechange=function(){i.readyState>3&&a(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(s)}catch(c){console&&console.log(c)}},Uc=function(e,t,s,a){if(typeof s=="function"&&(a=s,s=void 0),a=a||function(){},Le&&t.indexOf("file:")!==0)return zc(e,t,s,a);if(Ga()||typeof ActiveXObject=="function")return Dc(e,t,s,a);a(new Error("No fetch and no xhr implementation found!"))};function Xe(n){"@babel/helpers - typeof";return Xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(n)}function Vs(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function hn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vs(Object(t),!0).forEach(function(s){Ka(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vs(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function _c(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Bc(n,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,Ja(s.key),s)}}function Hc(n,e,t){return e&&Bc(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ka(n,e,t){return(e=Ja(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ja(n){var e=Vc(n,"string");return Xe(e)=="symbol"?e:e+""}function Vc(n,e){if(Xe(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(Xe(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var qc=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,s,a){return Ka({},s,a||"")},parseLoadPayload:function(t,s){},request:Uc,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Ya=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_c(this,n),this.services=e,this.options=t,this.allOptions=s,this.type="backend",this.init(e,t,s)}return Hc(n,[{key:"init",value:function(t){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=hn(hn(hn({},qc()),this.options||{}),a),this.allOptions=i,this.services&&this.options.reloadInterval){var o=setInterval(function(){return s.reload()},this.options.reloadInterval);Xe(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(t,s,a){this._readAny(t,t,s,s,a)}},{key:"read",value:function(t,s,a){this._readAny([t],t,[s],s,a)}},{key:"_readAny",value:function(t,s,a,i,o){var l=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(t,a)),c=Lc(c),c.then(function(d){if(!d)return o(null,{});var u=l.services.interpolator.interpolate(d,{lng:t.join("+"),ns:a.join("+")});l.loadUrl(u,o,s,i)})}},{key:"loadUrl",value:function(t,s,a,i){var o=this,l=typeof a=="string"?[a]:a,c=typeof i=="string"?[i]:i,d=this.options.parseLoadPayload(l,c);this.options.request(this.options,t,d,function(u,g){if(g&&(g.status>=500&&g.status<600||!g.status))return s("failed loading "+t+"; status code: "+g.status,!0);if(g&&g.status>=400&&g.status<500)return s("failed loading "+t+"; status code: "+g.status,!1);if(!g&&u&&u.message){var b=u.message.toLowerCase(),w=["failed","fetch","network","load"].find(function(x){return b.indexOf(x)>-1});if(w)return s("failed loading "+t+": "+u.message,!0)}if(u)return s(u,!1);var m,p;try{typeof g.data=="string"?m=o.options.parse(g.data,a,i):m=g.data}catch{p="failed parsing "+t+" to json"}if(p)return s(p,!1);s(null,m)})}},{key:"create",value:function(t,s,a,i,o){var l=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var c=this.options.parsePayload(s,a,i),d=0,u=[],g=[];t.forEach(function(b){var w=l.options.addPath;typeof l.options.addPath=="function"&&(w=l.options.addPath(b,s));var m=l.services.interpolator.interpolate(w,{lng:b,ns:s});l.options.request(l.options,m,c,function(p,x){d+=1,u.push(p),g.push(x),d===t.length&&typeof o=="function"&&o(u,g)})})}}},{key:"reload",value:function(){var t=this,s=this.services,a=s.backendConnector,i=s.languageUtils,o=s.logger,l=a.language;if(!(l&&l.toLowerCase()==="cimode")){var c=[],d=function(g){var b=i.toResolveHierarchy(g);b.forEach(function(w){c.indexOf(w)<0&&c.push(w)})};d(l),this.allOptions.preload&&this.allOptions.preload.forEach(function(u){return d(u)}),c.forEach(function(u){t.allOptions.ns.forEach(function(g){a.read(u,g,"read",null,null,function(b,w){b&&o.warn("loading namespace ".concat(g," for language ").concat(u," failed"),b),!b&&w&&o.log("loaded namespace ".concat(g," for language ").concat(u),w),a.loaded("".concat(u,"|").concat(g),b,w)})})})}}}])}();Ya.type="backend";const Wc="TalkGhana",Gc="Welcome to TalkGhana",Kc="Your voice matters",Jc="Language",Yc="Settings",Xc="Conversation",Qc="Speech Rate",Zc="Speech Pitch",ed="Voice Commands",td="Offline Mode",nd="Accessibility Settings",sd="High Contrast",ad="Larger Text",rd="Slower",id="Faster",od="Lower",ld="Higher",cd="Test Speech",dd="Testing...",ud="Language Settings",hd="Current Language",gd="Offline Capabilities",fd="Offline Language Data",md="Downloaded ({{size}})",pd="Not downloaded",xd="Download",bd="Downloaded",yd="Downloading...",wd="This is a test of the speech settings with the current rate and pitch.",vd={appTitle:Wc,greeting:Gc,welcome:Kc,language:Jc,settings:Yc,conversation:Xc,speechRate:Qc,speechPitch:Zc,voiceCommands:ed,offlineMode:td,accessibilitySettings:nd,highContrast:sd,largerText:ad,slower:rd,faster:id,lower:od,higher:ld,testSpeech:cd,testing:dd,languageSettings:ud,currentLanguage:hd,offlineCapabilities:gd,offlineLanguageData:fd,downloadedSize:md,notDownloaded:pd,download:xd,downloaded:bd,downloading:yd,speechTestPhrase:wd},Sd="TalkGhana",jd="Akwaaba TalkGhana",Nd="Wo nne ho hia",Cd="Kasa",kd="Nhyehyɛe",Ed="Nkɔmmɔdie",$d="Kasa Ntɛmntɛm",Td="Kasa Nnyegyee",Rd="Nne Nkɔmahyɛde",Ld="Internet Nni Hɔ Mode",Od="Mmerɛw Nhyehyɛe",Ad="Nsonsonoe Kɛse",Pd="Kyerɛw Kɛse",Md="Nyaa",Id="Ntɛm",Fd="Fam",zd="Soro",Dd="Sɔ Kasa Hwɛ",Ud="Resɔ hwɛ...",_d="Kasa Nhyehyɛe",Bd="Kasa a Wode Reyɛ Adwuma",Hd="Internet Nni Hɔ Tumi",Vd="Internet Nni Hɔ Kasa Data",qd="Atwe ({{size}})",Wd="Wontweee ɛ",Gd="Twe",Kd="Watwe",Jd="Retwe...",Yd="Yei yɛ kasa nhyehyɛe nsɔhwɛ a ɛwɔ ntɛmntɛm ne nnyegyee mu.",Xd={appTitle:Sd,greeting:jd,welcome:Nd,language:Cd,settings:kd,conversation:Ed,speechRate:$d,speechPitch:Td,voiceCommands:Rd,offlineMode:Ld,accessibilitySettings:Od,highContrast:Ad,largerText:Pd,slower:Md,faster:Id,lower:Fd,higher:zd,testSpeech:Dd,testing:Ud,languageSettings:_d,currentLanguage:Bd,offlineCapabilities:Hd,offlineLanguageData:Vd,downloadedSize:qd,notDownloaded:Wd,download:Gd,downloaded:Kd,downloading:Jd,speechTestPhrase:Yd},Qd="Nnɛɛ",Zd="Wiemo",eu="Boo",tu="Ntohoo",nu="TalkGhana",su="AI hewale kɛ wi saji asharaloo",au="Sane Su",ru="Gbee Kitashii",iu="Wiemɔ Mlihii",ou="Mlijemɔ Mlihii",lu="Srɔto Agbo",cu="Ninemaa Agbo",du="Oflaini Su",uu="Wiemɔ ni Ajie Amrɔ Nɛɛ",hu="Wiemɔ Oyaayaa",gu="Wiemɔ Wui",fu="Tsuii",mu="Ŋma",pu="Amrɔ Shia",xu="Hɛɛ",bu="Daabi",yu="Oyiwaladon",wu="Ye mi boa",vu="Oflaini",Su="Onlaini",ju="Kɛdownload Eba Naagbee",Nu="Kɛdownload Eyako Jogbaŋŋ",Cu="Kɛkɛɛ Miikɛdownload...",ku="Kɛto Nii Kusum",Eu="Tuu Cache",$u="Esaa Kɛha Oflaini Nitsumo",Tu="Esa Akɛsync",Ru="Data Nitsumo",Lu="Battery Hewalemo",Ou="Blee Fioo",Au="Oyaa Fioo",Pu="Shishi",Mu="Nɔ",Iu="Miikaa...",Fu="Kaa Wiemɔ",zu="Enɛ ji wiemɔ mlihii kaa kɛ amrɔ nɛɛ oyaayaa kɛ wui.",Du="Oflaini Nyɛmɔi",Uu={welcome:Qd,speak:Zd,listen:eu,settings:tu,homeTitle:nu,homeSubtitle:su,conversationMode:au,voiceCommands:ru,languageSettings:iu,accessibilitySettings:ou,highContrast:lu,largeText:cu,offlineMode:du,currentLanguage:uu,speechRate:hu,speechPitch:gu,suggestions:fu,type:mu,emergency:pu,yes:xu,no:bu,thankyou:yu,help:wu,offline:vu,online:Su,downloadComplete:ju,downloadFailed:Nu,downloadInProgress:Cu,storageManagement:ku,clearCache:Eu,offlineReady:$u,syncRequired:Tu,dataUsage:Ru,batteryOptimization:Lu,slower:Ou,faster:Au,lower:Pu,higher:Mu,testing:Iu,testSpeech:Fu,speechTestPhrase:zu,offlineCapabilities:Du},_u="Woezor",Bu="Ƒo nu",Hu="Ɖo to",Vu="Ɖoɖowo",qu="TalkGhana",Wu="AI ƒe kpekpeɖeŋu na nuƒoƒo",Gu="Dzeɖoɖo Ƒomevi",Ku="Gbe Sedeɖewo",Ju="Gbegbɔgblɔ Ðoɖowo",Yu="Mɔxexe Ðoɖowo",Xu="Vovototo Gã",Qu="Nuŋɔŋlɔ Gã",Zu="Oflaine Ƒomevi",eh="Gbegbɔgblɔ si le zɔzɔm fifia",th="Nuƒoƒo ƒe Ɣeyiɣi",nh="Nuƒoƒo ƒe Gã",sh="Adaŋudedowo",ah="Ŋlɔ nu",rh="Dzodzo Xaxa",ih="Ɛ",oh="Ao",lh="Akpe",ch="Kpe ɖe ŋunye",dh="Oflaine",uh="Onlaine",hh="Daun loudin Vɔ",gh="Daun loudin Mede Edzi O",fh="Daun loadim...",mh="Dzraɖoƒe Ðoɖowo",ph="Tutu Cache",xh="Sɔgbɔ Na Oflaine Dɔwɔwɔ",bh="Ehiã Be Woawɔ Sync",yh="Data Zazã",wh="Battery Nyonyoɖeŋu",vh="Blewuu",Sh="Kaba",jh="Kpuie",Nh="Kɔkɔ",Ch="Wodoe kpɔm...",kh="Do Nuƒoƒo Kpɔ",Eh="Esia nye nuƒoƒo ɖoɖowo ƒe dodokpɔ kple ɣeyiɣi kple gã si le fifia.",$h="Oflaine Ŋusẽwo",Th={welcome:_u,speak:Bu,listen:Hu,settings:Vu,homeTitle:qu,homeSubtitle:Wu,conversationMode:Gu,voiceCommands:Ku,languageSettings:Ju,accessibilitySettings:Yu,highContrast:Xu,largeText:Qu,offlineMode:Zu,currentLanguage:eh,speechRate:th,speechPitch:nh,suggestions:sh,type:ah,emergency:rh,yes:ih,no:oh,thankyou:lh,help:ch,offline:dh,online:uh,downloadComplete:hh,downloadFailed:gh,downloadInProgress:fh,storageManagement:mh,clearCache:ph,offlineReady:xh,syncRequired:bh,dataUsage:yh,batteryOptimization:wh,slower:vh,faster:Sh,lower:jh,higher:Nh,testing:Ch,testSpeech:kh,speechTestPhrase:Eh,offlineCapabilities:$h},Rh="Sannu",Lh="Yi magana",Oh="Saurara",Ah="Saituna",Ph="TalkGhana",Mh="AI taimako don magana",Ih="Yanayin Hira",Fh="Umarnin Murya",zh="Saituna na Harshe",Dh="Saituna na Samun Damar Shiga",Uh="Bambanci Mai Girma",_h="Rubutu Mai Girma",Bh="Yanayin Offline",Hh="Harshen da ake amfani da shi yanzu",Vh="Gurin Magana",qh="Muryar Magana",Wh="Shawarwari",Gh="Rubuta",Kh="Gaggawa",Jh="Eh",Yh="A'a",Xh="Na gode",Qh="Taimako",Zh="Offline",eg="Online",tg="An gama sauke-sauke",ng="Sauke-sauke ya gaza",sg="Ana sauke-sauke...",ag="Gudanar da Ma'ajiya",rg="Share Cache",ig="An shirya don offline",og="Ana buƙatar sync",lg="Amfani da Data",cg="Inganta Batir",dg="Mafi sanyi",ug="Mafi sauri",hg="Ƙasa",gg="Sama",fg="Ana gwaji...",mg="Gwada Magana",pg="Wannan gwajin saitunan magana ne da gurin yanzu da muryar yanzu.",xg="Ƙarfin Aiki Ba Tare Da Haɗi Ba",bg={welcome:Rh,speak:Lh,listen:Oh,settings:Ah,homeTitle:Ph,homeSubtitle:Mh,conversationMode:Ih,voiceCommands:Fh,languageSettings:zh,accessibilitySettings:Dh,highContrast:Uh,largeText:_h,offlineMode:Bh,currentLanguage:Hh,speechRate:Vh,speechPitch:qh,suggestions:Wh,type:Gh,emergency:Kh,yes:Jh,no:Yh,thankyou:Xh,help:Qh,offline:Zh,online:eg,downloadComplete:tg,downloadFailed:ng,downloadInProgress:sg,storageManagement:ag,clearCache:rg,offlineReady:ig,syncRequired:og,dataUsage:lg,batteryOptimization:cg,slower:dg,faster:ug,lower:hg,higher:gg,testing:fg,testSpeech:mg,speechTestPhrase:pg,offlineCapabilities:xg},yg="Desiba",wg="Yɛli",vg="Gbinni",Sg="Setingsi",jg="TalkGhana",Ng="AI sɔŋsim ni sɔŋdi yɛltoɣli",Cg="Yɛltɔɣa Soli",kg="Kukoli",Eg="Balli Setingsi",$g="Accessibility Setingsi",Tg="Paɣsi Contrast",Rg="Sabili Titali",Lg="Offline Soli",Og="Yɛla Din Balli",Ag="Yɛla Viɛlim",Pg="Yɛla Zum",Mg="Labi",Ig="Sabi",Fg="Yɛla Kara",zg="Ii",Dg="Ayi",Ug="Naa",_g="Sɔŋmi",Bg="Offline",Hg="Online",Vg="Diena Naai",qg="Diena bi Chaŋ",Wg="Dieni...",Gg="Storage Niŋsim",Kg="Piɣsi Cache",Jg="Niŋi Sabi Ni Offline",Yg="Niŋmi Sync",Xg="Data Niŋsim",Qg="Battery Optimization",Zg="Bela",ef="Tɔɣili",tf="Gbinni",nf="Zuɣusaa",sf="Ti mɔri magiya...",af="Mɔri Yɛla",rf="Ŋuna nyɛ yɛla setingsi la mɔribo ni viɛlim ni zum din beni yiŋa.",of="Offline Tuma Paɣsi",lf={welcome:yg,speak:wg,listen:vg,settings:Sg,homeTitle:jg,homeSubtitle:Ng,conversationMode:Cg,voiceCommands:kg,languageSettings:Eg,accessibilitySettings:$g,highContrast:Tg,largeText:Rg,offlineMode:Lg,currentLanguage:Og,speechRate:Ag,speechPitch:Pg,suggestions:Mg,type:Ig,emergency:Fg,yes:zg,no:Dg,thankyou:Ug,help:_g,offline:Bg,online:Hg,downloadComplete:Vg,downloadFailed:qg,downloadInProgress:Wg,storageManagement:Gg,clearCache:Kg,offlineReady:Jg,syncRequired:Yg,dataUsage:Xg,batteryOptimization:Qg,slower:Zg,faster:ef,lower:tf,higher:nf,testing:sf,testSpeech:af,speechTestPhrase:rf,offlineCapabilities:of},cf={en:"english",twi:"twi",ga:"ga",ewe:"ewe",hausa:"hausa",dagbani:"dagbani"},df=n=>cf[n]||"english";de.use(Ya).use(Wa).use(Gl).init({resources:{en:{translation:vd},twi:{translation:Xd},ga:{translation:Uu},ewe:{translation:Th},hausa:{translation:bg},dagbani:{translation:lf}},fallbackLng:"en",debug:!1,ns:["translation"],defaultNS:"translation",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},detection:{order:["localStorage","navigator"],lookupLocalStorage:"language",caches:["localStorage"]},react:{useSuspense:!0,transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","em","p","span","div"]}});const Xa=n=>{document.querySelectorAll("[lang]").forEach(e=>{e instanceof HTMLElement&&(e.lang=n)}),document.querySelectorAll("[data-lang]").forEach(e=>{e instanceof HTMLElement&&e.setAttribute("data-lang",n)}),document.querySelectorAll("form").forEach(e=>{e instanceof HTMLFormElement&&!e.hasAttribute("lang")&&(e.lang=n)}),document.documentElement.style.setProperty("--placeholder-lang",n)},Qa=n=>{const e=df(n);document.body.classList.remove("lang-english","lang-twi","lang-ga","lang-ewe","lang-hausa","lang-dagbani"),document.body.classList.add(`lang-${e}`),document.documentElement.style.setProperty("--lang-font-family",n==="en"?"system-ui, sans-serif":"var(--font-ghanaian), system-ui, sans-serif"),document.documentElement.dir="ltr"};de.on("languageChanged",n=>{document.documentElement.lang=n,document.documentElement.setAttribute("data-language",n),Xa(n),Qa(n),["lang-en","lang-twi","lang-ga","lang-ewe","lang-hausa","lang-dagbani"].forEach(t=>document.documentElement.classList.remove(t)),document.documentElement.classList.add(`lang-${n==="en"?"en":n}`)});const uf=(n,e)=>{const t=de.t(n,e);return typeof t=="string"?t:String(t)};typeof window<"u"&&(window.translateText=uf);const hf={english:{}},gf=[{code:"english",name:"English",localName:"English",voiceAvailable:!0,offlineSupport:!0},{code:"twi",name:"Twi",localName:"Twi",voiceAvailable:!0,offlineSupport:!0},{code:"ga",name:"Ga",localName:"Gã",voiceAvailable:!0,offlineSupport:!0},{code:"ewe",name:"Ewe",localName:"Eʋegbe",voiceAvailable:!0,offlineSupport:!0},{code:"hausa",name:"Hausa",localName:"Harshen Hausa",voiceAvailable:!0,offlineSupport:!0},{code:"dagbani",name:"Dagbani",localName:"Dagbanli",voiceAvailable:!0,offlineSupport:!0}],ff=h.createContext({currentLanguage:"english",setLanguage:()=>{},translations:hf.english,t:n=>n,isLanguageLoaded:!1,applyTranslations:()=>{},formatText:n=>n,availableLanguages:gf,getLanguageResource:()=>{}}),nt=()=>h.useContext(ff),mf={highContrast:!1,largeText:!1,offlineMode:!1,speechRate:1,speechPitch:1,audioFeedback:!0,keyboardNavigation:!1,ttsEnabled:!0},pf=h.createContext({preferences:mf,updatePreference:()=>{},updatePreferences:()=>{}}),be=()=>h.useContext(pf),xf=({type:n="online",message:e,timeout:t=3e3,isVisible:s=!1})=>{const[a,i]=h.useState(s),[o,l]=h.useState(!1),[c,d]=h.useState(navigator.onLine),{preferences:u}=be();if(h.useEffect(()=>{const y=()=>d(!0),j=()=>d(!1);return window.addEventListener("online",y),window.addEventListener("offline",j),()=>{window.removeEventListener("online",y),window.removeEventListener("offline",j)}},[]),h.useEffect(()=>{if(l(!0),i(s),s&&t>0){const y=setTimeout(()=>{i(!1)},t);return()=>clearTimeout(y)}},[s,t]),h.useEffect(()=>{if(!c)i(!0);else if(n==="online"){i(!0);const y=setTimeout(()=>{i(!1)},3e3);return()=>clearTimeout(y)}},[c,n]),!o||!a&&c)return null;const g=c?n:"offline",b=c?e:"You are offline. Some features may be limited.",w=()=>{switch(g){case"offline":return{bgColor:u.highContrast?"bg-yellow-900":"bg-yellow-100",textColor:u.highContrast?"text-yellow-100":"text-yellow-800",icon:r.jsx(ft,{size:16,className:u.highContrast?"text-yellow-100":"text-yellow-500"})};case"processing":return{bgColor:u.highContrast?"bg-blue-900":"bg-blue-100",textColor:u.highContrast?"text-blue-100":"text-blue-800",icon:r.jsx(Ll,{size:16,className:u.highContrast?"text-blue-100":"text-blue-500"})};case"success":return{bgColor:u.highContrast?"bg-green-900":"bg-green-100",textColor:u.highContrast?"text-green-100":"text-green-800",icon:r.jsx(Wn,{size:16,className:u.highContrast?"text-green-100":"text-green-500"})};case"error":return{bgColor:u.highContrast?"bg-red-900":"bg-red-100",textColor:u.highContrast?"text-red-100":"text-red-800",icon:r.jsx(Ma,{size:16,className:u.highContrast?"text-red-100":"text-red-500"})};case"online":default:return{bgColor:u.highContrast?"bg-green-900":"bg-green-100",textColor:u.highContrast?"text-green-100":"text-green-800",icon:r.jsx(Fa,{size:16,className:u.highContrast?"text-green-100":"text-green-500"})}}},{bgColor:m,textColor:p,icon:x}=w();return r.jsx("div",{className:`fixed top-16 inset-x-0 z-50 flex justify-center items-center transition-all duration-300 ${a?"opacity-100 translate-y-0":"opacity-0 -translate-y-8 pointer-events-none"}`,children:r.jsxs("div",{className:`flex items-center space-x-2 px-4 py-2 rounded-full shadow-md ${m}`,children:[x,r.jsx("span",{className:`text-sm font-medium ${p}`,children:b||(g==="offline"?"You are offline":"You are online")})]})})},bf=({isOpen:n,onClose:e})=>{const[t,s]=h.useState(0),{preferences:a}=be();if(h.useEffect(()=>{n&&s(0)},[n]),!n)return null;const i=[{title:"Welcome to TalkGhana",description:"TalkGhana helps you communicate effectively using voice commands and text-to-speech technology.",icon:r.jsx(tt,{size:48,className:"text-blue-500"})},{title:"Voice Commands",description:"Quickly communicate common needs and phrases using pre-defined or custom voice commands.",icon:r.jsx($t,{size:48,className:"text-blue-500"})},{title:"Conversation Mode",description:"Have back-and-forth conversations using voice or text input. The app will generate responses based on context.",icon:r.jsx(Aa,{size:48,className:"text-blue-500"})},{title:"Voice Recognition",description:"Speak into your device and TalkGhana will convert your speech to text. Works with various Ghanaian languages.",icon:r.jsx(Ye,{size:48,className:"text-blue-500"})},{title:"Accessibility Features",description:"Customize the app with high contrast mode, large text, and other accessibility options from the settings menu.",icon:r.jsx(ct,{size:48,className:"text-blue-500"})}],o=()=>{t<i.length-1?s(t+1):(localStorage.setItem("onboardingCompleted","true"),e())},l=()=>{t>0&&s(t-1)},c=()=>{localStorage.setItem("onboardingCompleted","true"),e()};return r.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:`bg-white rounded-lg shadow-xl max-w-md w-full ${a.highContrast?"border-2 border-white text-white bg-black":""}`,role:"dialog","aria-modal":"true","aria-labelledby":"tutorial-title",children:[r.jsx("div",{className:"p-4 flex justify-end",children:r.jsx("button",{onClick:c,className:`p-2 rounded-full ${a.highContrast?"text-white hover:bg-gray-800":"text-gray-500 hover:bg-gray-100"}`,"aria-label":"Skip tutorial",children:r.jsx(Jt,{size:20})})}),r.jsxs("div",{className:"px-8 py-6 text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:i[t].icon}),r.jsx("h2",{id:"tutorial-title",className:`text-2xl font-bold mb-4 ${a.highContrast?"text-white":"text-gray-800"}`,children:i[t].title}),r.jsx("p",{className:`mb-8 ${a.highContrast?"text-gray-300":"text-gray-600"}`,children:i[t].description}),r.jsx("div",{className:"flex justify-center mb-6",children:i.map((d,u)=>r.jsx("div",{className:`w-2 h-2 mx-1 rounded-full ${t===u?a.highContrast?"bg-blue-400":"bg-blue-500":a.highContrast?"bg-gray-600":"bg-gray-300"}`},u))})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 rounded-b-lg flex justify-between border-t",children:[r.jsxs("button",{onClick:l,disabled:t===0,className:`px-4 py-2 rounded-lg flex items-center ${t===0?"bg-gray-200 text-gray-400 cursor-not-allowed":a.highContrast?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:[r.jsx(lo,{size:16,className:"mr-1"}),"Previous"]}),r.jsxs("button",{onClick:o,className:`px-4 py-2 rounded-lg flex items-center ${a.highContrast?"bg-blue-700 text-white hover:bg-blue-600":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[t===i.length-1?"Get Started":"Next",t<i.length-1&&r.jsx(uo,{size:16,className:"ml-1"})]})]})]})})},Nt=({icon:n,label:e,onClick:t,color:s="blue",size:a="md"})=>{const{preferences:i}=be(),o=()=>(i.highContrast?{blue:"bg-blue-800 text-white hover:bg-blue-700",green:"bg-green-800 text-white hover:bg-green-700",red:"bg-red-800 text-white hover:bg-red-700",yellow:"bg-yellow-700 text-white hover:bg-yellow-600",purple:"bg-purple-800 text-white hover:bg-purple-700"}:{blue:"bg-blue-500 text-white hover:bg-blue-600",green:"bg-green-500 text-white hover:bg-green-600",red:"bg-red-500 text-white hover:bg-red-600",yellow:"bg-yellow-500 text-white hover:bg-yellow-600",purple:"bg-purple-500 text-white hover:bg-purple-600"})[s],l=()=>{const b={sm:"p-2 text-xs",md:"p-3 text-sm",lg:"p-4 text-base"},w={sm:"mb-1",md:"mb-2",lg:"mb-3"};return{button:b[a],icon:w[a]}},c=o(),d=l(),u=localStorage.getItem("touchTargetSize")||"normal",g=u==="large"?"p-1":u==="extra-large"?"p-2":"";return r.jsxs("button",{onClick:t,className:`${c} ${d.button} ${g} rounded-lg flex flex-col items-center justify-center transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-${s}-500`,children:[r.jsx("div",{className:d.icon,children:n}),r.jsx("span",{className:`font-medium ${i.largeText?"text-base":""}`,children:e})]})},yf=({isOpen:n,onClose:e})=>{const{preferences:t,updatePreference:s}=be(),{t:a}=nt(),[i,o]=h.useState(localStorage.getItem("touchTargetSize")||"normal"),[l,c]=h.useState(localStorage.getItem("reduceMotion")==="true");if(h.useEffect(()=>{localStorage.setItem("touchTargetSize",i)},[i]),h.useEffect(()=>{localStorage.setItem("reduceMotion",l.toString()),l?document.documentElement.classList.add("reduce-motion"):document.documentElement.classList.remove("reduce-motion")},[l]),!n)return null;const d=u=>{o(u),document.documentElement.classList.remove("touch-normal","touch-large","touch-xl"),document.documentElement.classList.add(`touch-${u==="extra-large"?"xl":u}`)};return r.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"accessibility-title",children:r.jsxs("div",{className:`bg-white rounded-lg shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto ${t.highContrast?"border-2 border-white text-white bg-black":""}`,children:[r.jsx("div",{className:"sticky top-0 bg-blue-600 text-white p-4 rounded-t-lg",children:r.jsxs("h2",{id:"accessibility-title",className:"text-xl font-bold flex items-center",children:[r.jsx(dl,{className:"mr-2",size:20}),"Accessibility Options"]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("section",{children:[r.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[r.jsx($o,{className:"mr-2",size:18}),"Visual Settings"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("label",{className:"flex items-center",children:r.jsx("span",{className:"mr-2",children:"High Contrast Mode"})}),r.jsx("div",{className:`w-12 h-6 flex items-center rounded-full p-1 cursor-pointer ${t.highContrast?"bg-green-500":"bg-gray-300"}`,onClick:()=>s("highContrast",!t.highContrast),role:"switch","aria-checked":t.highContrast,tabIndex:0,onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&s("highContrast",!t.highContrast)},children:r.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out ${t.highContrast?"translate-x-6":""}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("label",{className:"flex items-center",children:r.jsx("span",{className:"mr-2",children:"Large Text"})}),r.jsx("div",{className:`w-12 h-6 flex items-center rounded-full p-1 cursor-pointer ${t.largeText?"bg-green-500":"bg-gray-300"}`,onClick:()=>s("largeText",!t.largeText),role:"switch","aria-checked":t.largeText,tabIndex:0,onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&s("largeText",!t.largeText)},children:r.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out ${t.largeText?"translate-x-6":""}`})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("label",{className:"flex items-center",children:r.jsx("span",{className:"mr-2",children:"Reduce Motion"})}),r.jsx("div",{className:`w-12 h-6 flex items-center rounded-full p-1 cursor-pointer ${l?"bg-green-500":"bg-gray-300"}`,onClick:()=>c(!l),role:"switch","aria-checked":l,tabIndex:0,onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&c(!l)},children:r.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out ${l?"translate-x-6":""}`})})]})]})]}),r.jsxs("section",{children:[r.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[r.jsx(Go,{className:"mr-2",size:18}),"Touch Target Size"]}),r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>d("normal"),className:`flex-1 py-2 px-4 rounded-lg ${i==="normal"?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,"aria-pressed":i==="normal",children:"Normal"}),r.jsx("button",{onClick:()=>d("large"),className:`flex-1 py-2 px-4 rounded-lg ${i==="large"?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,"aria-pressed":i==="large",children:"Large"}),r.jsx("button",{onClick:()=>d("extra-large"),className:`flex-1 py-2 px-4 rounded-lg ${i==="extra-large"?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,"aria-pressed":i==="extra-large",children:"Extra Large"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Increase button and interactive element sizes for easier touch access"})]})]}),r.jsxs("section",{children:[r.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[r.jsx(Cl,{className:"mr-2",size:18}),"Feedback Settings"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("label",{className:"flex items-center",children:r.jsx("span",{className:"mr-2",children:"Audio Feedback"})}),r.jsx("div",{className:`w-12 h-6 flex items-center rounded-full p-1 cursor-pointer ${t.audioFeedback?"bg-green-500":"bg-gray-300"}`,onClick:()=>s("audioFeedback",!t.audioFeedback),role:"switch","aria-checked":t.audioFeedback,tabIndex:0,children:r.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform duration-300 ease-in-out ${t.audioFeedback?"translate-x-6":""}`})})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Play subtle sounds when actions are performed"}),r.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200",children:r.jsx("p",{className:"text-sm text-gray-500",children:"Note: For haptic feedback, you may need to enable it in your device settings."})})]})]})]}),r.jsx("div",{className:"p-4 bg-gray-50 rounded-b-lg flex justify-end border-t",children:r.jsx("button",{onClick:e,className:`px-4 py-2 rounded-lg ${t.highContrast?"bg-blue-700 text-white hover:bg-blue-600":"bg-blue-500 text-white hover:bg-blue-600"}`,children:"Close"})})]})})};function Za(n,e){return function(){return n.apply(e,arguments)}}const{toString:wf}=Object.prototype,{getPrototypeOf:Jn}=Object,Qt=(n=>e=>{const t=wf.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ye=n=>(n=n.toLowerCase(),e=>Qt(e)===n),Zt=n=>e=>typeof e===n,{isArray:st}=Array,xt=Zt("undefined");function vf(n){return n!==null&&!xt(n)&&n.constructor!==null&&!xt(n.constructor)&&xe(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const er=ye("ArrayBuffer");function Sf(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&er(n.buffer),e}const jf=Zt("string"),xe=Zt("function"),tr=Zt("number"),en=n=>n!==null&&typeof n=="object",Nf=n=>n===!0||n===!1,Tt=n=>{if(Qt(n)!=="object")return!1;const e=Jn(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Cf=ye("Date"),kf=ye("File"),Ef=ye("Blob"),$f=ye("FileList"),Tf=n=>en(n)&&xe(n.pipe),Rf=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||xe(n.append)&&((e=Qt(n))==="formdata"||e==="object"&&xe(n.toString)&&n.toString()==="[object FormData]"))},Lf=ye("URLSearchParams"),[Of,Af,Pf,Mf]=["ReadableStream","Request","Response","Headers"].map(ye),If=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bt(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,a;if(typeof n!="object"&&(n=[n]),st(n))for(s=0,a=n.length;s<a;s++)e.call(null,n[s],s,n);else{const i=t?Object.getOwnPropertyNames(n):Object.keys(n),o=i.length;let l;for(s=0;s<o;s++)l=i[s],e.call(null,n[l],l,n)}}function nr(n,e){e=e.toLowerCase();const t=Object.keys(n);let s=t.length,a;for(;s-- >0;)if(a=t[s],e===a.toLowerCase())return a;return null}const Fe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sr=n=>!xt(n)&&n!==Fe;function Ln(){const{caseless:n}=sr(this)&&this||{},e={},t=(s,a)=>{const i=n&&nr(e,a)||a;Tt(e[i])&&Tt(s)?e[i]=Ln(e[i],s):Tt(s)?e[i]=Ln({},s):st(s)?e[i]=s.slice():e[i]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&bt(arguments[s],t);return e}const Ff=(n,e,t,{allOwnKeys:s}={})=>(bt(e,(a,i)=>{t&&xe(a)?n[i]=Za(a,t):n[i]=a},{allOwnKeys:s}),n),zf=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Df=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Uf=(n,e,t,s)=>{let a,i,o;const l={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),i=a.length;i-- >0;)o=a[i],(!s||s(o,n,e))&&!l[o]&&(e[o]=n[o],l[o]=!0);n=t!==!1&&Jn(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},_f=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},Bf=n=>{if(!n)return null;if(st(n))return n;let e=n.length;if(!tr(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Hf=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Jn(Uint8Array)),Vf=(n,e)=>{const s=(n&&n[Symbol.iterator]).call(n);let a;for(;(a=s.next())&&!a.done;){const i=a.value;e.call(n,i[0],i[1])}},qf=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},Wf=ye("HTMLFormElement"),Gf=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,a){return s.toUpperCase()+a}),qs=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Kf=ye("RegExp"),ar=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};bt(t,(a,i)=>{let o;(o=e(a,i,n))!==!1&&(s[i]=o||a)}),Object.defineProperties(n,s)},Jf=n=>{ar(n,(e,t)=>{if(xe(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(xe(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Yf=(n,e)=>{const t={},s=a=>{a.forEach(i=>{t[i]=!0})};return st(n)?s(n):s(String(n).split(e)),t},Xf=()=>{},Qf=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Zf(n){return!!(n&&xe(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const em=n=>{const e=new Array(10),t=(s,a)=>{if(en(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[a]=s;const i=st(s)?[]:{};return bt(s,(o,l)=>{const c=t(o,a+1);!xt(c)&&(i[l]=c)}),e[a]=void 0,i}}return s};return t(n,0)},tm=ye("AsyncFunction"),nm=n=>n&&(en(n)||xe(n))&&xe(n.then)&&xe(n.catch),rr=((n,e)=>n?setImmediate:e?((t,s)=>(Fe.addEventListener("message",({source:a,data:i})=>{a===Fe&&i===t&&s.length&&s.shift()()},!1),a=>{s.push(a),Fe.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",xe(Fe.postMessage)),sm=typeof queueMicrotask<"u"?queueMicrotask.bind(Fe):typeof process<"u"&&process.nextTick||rr,N={isArray:st,isArrayBuffer:er,isBuffer:vf,isFormData:Rf,isArrayBufferView:Sf,isString:jf,isNumber:tr,isBoolean:Nf,isObject:en,isPlainObject:Tt,isReadableStream:Of,isRequest:Af,isResponse:Pf,isHeaders:Mf,isUndefined:xt,isDate:Cf,isFile:kf,isBlob:Ef,isRegExp:Kf,isFunction:xe,isStream:Tf,isURLSearchParams:Lf,isTypedArray:Hf,isFileList:$f,forEach:bt,merge:Ln,extend:Ff,trim:If,stripBOM:zf,inherits:Df,toFlatObject:Uf,kindOf:Qt,kindOfTest:ye,endsWith:_f,toArray:Bf,forEachEntry:Vf,matchAll:qf,isHTMLForm:Wf,hasOwnProperty:qs,hasOwnProp:qs,reduceDescriptors:ar,freezeMethods:Jf,toObjectSet:Yf,toCamelCase:Gf,noop:Xf,toFiniteNumber:Qf,findKey:nr,global:Fe,isContextDefined:sr,isSpecCompliantForm:Zf,toJSONObject:em,isAsyncFn:tm,isThenable:nm,setImmediate:rr,asap:sm};function G(n,e,t,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}N.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const ir=G.prototype,or={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{or[n]={value:n}});Object.defineProperties(G,or);Object.defineProperty(ir,"isAxiosError",{value:!0});G.from=(n,e,t,s,a,i)=>{const o=Object.create(ir);return N.toFlatObject(n,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),G.call(o,n.message,e,t,s,a),o.cause=n,o.name=n.name,i&&Object.assign(o,i),o};const am=null;function On(n){return N.isPlainObject(n)||N.isArray(n)}function lr(n){return N.endsWith(n,"[]")?n.slice(0,-2):n}function Ws(n,e,t){return n?n.concat(e).map(function(a,i){return a=lr(a),!t&&i?"["+a+"]":a}).join(t?".":""):e}function rm(n){return N.isArray(n)&&!n.some(On)}const im=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function tn(n,e,t){if(!N.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=N.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,x){return!N.isUndefined(x[p])});const s=t.metaTokens,a=t.visitor||u,i=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(a))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(N.isDate(m))return m.toISOString();if(!c&&N.isBlob(m))throw new G("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(m)||N.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,p,x){let y=m;if(m&&!x&&typeof m=="object"){if(N.endsWith(p,"{}"))p=s?p:p.slice(0,-2),m=JSON.stringify(m);else if(N.isArray(m)&&rm(m)||(N.isFileList(m)||N.endsWith(p,"[]"))&&(y=N.toArray(m)))return p=lr(p),y.forEach(function(k,$){!(N.isUndefined(k)||k===null)&&e.append(o===!0?Ws([p],$,i):o===null?p:p+"[]",d(k))}),!1}return On(m)?!0:(e.append(Ws(x,p,i),d(m)),!1)}const g=[],b=Object.assign(im,{defaultVisitor:u,convertValue:d,isVisitable:On});function w(m,p){if(!N.isUndefined(m)){if(g.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));g.push(m),N.forEach(m,function(y,j){(!(N.isUndefined(y)||y===null)&&a.call(e,y,N.isString(j)?j.trim():j,p,b))===!0&&w(y,p?p.concat(j):[j])}),g.pop()}}if(!N.isObject(n))throw new TypeError("data must be an object");return w(n),e}function Gs(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Yn(n,e){this._pairs=[],n&&tn(n,this,e)}const cr=Yn.prototype;cr.append=function(e,t){this._pairs.push([e,t])};cr.toString=function(e){const t=e?function(s){return e.call(this,s,Gs)}:Gs;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function om(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dr(n,e,t){if(!e)return n;const s=t&&t.encode||om;N.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let i;if(a?i=a(e,t):i=N.isURLSearchParams(e)?e.toString():new Yn(e,t).toString(s),i){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class Ks{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(s){s!==null&&e(s)})}}const ur={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lm=typeof URLSearchParams<"u"?URLSearchParams:Yn,cm=typeof FormData<"u"?FormData:null,dm=typeof Blob<"u"?Blob:null,um={isBrowser:!0,classes:{URLSearchParams:lm,FormData:cm,Blob:dm},protocols:["http","https","file","blob","url","data"]},Xn=typeof window<"u"&&typeof document<"u",An=typeof navigator=="object"&&navigator||void 0,hm=Xn&&(!An||["ReactNative","NativeScript","NS"].indexOf(An.product)<0),gm=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fm=Xn&&window.location.href||"http://localhost",mm=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xn,hasStandardBrowserEnv:hm,hasStandardBrowserWebWorkerEnv:gm,navigator:An,origin:fm},Symbol.toStringTag,{value:"Module"})),ge={...mm,...um};function pm(n,e){return tn(n,new ge.classes.URLSearchParams,Object.assign({visitor:function(t,s,a,i){return ge.isNode&&N.isBuffer(t)?(this.append(s,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function xm(n){return N.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bm(n){const e={},t=Object.keys(n);let s;const a=t.length;let i;for(s=0;s<a;s++)i=t[s],e[i]=n[i];return e}function hr(n){function e(t,s,a,i){let o=t[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=t.length;return o=!o&&N.isArray(a)?a.length:o,c?(N.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!N.isObject(a[o]))&&(a[o]=[]),e(t,s,a[o],i)&&N.isArray(a[o])&&(a[o]=bm(a[o])),!l)}if(N.isFormData(n)&&N.isFunction(n.entries)){const t={};return N.forEachEntry(n,(s,a)=>{e(xm(s),a,t,0)}),t}return null}function ym(n,e,t){if(N.isString(n))try{return(e||JSON.parse)(n),N.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}const yt={transitional:ur,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,i=N.isObject(e);if(i&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return a?JSON.stringify(hr(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e)||N.isReadableStream(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return pm(e,this.formSerializer).toString();if((l=N.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return tn(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||a?(t.setContentType("application/json",!1),ym(e)):e}],transformResponse:[function(e){const t=this.transitional||yt.transitional,s=t&&t.forcedJSONParsing,a=this.responseType==="json";if(N.isResponse(e)||N.isReadableStream(e))return e;if(e&&N.isString(e)&&(s&&!this.responseType||a)){const o=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?G.from(l,G.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ge.classes.FormData,Blob:ge.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],n=>{yt.headers[n]={}});const wm=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vm=n=>{const e={};let t,s,a;return n&&n.split(`
`).forEach(function(o){a=o.indexOf(":"),t=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!t||e[t]&&wm[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},Js=Symbol("internals");function it(n){return n&&String(n).trim().toLowerCase()}function Rt(n){return n===!1||n==null?n:N.isArray(n)?n.map(Rt):String(n)}function Sm(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const jm=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function gn(n,e,t,s,a){if(N.isFunction(s))return s.call(this,e,t);if(a&&(e=t),!!N.isString(e)){if(N.isString(s))return e.indexOf(s)!==-1;if(N.isRegExp(s))return s.test(e)}}function Nm(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function Cm(n,e){const t=N.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(a,i,o){return this[s].call(this,e,a,i,o)},configurable:!0})})}let pe=class{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function i(l,c,d){const u=it(c);if(!u)throw new Error("header name must be a non-empty string");const g=N.findKey(a,u);(!g||a[g]===void 0||d===!0||d===void 0&&a[g]!==!1)&&(a[g||c]=Rt(l))}const o=(l,c)=>N.forEach(l,(d,u)=>i(d,u,c));if(N.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(N.isString(e)&&(e=e.trim())&&!jm(e))o(vm(e),t);else if(N.isHeaders(e))for(const[l,c]of e.entries())i(c,l,s);else e!=null&&i(t,e,s);return this}get(e,t){if(e=it(e),e){const s=N.findKey(this,e);if(s){const a=this[s];if(!t)return a;if(t===!0)return Sm(a);if(N.isFunction(t))return t.call(this,a,s);if(N.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=it(e),e){const s=N.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||gn(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let a=!1;function i(o){if(o=it(o),o){const l=N.findKey(s,o);l&&(!t||gn(s,s[l],l,t))&&(delete s[l],a=!0)}}return N.isArray(e)?e.forEach(i):i(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const i=t[s];(!e||gn(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const t=this,s={};return N.forEach(this,(a,i)=>{const o=N.findKey(s,i);if(o){t[o]=Rt(a),delete t[i];return}const l=e?Nm(i):String(i).trim();l!==i&&delete t[i],t[l]=Rt(a),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return N.forEach(this,(s,a)=>{s!=null&&s!==!1&&(t[a]=e&&N.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[Js]=this[Js]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=it(o);s[l]||(Cm(a,o),s[l]=!0)}return N.isArray(e)?e.forEach(i):i(e),this}};pe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(pe.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});N.freezeMethods(pe);function fn(n,e){const t=this||yt,s=e||t,a=pe.from(s.headers);let i=s.data;return N.forEach(n,function(l){i=l.call(t,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function gr(n){return!!(n&&n.__CANCEL__)}function at(n,e,t){G.call(this,n??"canceled",G.ERR_CANCELED,e,t),this.name="CanceledError"}N.inherits(at,G,{__CANCEL__:!0});function fr(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new G("Request failed with status code "+t.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function km(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Em(n,e){n=n||10;const t=new Array(n),s=new Array(n);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),t[a]=c,s[a]=d;let g=i,b=0;for(;g!==a;)b+=t[g++],g=g%n;if(a=(a+1)%n,a===i&&(i=(i+1)%n),d-o<e)return;const w=u&&d-u;return w?Math.round(b*1e3/w):void 0}}function $m(n,e){let t=0,s=1e3/e,a,i;const o=(d,u=Date.now())=>{t=u,a=null,i&&(clearTimeout(i),i=null),n.apply(null,d)};return[(...d)=>{const u=Date.now(),g=u-t;g>=s?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},s-g)))},()=>a&&o(a)]}const _t=(n,e,t=3)=>{let s=0;const a=Em(50,250);return $m(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=a(c),u=o<=l;s=o;const g={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};n(g)},t)},Ys=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},Xs=n=>(...e)=>N.asap(()=>n(...e)),Tm=ge.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ge.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ge.origin),ge.navigator&&/(msie|trident)/i.test(ge.navigator.userAgent)):()=>!0,Rm=ge.hasStandardBrowserEnv?{write(n,e,t,s,a,i){const o=[n+"="+encodeURIComponent(e)];N.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),N.isString(s)&&o.push("path="+s),N.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Lm(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Om(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function mr(n,e,t){let s=!Lm(e);return n&&(s||t==!1)?Om(n,e):e}const Qs=n=>n instanceof pe?{...n}:n;function _e(n,e){e=e||{};const t={};function s(d,u,g,b){return N.isPlainObject(d)&&N.isPlainObject(u)?N.merge.call({caseless:b},d,u):N.isPlainObject(u)?N.merge({},u):N.isArray(u)?u.slice():u}function a(d,u,g,b){if(N.isUndefined(u)){if(!N.isUndefined(d))return s(void 0,d,g,b)}else return s(d,u,g,b)}function i(d,u){if(!N.isUndefined(u))return s(void 0,u)}function o(d,u){if(N.isUndefined(u)){if(!N.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,g){if(g in e)return s(d,u);if(g in n)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,g)=>a(Qs(d),Qs(u),g,!0)};return N.forEach(Object.keys(Object.assign({},n,e)),function(u){const g=c[u]||a,b=g(n[u],e[u],u);N.isUndefined(b)&&g!==l||(t[u]=b)}),t}const pr=n=>{const e=_e({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=e;e.headers=o=pe.from(o),e.url=dr(mr(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(N.isFormData(t)){if(ge.hasStandardBrowserEnv||ge.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(ge.hasStandardBrowserEnv&&(s&&N.isFunction(s)&&(s=s(e)),s||s!==!1&&Tm(e.url))){const d=a&&i&&Rm.read(i);d&&o.set(a,d)}return e},Am=typeof XMLHttpRequest<"u",Pm=Am&&function(n){return new Promise(function(t,s){const a=pr(n);let i=a.data;const o=pe.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,g,b,w,m;function p(){w&&w(),m&&m(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function y(){if(!x)return;const k=pe.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:k,config:n,request:x};fr(function(S){t(S),p()},function(S){s(S),p()},A),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(s(new G("Request aborted",G.ECONNABORTED,n,x)),x=null)},x.onerror=function(){s(new G("Network Error",G.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let $=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const A=a.transitional||ur;a.timeoutErrorMessage&&($=a.timeoutErrorMessage),s(new G($,A.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,n,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&N.forEach(o.toJSON(),function($,A){x.setRequestHeader(A,$)}),N.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),l&&l!=="json"&&(x.responseType=a.responseType),d&&([b,m]=_t(d,!0),x.addEventListener("progress",b)),c&&x.upload&&([g,w]=_t(c),x.upload.addEventListener("progress",g),x.upload.addEventListener("loadend",w)),(a.cancelToken||a.signal)&&(u=k=>{x&&(s(!k||k.type?new at(null,n,x):k),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const j=km(a.url);if(j&&ge.protocols.indexOf(j)===-1){s(new G("Unsupported protocol "+j+":",G.ERR_BAD_REQUEST,n));return}x.send(i||null)})},Mm=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof G?u:new at(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new G(`timeout ${e} of ms exceeded`,G.ETIMEDOUT))},e);const l=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),n=null)};n.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>N.asap(l),c}},Im=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,a;for(;s<t;)a=s+e,yield n.slice(s,a),s=a},Fm=async function*(n,e){for await(const t of zm(n))yield*Im(t,e)},zm=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},Zs=(n,e,t,s)=>{const a=Fm(n,e);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let g=u.byteLength;if(t){let b=i+=g;t(b)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},nn=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xr=nn&&typeof ReadableStream=="function",Dm=nn&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),br=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Um=xr&&br(()=>{let n=!1;const e=new Request(ge.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),ea=64*1024,Pn=xr&&br(()=>N.isReadableStream(new Response("").body)),Bt={stream:Pn&&(n=>n.body)};nn&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bt[e]&&(Bt[e]=N.isFunction(n[e])?t=>t[e]():(t,s)=>{throw new G(`Response type '${e}' is not supported`,G.ERR_NOT_SUPPORT,s)})})})(new Response);const _m=async n=>{if(n==null)return 0;if(N.isBlob(n))return n.size;if(N.isSpecCompliantForm(n))return(await new Request(ge.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(N.isArrayBufferView(n)||N.isArrayBuffer(n))return n.byteLength;if(N.isURLSearchParams(n)&&(n=n+""),N.isString(n))return(await Dm(n)).byteLength},Bm=async(n,e)=>{const t=N.toFiniteNumber(n.getContentLength());return t??_m(e)},Hm=nn&&(async n=>{let{url:e,method:t,data:s,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:g="same-origin",fetchOptions:b}=pr(n);d=d?(d+"").toLowerCase():"text";let w=Mm([a,i&&i.toAbortSignal()],o),m;const p=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let x;try{if(c&&Um&&t!=="get"&&t!=="head"&&(x=await Bm(u,s))!==0){let A=new Request(e,{method:"POST",body:s,duplex:"half"}),O;if(N.isFormData(s)&&(O=A.headers.get("content-type"))&&u.setContentType(O),A.body){const[S,E]=Ys(x,_t(Xs(c)));s=Zs(A.body,ea,S,E)}}N.isString(g)||(g=g?"include":"omit");const y="credentials"in Request.prototype;m=new Request(e,{...b,signal:w,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:y?g:void 0});let j=await fetch(m);const k=Pn&&(d==="stream"||d==="response");if(Pn&&(l||k&&p)){const A={};["status","statusText","headers"].forEach(v=>{A[v]=j[v]});const O=N.toFiniteNumber(j.headers.get("content-length")),[S,E]=l&&Ys(O,_t(Xs(l),!0))||[];j=new Response(Zs(j.body,ea,S,()=>{E&&E(),p&&p()}),A)}d=d||"text";let $=await Bt[N.findKey(Bt,d)||"text"](j,n);return!k&&p&&p(),await new Promise((A,O)=>{fr(A,O,{data:$,headers:pe.from(j.headers),status:j.status,statusText:j.statusText,config:n,request:m})})}catch(y){throw p&&p(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new G("Network Error",G.ERR_NETWORK,n,m),{cause:y.cause||y}):G.from(y,y&&y.code,n,m)}}),Mn={http:am,xhr:Pm,fetch:Hm};N.forEach(Mn,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const ta=n=>`- ${n}`,Vm=n=>N.isFunction(n)||n===null||n===!1,yr={getAdapter:n=>{n=N.isArray(n)?n:[n];const{length:e}=n;let t,s;const a={};for(let i=0;i<e;i++){t=n[i];let o;if(s=t,!Vm(t)&&(s=Mn[(o=String(t)).toLowerCase()],s===void 0))throw new G(`Unknown adapter '${o}'`);if(s)break;a[o||"#"+i]=s}if(!s){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(ta).join(`
`):" "+ta(i[0]):"as no adapter specified";throw new G("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Mn};function mn(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new at(null,n)}function na(n){return mn(n),n.headers=pe.from(n.headers),n.data=fn.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),yr.getAdapter(n.adapter||yt.adapter)(n).then(function(s){return mn(n),s.data=fn.call(n,n.transformResponse,s),s.headers=pe.from(s.headers),s},function(s){return gr(s)||(mn(n),s&&s.response&&(s.response.data=fn.call(n,n.transformResponse,s.response),s.response.headers=pe.from(s.response.headers))),Promise.reject(s)})}const wr="1.8.4",sn={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{sn[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const sa={};sn.transitional=function(e,t,s){function a(i,o){return"[Axios v"+wr+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(e===!1)throw new G(a(o," has been removed"+(t?" in "+t:"")),G.ERR_DEPRECATED);return t&&!sa[o]&&(sa[o]=!0,console.warn(a(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,l):!0}};sn.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function qm(n,e,t){if(typeof n!="object")throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let a=s.length;for(;a-- >0;){const i=s[a],o=e[i];if(o){const l=n[i],c=l===void 0||o(l,i,n);if(c!==!0)throw new G("option "+i+" must be "+c,G.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new G("Unknown option "+i,G.ERR_BAD_OPTION)}}const Lt={assertOptions:qm,validators:sn},we=Lt.validators;let De=class{constructor(e){this.defaults=e,this.interceptors={request:new Ks,response:new Ks}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=_e(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:i}=t;s!==void 0&&Lt.assertOptions(s,{silentJSONParsing:we.transitional(we.boolean),forcedJSONParsing:we.transitional(we.boolean),clarifyTimeoutError:we.transitional(we.boolean)},!1),a!=null&&(N.isFunction(a)?t.paramsSerializer={serialize:a}:Lt.assertOptions(a,{encode:we.function,serialize:we.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Lt.assertOptions(t,{baseUrl:we.spelling("baseURL"),withXsrfToken:we.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&N.merge(i.common,i[t.method]);i&&N.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),t.headers=pe.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(t)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,g=0,b;if(!c){const m=[na.bind(this),void 0];for(m.unshift.apply(m,l),m.push.apply(m,d),b=m.length,u=Promise.resolve(t);g<b;)u=u.then(m[g++],m[g++]);return u}b=l.length;let w=t;for(g=0;g<b;){const m=l[g++],p=l[g++];try{w=m(w)}catch(x){p.call(this,x);break}}try{u=na.call(this,w)}catch(m){return Promise.reject(m)}for(g=0,b=d.length;g<b;)u=u.then(d[g++],d[g++]);return u}getUri(e){e=_e(this.defaults,e);const t=mr(e.baseURL,e.url,e.allowAbsoluteUrls);return dr(t,e.params,e.paramsSerializer)}};N.forEach(["delete","get","head","options"],function(e){De.prototype[e]=function(t,s){return this.request(_e(s||{},{method:e,url:t,data:(s||{}).data}))}});N.forEach(["post","put","patch"],function(e){function t(s){return function(i,o,l){return this.request(_e(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}De.prototype[e]=t(),De.prototype[e+"Form"]=t(!0)});let Wm=class vr{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,l){s.reason||(s.reason=new at(i,o,l),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new vr(function(a){e=a}),cancel:e}}};function Gm(n){return function(t){return n.apply(null,t)}}function Km(n){return N.isObject(n)&&n.isAxiosError===!0}const In={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(In).forEach(([n,e])=>{In[e]=n});function Sr(n){const e=new De(n),t=Za(De.prototype.request,e);return N.extend(t,De.prototype,e,{allOwnKeys:!0}),N.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return Sr(_e(n,a))},t}const se=Sr(yt);se.Axios=De;se.CanceledError=at;se.CancelToken=Wm;se.isCancel=gr;se.VERSION=wr;se.toFormData=tn;se.AxiosError=G;se.Cancel=se.CanceledError;se.all=function(e){return Promise.all(e)};se.spread=Gm;se.isAxiosError=Km;se.mergeConfig=_e;se.AxiosHeaders=pe;se.formToJSON=n=>hr(N.isHTMLForm(n)?new FormData(n):n);se.getAdapter=yr.getAdapter;se.HttpStatusCode=In;se.default=se;const{Axios:V0,AxiosError:q0,CanceledError:W0,isCancel:G0,CancelToken:K0,VERSION:J0,all:Y0,Cancel:X0,isAxiosError:Q0,spread:Z0,toFormData:ex,AxiosHeaders:tx,HttpStatusCode:nx,formToJSON:sx,getAdapter:ax,mergeConfig:rx}=se;class Jm{constructor(e={},t={}){Z(this,"axiosInstance");Z(this,"retryConfig");this.axiosInstance=se.create(e),this.retryConfig={maxRetries:t.maxRetries||3,retryDelay:t.retryDelay||1e3,retryStatusCodes:t.retryStatusCodes||[408,429,500,502,503,504]},this.setupInterceptors()}setupInterceptors(){this.axiosInstance.interceptors.response.use(e=>e,async e=>{const t=e.config;if((!t||!t.retry)&&(t.retry=0),t.retry<this.retryConfig.maxRetries&&(!e.response||e.response&&this.retryConfig.retryStatusCodes.includes(e.response.status))){t.retry+=1;const s=this.retryConfig.retryDelay*Math.pow(2,t.retry-1);return await new Promise(a=>setTimeout(a,s)),this.axiosInstance(t)}return Promise.reject(e)})}async get(e,t){return this.axiosInstance.get(e,t)}async post(e,t,s){return this.axiosInstance.post(e,t,s)}async put(e,t,s){return this.axiosInstance.put(e,t,s)}async delete(e,t){return this.axiosInstance.delete(e,t)}}const Ym=new Jm,Xm={twi:"female-1",ga:"female-1",ewe:"female-1",dagbani:"female-1",hausa:"female-1",english:"en-US-Standard-F"},aa=50,Qm=7*24*60*60*1e3;class Zm{constructor(e){Z(this,"apiKey");Z(this,"defaultVoices");Z(this,"cache",[]);Z(this,"enableOfflineMode");Z(this,"cacheAudio");Z(this,"remoteTTSEndpoint");Z(this,"audioElement",null);this.apiKey=(e==null?void 0:e.apiKey)||"hf-your-huggingface-api-key",this.defaultVoices={...Xm,...(e==null?void 0:e.defaultVoices)||{}},this.enableOfflineMode=(e==null?void 0:e.enableOfflineMode)||!0,this.cacheAudio=(e==null?void 0:e.cacheAudio)!==!1&&!0;const t="http://localhost:5002/api";this.remoteTTSEndpoint=(e==null?void 0:e.remoteTTSEndpoint)||`${t}/tts`,typeof window<"u"&&(this.audioElement=new Audio),this.loadCacheFromStorage()}loadCacheFromStorage(){if(!(!this.cacheAudio||typeof localStorage>"u"))try{const e=localStorage.getItem("ttsAudioCache");e&&(this.cache=JSON.parse(e))}catch(e){console.error("Failed to load TTS audio cache:",e)}}saveCacheToStorage(){if(!(!this.cacheAudio||typeof localStorage>"u"||this.cache.length===0))try{const e=JSON.stringify(this.cache.map(({text:t,language:s,timestamp:a})=>({text:t,language:s,timestamp:a})));localStorage.setItem("ttsAudioCache",e)}catch(e){console.error("Failed to save TTS audio cache:",e)}}getCachedAudio(e,t){if(!this.cacheAudio)return null;const s=this.cache.find(a=>a.text===e&&a.language===t&&a.blob);return s&&s.blob?(this.updateCacheTimestamp(e,t),s.blob):null}addToCache(e,t,s){if(!this.cacheAudio)return;const a=Date.now();this.cache=this.cache.filter(i=>a-i.timestamp<Qm),this.cache=[{text:e,language:t,blob:s,timestamp:a},...this.cache.filter(i=>!(i.text===e&&i.language===t))],this.cache.length>aa&&(this.cache=this.cache.slice(0,aa)),this.saveCacheToStorage()}updateCacheTimestamp(e,t){this.cache=this.cache.map(s=>s.text===e&&s.language===t?{...s,timestamp:Date.now()}:s),this.saveCacheToStorage()}async speak(e){const{text:t,language:s,voice:a,pitch:i=1,rate:o=1,volume:l=1}=e;if(!t)return!1;try{const c=this.getCachedAudio(t,s);if(c)return this.playAudioBlob(c,o,l);if(!navigator.onLine&&!c){if(this.enableOfflineMode)return this.speakWithWebSpeech(t,s,i,o,l);throw new Error("Device is offline and no cached audio available")}const d=await this.fetchAudioFromAPI(t,s,a,i,o,l);return this.addToCache(t,s,d),this.playAudioBlob(d,o,l)}catch(c){return console.error("TTS error:",c),this.speakWithWebSpeech(t,s,i,o,l)}}async fetchAudioFromAPI(e,t,s,a=1,i=1,o=1){const l={text:e,language:t,voice:s||this.defaultVoices[t],pitch:a,rate:i,volume:o},c={"Content-Type":"application/json"};this.apiKey&&(c.Authorization=`Bearer ${this.apiKey}`);try{const d=await Ym.post(this.remoteTTSEndpoint,l,{headers:c});return d.data&&typeof d.data=="object"&&d.data.success?(console.log("Mock TTS response received:",d.data),new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,0,0,0,0,76,65,77,69])],{type:"audio/mpeg"})):d.data}catch(d){throw console.error("Error fetching audio:",d),new Error(`Failed to fetch audio: ${d.message}`)}}playAudioBlob(e,t=1,s=1){return new Promise((a,i)=>{if(!this.audioElement){i(new Error("Audio element not available"));return}this.stop();const o=URL.createObjectURL(e);this.audioElement.src=o,this.audioElement.playbackRate=t,this.audioElement.volume=s,this.audioElement.onplay=()=>a(!0),this.audioElement.onerror=()=>{URL.revokeObjectURL(o),i(new Error("Audio playback error"))},this.audioElement.onended=()=>{URL.revokeObjectURL(o)},this.audioElement.play().catch(l=>{URL.revokeObjectURL(o),i(l)})})}speakWithWebSpeech(e,t,s=1,a=1,i=1){if(typeof window>"u"||!("speechSynthesis"in window))return!1;try{window.speechSynthesis.cancel();const o=new SpeechSynthesisUtterance(e),l=window.speechSynthesis.getVoices(),c=t==="english"?"en":t,d=l.find(u=>u.lang.startsWith(c));return d&&(o.voice=d),o.lang=t==="english"?"en-US":`${t}-GH`,o.pitch=s,o.rate=a,o.volume=i,window.speechSynthesis.speak(o),!0}catch(o){return console.error("Web Speech API error:",o),!1}}stop(){typeof window<"u"&&"speechSynthesis"in window&&window.speechSynthesis.cancel(),this.audioElement&&(this.audioElement.pause(),this.audioElement.currentTime=0)}isVoiceAvailable(e){if(typeof window>"u"||!("speechSynthesis"in window))return!1;const t=window.speechSynthesis.getVoices(),s=e==="english"?"en":e;return t.some(a=>a.lang.startsWith(s))}async preloadCommonPhrases(e,t){if(!navigator.onLine||!this.cacheAudio)return 0;let s=0;for(const a of e)try{if(this.getCachedAudio(a,t)){s++;continue}const i=await this.fetchAudioFromAPI(a,t);this.addToCache(a,t,i),s++}catch(i){console.error(`Failed to preload phrase: "${a}"`,i)}return s}getAvailableVoices(){return typeof window>"u"||!("speechSynthesis"in window)?[]:window.speechSynthesis.getVoices()}setAPIKey(e){this.apiKey=e,console.log("TTSService API key updated")}updateConfig(e){e.apiKey&&(this.apiKey=e.apiKey),e.defaultVoices&&(this.defaultVoices={...this.defaultVoices,...e.defaultVoices}),e.remoteTTSEndpoint&&(this.remoteTTSEndpoint=e.remoteTTSEndpoint),e.enableOfflineMode!==void 0&&(this.enableOfflineMode=e.enableOfflineMode),e.cacheAudio!==void 0&&(this.cacheAudio=e.cacheAudio),console.log("TTSService configuration updated")}}const Fn=new Zm,Ct={twi:["Akwaaba (Welcome)","Me din de... (My name is...)","Wo ho te sɛn? (How are you?)","Medaase (Thank you)","Yɛbɛhyia bio (See you again)"],ga:["Ogekoo (Welcome)","Mibii ji... (My name is...)","Te ofe? (How are you?)","Oyiwaladon (Thank you)","Wo miimɔ̃ ekoŋŋ (See you again)"],ewe:["Woezɔ (Welcome)","Ŋkɔnye enye... (My name is...)","Efɔ̃ a? (How are you?)","Akpe (Thank you)","Míakpɔ mía nɔewo (See you again)"],hausa:["Sannu (Welcome)","Sunana... (My name is...)","Yaya lafiya? (How are you?)","Na gode (Thank you)","Sai mun sadu (See you again)"],english:["Welcome to TalkGhana","My name is...","How are you?","Thank you","See you again"],dagbani:["Desiba! This is TalkGhana","I can help you communicate in Dagbani","Try saying some basic phrases","You can also type if you prefer"]},ep=()=>{const{currentLanguage:n,setLanguage:e}=nt(),{preferences:t}=be(),[s,a]=h.useState(""),[i,o]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState(null),[g,b]=h.useState(!0),[w,m]=h.useState(null),[p,x]=h.useState(!1),[y,j]=h.useState(!1),k=Fn;h.useEffect(()=>{var S;((S=Ct[n])==null?void 0:S.length)>0?a(Ct[n][0]):a(""),u(null),m(null)},[n]);const $=async()=>{if(!(!s||i)){o(!0),j(!0),u({text:"Processing speech...",type:"info"});try{await k.speak({text:s,language:n,pitch:1,rate:1,volume:1}),u({text:"Speech synthesis complete",type:"success"})}catch(S){console.error("Speech error:",S),u({text:"Failed to synthesize speech. Please try again.",type:"error"})}finally{o(!1),j(!1)}}},A=async S=>{x(!0),j(!0);try{S?(u({text:"Using advanced synthesis...",type:"info"}),await k.speak({text:s,language:n,pitch:1.2,rate:1,volume:1})):(u({text:"Using standard TTS...",type:"info"}),await k.speak({text:s,language:n,pitch:1,rate:1,volume:1}))}catch(E){console.error("Speech comparison error:",E)}finally{x(!1),j(!1),u(null)}},O=async S=>{m(S),j(!0);try{u({text:"Thank you for your feedback! This helps improve our models.",type:"success"})}catch(E){console.error("Error submitting feedback:",E),u({text:"Error submitting feedback.",type:"error"})}finally{j(!1),setTimeout(()=>{u(null)},3e3)}};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>c(!l),className:`w-full flex justify-between items-center px-4 py-2 rounded-lg border ${t.highContrast?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-300"}`,"aria-haspopup":"listbox","aria-expanded":l,children:[r.jsx("span",{className:"truncate",children:s||"Select a phrase"}),r.jsx(io,{size:16})]}),l&&r.jsx("ul",{className:`absolute z-10 w-full mt-1 rounded-lg shadow-lg ${t.highContrast?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"}`,role:"listbox",children:Ct[n].map((S,E)=>r.jsx("li",{onClick:()=>{a(S),c(!1)},className:`px-4 py-2 cursor-pointer ${t.highContrast?"hover:bg-gray-700":"hover:bg-gray-100"} ${S===s?t.highContrast?"bg-blue-800":"bg-blue-100":""}`,role:"option","aria-selected":S===s,children:S},E))})]})}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("button",{onClick:$,disabled:i||!s||y,className:`flex items-center gap-2 px-4 py-2 rounded-lg ${i||!s||y?"bg-gray-400 cursor-not-allowed":t.highContrast?"bg-blue-700 hover:bg-blue-800":"bg-blue-500 hover:bg-blue-600"} text-white`,"aria-label":"Play selected phrase",children:[y?r.jsx(Mo,{size:16,className:"animate-spin"}):r.jsx(tt,{size:16}),r.jsx("span",{children:i?"Playing...":"Play"})]})})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.keys(Ct).map(S=>r.jsx("button",{onClick:()=>e(S),className:`px-3 py-1 text-sm rounded-full ${n===S?t.highContrast?"bg-green-800 text-white":"bg-green-100 text-green-800":t.highContrast?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-700"}`,children:S.charAt(0).toUpperCase()+S.slice(1)},S))}),r.jsxs("div",{className:`p-3 rounded-lg ${t.highContrast?"bg-gray-800":"bg-gray-100"}`,children:[r.jsx("h3",{className:"font-medium mb-2",children:"Compare Speech Quality"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{onClick:()=>A(!0),disabled:p||y,className:`px-3 py-1 text-sm rounded-md ${p||y?"bg-gray-400 cursor-not-allowed":t.highContrast?"bg-indigo-700 hover:bg-indigo-800":"bg-indigo-100 text-indigo-800 hover:bg-indigo-200"}`,children:"ESPnet + G2P"}),r.jsx("button",{onClick:()=>A(!1),disabled:p||y,className:`px-3 py-1 text-sm rounded-md ${p||y?"bg-gray-400 cursor-not-allowed":t.highContrast?"bg-purple-700 hover:bg-purple-800":"bg-purple-100 text-purple-800 hover:bg-purple-200"}`,children:"Standard TTS"})]})]}),s&&!y&&!p&&r.jsxs("div",{className:`p-3 rounded-lg ${t.highContrast?"bg-gray-800":"bg-gray-100"}`,children:[r.jsx("h3",{className:"font-medium mb-2",children:"Rate Speech Quality"}),r.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(S=>r.jsx("button",{onClick:()=>O(S),className:`p-1 rounded ${w===S?t.highContrast?"text-yellow-400":"text-yellow-500":t.highContrast?"text-gray-600 hover:text-gray-400":"text-gray-400 hover:text-gray-600"}`,"aria-label":`Rate ${S} star${S!==1?"s":""}`,children:r.jsx(gl,{size:20,fill:w!==null&&S<=w?"currentColor":"none"})},S))})]}),d&&r.jsx("div",{className:`p-3 rounded-lg ${d.type==="success"?t.highContrast?"bg-green-900 text-green-100":"bg-green-100 text-green-800":d.type==="error"?t.highContrast?"bg-red-900 text-red-100":"bg-red-100 text-red-800":t.highContrast?"bg-blue-900 text-blue-100":"bg-blue-100 text-blue-800"}`,children:d.text})]})},jr=({text:n="",language:e="twi",autoPlay:t=!1,onPlayStart:s,onPlayEnd:a,onError:i,showSettings:o=!0})=>{const[l,c]=h.useState(n),[d,u]=h.useState(e),[g,b]=h.useState("default"),[w,m]=h.useState(1),[p,x]=h.useState(1),[y,j]=h.useState(!1),[k,$]=h.useState(null),[A,O]=h.useState(null),[S,E]=h.useState([]),[v,L]=h.useState(!1),R=h.useRef(null);h.useEffect(()=>{n!==l&&c(n)},[n]),h.useEffect(()=>{e!==d&&u(e)},[e]),h.useEffect(()=>{(async()=>{try{const P=await fetch(`/api/tts/voices?language=${d}`);if(P.ok){const U=await P.json();E(U.voices),U.voices.length>0?b(U.voices[0].id):b("default")}else{const U=[{id:"female-1",name:`${d.charAt(0).toUpperCase()+d.slice(1)} Female`,gender:"female"},{id:"male-1",name:`${d.charAt(0).toUpperCase()+d.slice(1)} Male`,gender:"male"}];E(U),b(U[0].id)}}catch(P){console.error("Error fetching voices:",P);const U=[{id:"female-1",name:`${d.charAt(0).toUpperCase()+d.slice(1)} Female`,gender:"female"},{id:"male-1",name:`${d.charAt(0).toUpperCase()+d.slice(1)} Male`,gender:"male"}];E(U),b(U[0].id)}})()},[d]),h.useEffect(()=>{t&&l&&R.current&&!y&&W()},[t,l,y]);const F=async z=>{if(z.preventDefault(),!l.trim()){const P="Please enter some text";O(P),i&&i(P);return}O(null),j(!0),s&&s();try{const P=await fetch("/api/tts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:l,language:d,voice:g,rate:w,pitch:p})}),U=await P.json();if(P.ok)$(U.audioUrl),R.current&&(R.current.load(),R.current.play());else{const Q=U.error||"Failed to generate speech";O(Q),i&&i(Q)}}catch(P){console.error("Error synthesizing speech:",P);const U="Failed to connect to the server";O(U),i&&i(U)}finally{j(!1)}},W=async()=>{if(!l.trim()){const z="Please enter some text";O(z),i&&i(z);return}O(null),j(!0),s&&s();try{const z=`/api/tts?${new URLSearchParams({text:l,language:d,voice:g,rate:w.toString(),pitch:p.toString()})}`;$(z),R.current&&(R.current.load(),R.current.play(),R.current.onended=()=>{a&&a()})}catch(z){console.error("Error streaming speech:",z);const P="Failed to stream audio";O(P),i&&i(P)}finally{j(!1)}},J=()=>{L(!v)};return r.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ghanaian Text-to-Speech"}),A&&r.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md",children:A}),r.jsxs("form",{onSubmit:F,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"text",className:"block text-sm font-medium mb-1",children:"Text to Speak"}),r.jsx("textarea",{id:"text",value:l,onChange:z=>c(z.target.value),className:"w-full p-2 border border-gray-300 rounded-md",rows:4,placeholder:"Enter text in a Ghanaian language..."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"language",className:"block text-sm font-medium mb-1",children:"Language"}),r.jsxs("select",{id:"language",value:d,onChange:z=>u(z.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[r.jsx("option",{value:"twi",children:"Twi"}),r.jsx("option",{value:"ga",children:"Ga"}),r.jsx("option",{value:"ewe",children:"Ewe"}),r.jsx("option",{value:"hausa",children:"Hausa"}),r.jsx("option",{value:"english",children:"English"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"voice",className:"block text-sm font-medium mb-1",children:"Voice"}),r.jsx("select",{id:"voice",value:g,onChange:z=>b(z.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:S.length===0?r.jsx("option",{value:"default",children:"Default"}):S.map(z=>r.jsxs("option",{value:z.id,children:[z.name," (",z.gender,")"]},z.id))})]})]}),o&&v&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"speed",className:"block text-sm font-medium mb-1",children:["Speed: ",w.toFixed(1)]}),r.jsx("input",{id:"speed",type:"range",min:"0.5",max:"2.0",step:"0.1",value:w,onChange:z=>m(parseFloat(z.target.value)),className:"w-full"})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"pitch",className:"block text-sm font-medium mb-1",children:["Pitch: ",p.toFixed(1)]}),r.jsx("input",{id:"pitch",type:"range",min:"0.5",max:"2.0",step:"0.1",value:p,onChange:z=>x(parseFloat(z.target.value)),className:"w-full"})]})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 disabled:opacity-50",children:y?"Generating...":"Generate Speech"}),r.jsx("button",{type:"button",onClick:W,disabled:y,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 disabled:opacity-50",children:y?"Streaming...":"Stream Speech"}),o&&r.jsx("button",{type:"button",onClick:J,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-md font-medium","aria-expanded":v,children:v?"Hide Settings":"Show Settings"})]})]}),k&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Generated Audio"}),r.jsxs("audio",{ref:R,controls:!0,className:"w-full",onEnded:()=>{a&&a()},children:[r.jsx("source",{src:k,type:"audio/wav"}),"Your browser does not support the audio element."]})]})]})},Nr=({language:n="twi",onTranscriptChange:e,onSpeechEnd:t,onError:s})=>{const[a,i]=h.useState(!1),[o,l]=h.useState(null),[c,d]=h.useState(!1),[u,g]=h.useState(null),[b,w]=h.useState(null),m=h.useRef(null),p=h.useRef([]),x=h.useRef(null),y=h.useRef(null),j=async()=>{try{w(null),l(null),g(null),p.current=[];const S=await navigator.mediaDevices.getUserMedia({audio:!0}),E=new MediaRecorder(S);m.current=E,E.ondataavailable=v=>{v.data.size>0&&p.current.push(v.data)},E.onstop=()=>{const v=new Blob(p.current,{type:"audio/wav"});l(v),S.getTracks().forEach(L=>L.stop())},E.start(),i(!0)}catch(S){console.error("Error starting recording:",S);const E="Could not access microphone. Please check permissions.";w(E),i(!1),s&&s(E)}},k=()=>{m.current&&a&&(m.current.stop(),i(!1),t&&t())},$=S=>{var v;const E=(v=S.target.files)==null?void 0:v[0];E&&(w(null),l(E),g(null))},A=async()=>{if(!o){const S="No audio to transcribe";w(S),s&&s(S);return}d(!0),w(null);try{const S=new FormData;S.append("audio",o),S.append("language",n);const E=await fetch("/api/asr/whisper",{method:"POST",body:S}),v=await E.json();if(E.ok)g(v),e&&v.text&&e(v.text,v.confidence),t&&t();else{const L=v.error||"Failed to transcribe audio";w(L),s&&s(L)}}catch(S){console.error("Error transcribing audio:",S);const E="Failed to connect to the server";w(E),s&&s(E)}finally{d(!1)}},O=()=>!u||!u.words?null:r.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:u.words.map((S,E)=>r.jsx("span",{className:"inline-block px-1 py-0.5 m-0.5 rounded cursor-pointer hover:bg-blue-100",title:`${S.start.toFixed(2)}s - ${S.end.toFixed(2)}s`,onClick:()=>{x.current&&(x.current.currentTime=S.start,x.current.play())},children:S.word},E))});return r.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ghanaian Speech Recognition"}),b&&r.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md",children:b}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"language",className:"block text-sm font-medium mb-1",children:"Language"}),r.jsx("div",{className:"p-2 border border-gray-300 rounded-md bg-gray-50",children:r.jsx("span",{children:n.charAt(0).toUpperCase()+n.slice(1)})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[r.jsx("button",{onClick:a?k:j,className:`px-4 py-2 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-opacity-50 ${a?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}`,disabled:c,children:a?"Stop Recording":"Record Audio"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"file",ref:y,onChange:$,accept:"audio/*",className:"hidden",disabled:a||c}),r.jsx("button",{onClick:()=>{var S;return(S=y.current)==null?void 0:S.click()},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50",disabled:a||c,children:"Upload Audio"})]})]}),o&&r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Recorded Audio"}),r.jsxs("audio",{ref:x,controls:!0,className:"w-full",children:[r.jsx("source",{src:URL.createObjectURL(o),type:"audio/wav"}),"Your browser does not support the audio element."]}),r.jsx("button",{onClick:A,disabled:c,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 disabled:opacity-50",children:c?"Transcribing...":"Transcribe Audio"})]}),u&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Transcript"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Confidence: ",(u.confidence*100).toFixed(1),"%"]})]}),r.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-md",children:r.jsx("p",{className:"text-lg",children:u.text})}),r.jsx("h4",{className:"text-md font-medium mt-4 mb-2",children:"Word Timestamps"}),O()]})]})]})},tp=()=>{const n=Gt(),{t:e}=nt(),{preferences:t}=be(),[s,a]=h.useState(!1),[i,o]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState({type:"success",message:"",visible:!1}),g=()=>{u({type:"processing",message:"Emergency mode activated",visible:!0})},b=()=>{c(!0)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"TalkGhana"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Speech synthesis and recognition for Ghanaian languages"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[r.jsx("div",{children:r.jsx(jr,{})}),r.jsx("div",{children:r.jsx(Nr,{})})]})]}),r.jsxs("div",{className:"flex flex-col space-y-6 py-4",children:[r.jsx(xf,{type:d.type,message:d.message,isVisible:d.visible}),r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:`${t.largeText?"text-4xl":"text-3xl"} font-bold text-blue-600`,children:e("homeTitle")}),r.jsx("p",{className:"mt-2 text-gray-600",children:e("homeSubtitle")})]}),r.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ma,{className:"text-red-500 mr-3",size:24}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-bold text-red-800",children:"Emergency Quick Access"}),r.jsx("p",{className:"text-red-600 text-sm",children:"Fast access to emergency communication"})]})]}),r.jsxs("button",{onClick:g,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 flex items-center","aria-label":"Emergency communication",children:[r.jsx("span",{className:"mr-1",children:"Emergency"}),r.jsx(so,{size:16})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto w-full",children:[r.jsx(Nt,{icon:r.jsx(Aa,{size:24}),label:"Conversation",onClick:()=>n("/conversation"),color:"blue",size:"lg"}),r.jsx(Nt,{icon:r.jsx(Ye,{size:24}),label:"Commands",onClick:()=>n("/voice-commands"),color:"green",size:"lg"}),r.jsx(Nt,{icon:r.jsx(ct,{size:24}),label:"Settings",onClick:()=>n("/settings"),color:"purple",size:"lg"}),r.jsx(Nt,{icon:r.jsx(Pt,{size:24}),label:"Accessibility",onClick:b,color:"yellow",size:"lg"})]}),r.jsxs("div",{className:`rounded-lg shadow-md p-4 ${t.highContrast?"bg-gray-900":"bg-white"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Enhanced Ghanaian Speech"}),r.jsx("button",{onClick:()=>a(!s),className:`px-3 py-1 rounded-md text-sm ${t.highContrast?"bg-blue-700 text-white hover:bg-blue-800":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:s?"Hide Demo":"Show Demo"})]}),s?r.jsx(ep,{}):r.jsx("p",{className:`${t.highContrast?"text-gray-300":"text-gray-600"}`,children:"Try our enhanced speech capabilities for Ghanaian languages with improved pronunciation, phonetic mappings, and natural-sounding voices."})]}),r.jsxs("div",{className:`rounded-lg shadow-md p-4 ${t.highContrast?"bg-gray-900":"bg-white"}`,children:[r.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Recently Used"}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:[{icon:"💧",text:"I need water"},{icon:"🆘",text:"Help me"},{icon:"🚻",text:"Bathroom"},{icon:"👋",text:"Hello"},{icon:"🙏",text:"Thank you"},{icon:"❌",text:"No"}].map((w,m)=>r.jsxs("button",{onClick:()=>{u({type:"success",message:`Speaking: "${w.text}"`,visible:!0})},className:`flex flex-col items-center justify-center p-3 rounded-lg ${t.highContrast?"bg-gray-800 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"}`,children:[r.jsx("span",{className:"text-2xl",role:"img","aria-label":w.text,children:w.icon}),r.jsx("span",{className:`mt-1 text-xs ${t.largeText?"text-sm":""} text-center`,children:w.text})]},m))})]}),r.jsxs("div",{className:`rounded-lg shadow-md p-4 ${t.highContrast?"bg-gray-900":"bg-white"}`,children:[r.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Tips & Guides"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{onClick:()=>o(!0),className:`w-full text-left p-3 rounded-lg flex items-center ${t.highContrast?"bg-gray-800 hover:bg-gray-700":"bg-blue-50 hover:bg-blue-100"}`,children:[r.jsx("div",{className:"bg-blue-500 text-white p-2 rounded-full mr-3",children:r.jsx(Pt,{size:18})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"App Tutorial"}),r.jsx("p",{className:`text-sm ${t.highContrast?"text-gray-400":"text-gray-600"}`,children:"Learn how to use all features of TalkGhana"})]})]}),r.jsxs("button",{onClick:()=>n("/voice-commands"),className:`w-full text-left p-3 rounded-lg flex items-center ${t.highContrast?"bg-gray-800 hover:bg-gray-700":"bg-green-50 hover:bg-green-100"}`,children:[r.jsx("div",{className:"bg-green-500 text-white p-2 rounded-full mr-3",children:r.jsx(Ye,{size:18})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Create Custom Commands"}),r.jsx("p",{className:`text-sm ${t.highContrast?"text-gray-400":"text-gray-600"}`,children:"Set up personalized voice commands for your needs"})]})]})]})]}),r.jsx(bf,{isOpen:i,onClose:()=>o(!1)}),r.jsx(yf,{isOpen:l,onClose:()=>c(!1)})]})]})},np={code:"tw-GH",name:"Twi",nativeName:"Twi",speechRecognition:{code:"tw-GH",fallback:"en-GH"},textToSpeech:{code:"tw-GH",fallback:"en-GH",voicePreferences:["Akua","Kwame"]},commands:{help:"Boa me",yes:"Aane",no:"Daabi",emergency:"Ɔhaw",thankyou:"Medaase",water:"Me pɛ nsuo",food:"Me pɛ aduane",bathroom:"Me pɛ toilet",pain:"Me wɔ yaw",medicine:"Me pɛ medicine",cold:"Awɔw de me",hot:"Ahuhuro de me"},conversations:{greeting:"Akwaaba",howAreYou:"Wo ho te sɛn?",imFine:"Me ho ye",goodbye:"Yɛ be hyia bio",understand:"Me te aseɛ",dontUnderstand:"Me nte aseɛ",speakSlowly:"Kasa brɛoo",repeat:"Mesrɛ wo, san ka bio"}},sp={code:"gaa-GH",name:"Ga",nativeName:"Gã",speechRecognition:{code:"gaa-GH",fallback:"en-GH"},textToSpeech:{code:"gaa-GH",fallback:"en-GH",voicePreferences:["Nii","Amerley"]},commands:{help:"Ye mi boa",yes:"Hɛɛ",no:"Daabi",emergency:"Amrɔ Shia",thankyou:"Oyiwaladon",water:"Mi tao nu",food:"Mi tao niyenii",bathroom:"Mi tao toilet",pain:"Mi ye piɛ",medicine:"Mi tao tsofaa",cold:"Fɛi mii ye",hot:"Ŋulami mii ye"},conversations:{greeting:"Ŋɛɛ",howAreYou:"Te ohe?",imFine:"Mi ye ojogbaŋŋ",goodbye:"Oyi wala",understand:"Mi nu shishi",dontUnderstand:"Mi nu shishi jeee",speakSlowly:"Wie blee",repeat:"Ofaine ha, wie eko"}},ap={code:"ee-GH",name:"Ewe",nativeName:"Eʋegbe",speechRecognition:{code:"ee-GH",fallback:"en-GH"},textToSpeech:{code:"ee-GH",fallback:"en-GH",voicePreferences:["Edem","Efua"]},commands:{help:"Kpe ɖe ŋunye",yes:"Ɛ",no:"Ao",emergency:"Dzodzo Xaxa",thankyou:"Akpe",water:"Medi tsi",food:"Medi nuɖuɖu",bathroom:"Medi toilet",pain:"Mele veve sem",medicine:"Medi atike",cold:"Vuvɔ le fu ɖem",hot:"Dzodzo le fu ɖem"},conversations:{greeting:"Woezor",howAreYou:"Aleke nèle?",imFine:"Mele nyuie",goodbye:"Heyi nyuie",understand:"Mese egɔme",dontUnderstand:"Nyemese egɔme o",speakSlowly:"Ƒo nu blewu",repeat:"Meɖe kuku, gblɔe ake"}},rp={code:"ha-GH",name:"Hausa",nativeName:"Hausa",speechRecognition:{code:"ha-GH",fallback:"en-GH"},textToSpeech:{code:"ha-GH",fallback:"en-GH",voicePreferences:["ha-GH-Standard-A","ha-GH-Standard-B"]},commands:{help:"Taimako",yes:"Eh",no:"A'a",emergency:"Gaggawa",thankyou:"Na gode",water:"Ina buƙatar ruwa",food:"Ina jin yunwa",bathroom:"Ina buƙatar bandaki",pain:"Ina jin zafi",medicine:"Ina buƙatar magani",cold:"Ina jin sanyi",hot:"Ina jin zafi"},conversations:{greeting:"Sannu",howAreYou:"Yaya kake?",imFine:"Ina lafiya",goodbye:"Sai an jima",understand:"Na fahimta",dontUnderstand:"Ban fahimta ba",speakSlowly:"Don Allah, yi magana a hankali",repeat:"Don Allah, sake faɗi"}},ip={twi:np,ga:sp,ewe:ap,hausa:rp,english:{code:"en-GH",name:"English",nativeName:"English",speechRecognition:{code:"en-GH",fallback:"en-US"},textToSpeech:{code:"en-GH",fallback:"en-US",voicePreferences:["en-GH-Standard-A","en-GH-Standard-B"]},commands:{help:"Help me",yes:"Yes",no:"No",emergency:"Emergency",thankyou:"Thank you",water:"I need water",food:"I am hungry",bathroom:"I need the bathroom",pain:"I am in pain",medicine:"I need medicine",cold:"I am cold",hot:"I am hot"},conversations:{greeting:"Hello",howAreYou:"How are you?",imFine:"I am fine",goodbye:"Goodbye",understand:"I understand",dontUnderstand:"I do not understand",speakSlowly:"Please speak slowly",repeat:"Please repeat that"}},dagbani:{code:"dag",name:"Dagbani",nativeName:"Dagbani",speechRecognition:{code:"en-GH",fallback:"en-US"},textToSpeech:{code:"en-GH",fallback:"en-US",voicePreferences:["en-US-Standard-D","en-US-Standard-B"]},commands:{help:"I need help",yes:"Yes",no:"No",stop:"Stop",emergency:"Emergency"},conversations:{greeting:"Desiba",thanks:"Naa",goodbye:"Naa nkaaye"}}};class op{constructor(){Z(this,"currentLanguage","english");Z(this,"recognition",null);Z(this,"synthesis",null);if(typeof window<"u"){this.synthesis=window.speechSynthesis;const e=window.SpeechRecognition||window.webkitSpeechRecognition;e&&(this.recognition=new e)}}setLanguage(e){this.currentLanguage=e;const t=this.getLanguageConfig();this.recognition&&(this.recognition.lang=t.speechRecognition.code,this.recognition.onerror=s=>{s.error==="language-not-supported"&&(this.recognition.lang=t.speechRecognition.fallback)}),typeof document<"u"&&(document.documentElement.lang=t.code),typeof window<"u"&&window.dispatchEvent(new Event("languagechange"))}getLanguageConfig(){return ip[this.currentLanguage]}getCurrentLanguage(){return this.currentLanguage}getVoiceForLanguage(){if(!this.synthesis)return null;const e=this.getLanguageConfig(),t=this.synthesis.getVoices();for(const a of e.textToSpeech.voicePreferences){const i=t.find(o=>o.name===a);if(i)return i}const s=t.find(a=>a.lang.toLowerCase().includes(e.textToSpeech.code.toLowerCase()));return s||t.find(a=>a.lang.toLowerCase().includes(e.textToSpeech.fallback.toLowerCase()))||null}translateCommand(e){return this.getLanguageConfig().commands[e]||e}translateConversation(e){return this.getLanguageConfig().conversations[e]||e}}const lp=new op,cp=n=>{const[e,t]=h.useState(""),[s,a]=h.useState(!1),[i,o]=h.useState(null),[l,c]=h.useState(0),d=window.SpeechRecognition||window.webkitSpeechRecognition,u=!!d;h.useEffect(()=>{if(!u){o("Browser does not support speech recognition.");return}const m=new d,p=lp.getLanguageConfig();return m.continuous=!0,m.interimResults=!0,m.lang=p.speechRecognition.code,m.onstart=()=>{a(!0),o(null)},m.onerror=x=>{x.error==="language-not-supported"?m.lang=p.speechRecognition.fallback:(o(`Speech recognition error: ${x.error}`),a(!1))},m.onend=()=>{a(!1)},m.onresult=x=>{let y="",j="";for(let k=x.resultIndex;k<x.results.length;k++){const $=x.results[k][0].transcript,A=x.results[k][0].confidence;x.results[k].isFinal?(j+=$,c(A)):y+=$}t(j||y)},()=>{s&&m.stop()}},[n,u]);const g=h.useCallback(()=>{t(""),o(null),u&&new d().start()},[u]),b=h.useCallback(()=>{u&&new d().stop(),a(!1)},[u]),w=h.useCallback(()=>{t(""),c(0)},[]);return{text:e,isListening:s,error:i,confidence:l,startListening:g,stopListening:b,resetText:w,browserSupportsSpeechRecognition:u}},Ie=class Ie{constructor(){Z(this,"isInitialized",!1);Z(this,"availableVoices",new Map);Z(this,"workerInstance",null);Z(this,"modelInstances",new Map);Z(this,"pendingRequests",new Map);Z(this,"audioContext",null);Z(this,"requestCounter",0);Z(this,"voiceCache",new Map);this.initializeWorkerIfSupported();try{typeof window<"u"&&window.AudioContext&&(this.audioContext=new window.AudioContext)}catch(e){console.error("Failed to initialize AudioContext:",e)}this.availableVoices.set("english-default",!1),this.availableVoices.set("twi-default",!1),this.availableVoices.set("ga-default",!1),this.availableVoices.set("ewe-default",!1),this.availableVoices.set("hausa-default",!1),this.loadVoiceCache()}static getInstance(){return Ie.instance||(Ie.instance=new Ie),Ie.instance}initializeWorkerIfSupported(){if(typeof Worker<"u")try{this.workerInstance=new Worker(new URL("/assets/tortoise-tts.worker-EBFLGbnW.js",import.meta.url),{type:"module"}),this.workerInstance.onmessage=this.handleWorkerMessage.bind(this),this.workerInstance.onerror=this.handleWorkerError.bind(this)}catch(e){console.error("Failed to initialize TortoiseTTS worker:",e),this.workerInstance=null}}handleWorkerMessage(e){const{id:t,type:s,data:a,error:i}=e.data,o=this.pendingRequests.get(t);if(!o){console.warn(`Received message for unknown request: ${t}`);return}if(s==="error")o.reject(new Error(i||"Unknown error"));else if(s==="initialize")this.isInitialized=!0,o.resolve(!0);else if(s==="generate")o.resolve(a);else if(s==="loadVoice"){const l=a.voiceKey;this.availableVoices.set(l,!0),o.resolve(!0)}else if(s==="cloneVoice"){const l=a.voiceId,c=`${a.language}-${l}`;this.availableVoices.set(c,!0),o.resolve(l)}this.pendingRequests.delete(t)}handleWorkerError(e){console.error("TortoiseTTS worker error:",e),this.pendingRequests.forEach(t=>{t.reject(new Error("Worker error: "+e.message))}),this.pendingRequests.clear()}async sendToWorker(e,t){if(!this.workerInstance)return this.mockImplementation(e,t);const s=`${e}-${this.requestCounter++}-${Date.now()}`,a=new Promise((o,l)=>{this.pendingRequests.set(s,{resolve:o,reject:l})});this.workerInstance.postMessage({id:s,type:e,data:t});const i=setTimeout(()=>{var o;this.pendingRequests.has(s)&&((o=this.pendingRequests.get(s))==null||o.reject(new Error(`Request ${s} timed out`)),this.pendingRequests.delete(s))},3e4);try{const o=await a;return clearTimeout(i),o}catch(o){throw clearTimeout(i),o}}mockImplementation(e,t){switch(console.log(`TortoiseTTSService: Mock ${e} for ${JSON.stringify(t)}`),e){case"initialize":return this.isInitialized=!0,Promise.resolve(!0);case"generate":const a=22050*1,i=new ArrayBuffer(a*2),o=new Int16Array(i);for(let g=0;g<a;g++)g%1e3===0?o[g]=Math.floor(Math.random()*100):o[g]=0;return new Promise(g=>{setTimeout(()=>g(i),300)});case"loadVoice":const{language:l,voiceId:c}=t,d=`${l}-${c}`;return this.availableVoices.set(d,!0),Promise.resolve(!0);case"cloneVoice":const u=`cloned-${t.language}-${Date.now()}`;return this.availableVoices.set(`${t.language}-${u}`,!0),Promise.resolve(u);default:return Promise.reject(new Error(`Unknown mock operation: ${e}`))}}async initialize(){if(this.isInitialized)return Promise.resolve();try{return await this.sendToWorker("initialize",{}),this.isInitialized=!0,await this.loadDefaultVoices(),Promise.resolve()}catch(e){return console.error("Failed to initialize TortoiseTTS:",e),this.isInitialized=!0,Promise.resolve()}}async loadDefaultVoices(){const t=["english","twi","ga","ewe","hausa"].map(s=>this.loadVoice(s,"default").catch(a=>console.warn(`Failed to load default voice for ${s}:`,a)));await Promise.all(t)}async generateSpeech(e,t={}){this.isInitialized||await this.initialize();const a={...{language:"english",voice:"default",preset:"standard",numSamples:1,numAutoregressiveSamples:4,temperature:.8,lengthPenalty:1,repetitionPenalty:2,topK:50,topP:.8},...t},i=`${a.language}-${a.voice}`;if(!this.availableVoices.get(i))try{await this.loadVoice(a.language,a.voice)}catch(l){throw console.error(`Failed to load voice ${i}:`,l),new Error(`Voice ${i} not available`)}const o=await this.sendToWorker("generate",{text:e,voiceKey:i,config:a});return this.audioContext?this.enhanceAudio(o):o}async enhanceAudio(e){if(!this.audioContext)return e;try{const t=new ArrayBuffer(e.byteLength);new Uint8Array(t).set(new Uint8Array(e));const s=await this.audioContext.decodeAudioData(t),a=s.getChannelData(0),i=this.audioContext.createBuffer(1,s.length,s.sampleRate),o=i.getChannelData(0);try{let g=0;for(let m=0;m<a.length;m++){const p=Math.abs(a[m]),x=p>g?.003:.1;g=g+(p-g)*x;let y=1;if(g>.5){const k=20*Math.log10(g/.5)*(1-1/3);y=Math.pow(10,-k/20)}o[m]=a[m]*y}const b=.2;for(let m=2;m<o.length-2;m++)Math.abs(o[m]-o[m-1])+Math.abs(o[m]-o[m+1])>b&&(o[m]=(o[m-2]+o[m-1]+o[m]+o[m+1]+o[m+2])/5);let w=0;for(let m=0;m<o.length;m++)w=Math.max(w,Math.abs(o[m]));if(w>0&&w<.8){const m=.9/w;for(let p=0;p<o.length;p++)o[p]*=m}}catch(l){console.warn("Audio processing failed, using unprocessed audio:",l);for(let c=0;c<a.length;c++)o[c]=a[c]}try{const l=new OfflineAudioContext(1,i.length,i.sampleRate),c=l.createBufferSource();c.buffer=i,c.connect(l.destination),c.start();const d=await l.startRendering();return this.audioBufferToWav(d)}catch(l){return console.warn("Failed to render processed audio:",l),this.audioBufferToWav(i)}}catch(t){console.error("Audio enhancement failed:",t);const s=new ArrayBuffer(e.byteLength);return new Uint8Array(s).set(new Uint8Array(e)),s}}audioBufferToWav(e){const t=e.numberOfChannels,s=e.sampleRate,a=e.length,i=2,o=t*a*i,c=44+o,d=new ArrayBuffer(c),u=new DataView(d);this.writeWavHeader(u,t,s,i,o);let g=44;for(let b=0;b<a;b++)for(let w=0;w<t;w++){const m=e.getChannelData(w)[b],p=Math.max(-1,Math.min(1,m)),x=p<0?p*32768:p*32767;u.setInt16(g,x,!0),g+=i}return d}writeWavHeader(e,t,s,a,i){this.writeString(e,0,"RIFF"),e.setUint32(4,36+i,!0),this.writeString(e,8,"WAVE"),this.writeString(e,12,"fmt "),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,t,!0),e.setUint32(24,s,!0),e.setUint32(28,s*t*a,!0),e.setUint16(32,t*a,!0),e.setUint16(34,a*8,!0),this.writeString(e,36,"data"),e.setUint32(40,i,!0)}writeString(e,t,s){for(let a=0;a<s.length;a++)e.setUint8(t+a,s.charCodeAt(a))}async loadVoice(e,t){this.isInitialized||await this.initialize();const s=`${e}-${t}`;if(this.availableVoices.get(s))return Promise.resolve();try{return await this.sendToWorker("loadVoice",{language:e,voiceId:t}),this.availableVoices.set(s,!0),Promise.resolve()}catch(a){throw console.error(`Failed to load voice ${s}:`,a),new Error(`Failed to load voice ${s}`)}}async cloneVoice(e,t){this.isInitialized||await this.initialize();try{const s=await this.sendToWorker("cloneVoice",{audioClips:e,language:t});return this.availableVoices.set(`${t}-${s}`,!0),s}catch(s){throw console.error(`Failed to clone voice for ${t}:`,s),new Error(`Failed to clone voice for ${t}`)}}getAvailableVoices(){return Array.from(this.availableVoices.entries()).filter(([,e])=>e).map(([e])=>e)}saveVoiceToCache(e,t){try{if(t.byteLength>5*1024*1024)return;this.voiceCache.set(e,t);const s=new Uint8Array(t);let a="";for(let c=0;c<s.byteLength;c++)a+=String.fromCharCode(s[c]);const i=window.btoa(a);let o=[];const l=localStorage.getItem("tortoise_voice_keys");l&&(o=JSON.parse(l)),o.includes(e)||(o.push(e),localStorage.setItem("tortoise_voice_keys",JSON.stringify(o))),localStorage.setItem(`tortoise_voice_${e}`,i)}catch(s){console.warn("Failed to cache voice:",s)}}loadVoiceCache(){try{const e=localStorage.getItem("tortoise_voice_keys");if(!e)return;JSON.parse(e).forEach(s=>{const a=localStorage.getItem(`tortoise_voice_${s}`);if(a){const i=window.atob(a),o=new Uint8Array(i.length);for(let l=0;l<i.length;l++)o[l]=i.charCodeAt(l);this.voiceCache.set(s,o.buffer),this.availableVoices.set(s,!0)}})}catch(e){console.warn("Failed to load voice cache:",e)}}async stop(){if(this.workerInstance)try{await this.sendToWorker("stop",{})}catch(e){console.warn("Failed to stop TortoiseTTS:",e)}return Promise.resolve()}};Z(Ie,"instance");let zn=Ie;const ra=zn.getInstance(),Cr=n=>{const[e,t]=h.useState(!1),[s,a]=h.useState(null),[i,o]=h.useState(null),[l,c]=h.useState(null),[d,u]=h.useState(null),[g,b]=h.useState(navigator.onLine),w=typeof window<"u"&&"speechSynthesis"in window;h.useEffect(()=>{const x=new(window.AudioContext||window.webkitAudioContext);return c(x),()=>{x.close()}},[]),h.useEffect(()=>{(async()=>{try{const y=`voice_${n}`;await ra.loadVoice(n,y),o(y)}catch(y){console.error("Failed to load voice:",y),a("Failed to load voice")}})()},[n]);const m=h.useCallback(async(x,y=1,j=1)=>{if(!l){a("Audio context not initialized");return}try{t(!0),a(null),d&&d.stop();const k=await ra.generateSpeech(x,{language:n,voice:i||"default",preset:"standard"}),$=new ArrayBuffer(k.byteLength);new Uint8Array($).set(new Uint8Array(k));try{const A=await l.decodeAudioData($),O=l.createBufferSource();O.buffer=A,y!==1||j!==1?O.playbackRate.value=y*Math.pow(2,(j-1)/12):O.playbackRate.value=y,O.connect(l.destination),O.start(0),u(O),O.onended=()=>{t(!1),u(null)}}catch(A){if(console.error("Failed to decode audio data:",A),a("Failed to decode audio data"),t(!1),w&&window.speechSynthesis){const O=new SpeechSynthesisUtterance(x);O.rate=y,O.pitch=j,window.speechSynthesis.speak(O)}}}catch(k){if(console.error("Speech generation failed:",k),a("Failed to generate speech"),t(!1),w&&window.speechSynthesis){const $=new SpeechSynthesisUtterance(x);$.rate=y,$.pitch=j,window.speechSynthesis.speak($)}}},[n,i,l,d,w]),p=h.useCallback(()=>{d&&(d.stop(),u(null)),t(!1)},[d]);return h.useEffect(()=>()=>{p(),l&&l.close()},[p,l]),{speak:m,stop:p,isSpeaking:e,error:s,selectedVoice:i,setSelectedVoice:o,browserSupportsTTS:w,isOnline:g}},re={EMERGENCY:"emergency",DAILY_NEEDS:"daily",CONVERSATIONS:"conversations",CUSTOM:"custom"},dp={[re.EMERGENCY]:["🆘","🚨","🚑","⚠️","❗","🔴","😣"],[re.DAILY_NEEDS]:["🍽️","💧","🚻","💊","🛌","👕","❄️","🔥"],[re.CONVERSATIONS]:["👍","👎","✅","❌","🙏","👋","😊","🤔"],[re.CUSTOM]:["📝","🔧","🛠️","📌","🔍","📢","💬","🎯"]},up=({command:n,onSave:e,onCancel:t})=>{const{preferences:s}=be(),[a,i]=h.useState((n==null?void 0:n.text)||""),[o,l]=h.useState((n==null?void 0:n.icon)||""),[c,d]=h.useState((n==null?void 0:n.category)||re.CUSTOM),[u,g]=h.useState(!1);h.useEffect(()=>{n?(i(n.text),l(n.icon),d(n.category)):(i(""),l(""),d(re.CUSTOM))},[n]);const b=()=>{if(!a.trim()){alert("Command text is required");return}if(!o){alert("Please select an icon");return}e({id:(n==null?void 0:n.id)||"",text:a.trim(),icon:o,category:c,isCustom:!0})},w=m=>{l(m),g(!1)};return r.jsxs("div",{className:`p-6 rounded-lg shadow-md ${s.highContrast?"bg-gray-800 text-white":"bg-white"}`,children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold",children:n?"Edit Command":"Create New Command"}),r.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-200 text-gray-500","aria-label":"Cancel",children:r.jsx(Jt,{size:20})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"command-text",children:"Command Text"}),r.jsx("input",{id:"command-text",type:"text",value:a,onChange:m=>i(m.target.value),placeholder:"What do you want to say...",className:`w-full p-3 border rounded-lg ${s.highContrast?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Icon"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>g(!u),className:`w-16 h-16 flex items-center justify-center text-3xl border rounded-lg ${s.highContrast?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-gray-100 hover:bg-gray-200 border-gray-300"}`,children:o||"Select"}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-sm text-gray-500",children:"Select an emoji that represents this command"})})]}),u&&r.jsxs("div",{className:`mt-2 p-3 border rounded-lg grid grid-cols-8 gap-2 ${s.highContrast?"bg-gray-700 border-gray-600":"bg-white border-gray-300"}`,children:[dp[c].map((m,p)=>r.jsx("button",{onClick:()=>w(m),className:`text-2xl p-2 rounded-lg ${s.highContrast?"hover:bg-gray-600":"hover:bg-gray-100"}`,children:m},p)),["👍","👎","👋","🙌","👏","🤝","✋","👆"].map((m,p)=>r.jsx("button",{onClick:()=>w(m),className:`text-2xl p-2 rounded-lg ${s.highContrast?"hover:bg-gray-600":"hover:bg-gray-100"}`,children:m},`common-${p}`))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"category",children:"Category"}),r.jsx("select",{id:"category",value:c,onChange:m=>d(m.target.value),className:`w-full p-3 border rounded-lg capitalize ${s.highContrast?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:Object.values(re).map(m=>r.jsx("option",{value:m,className:"capitalize",children:m},m))})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[r.jsx("button",{onClick:t,className:`px-4 py-2 rounded-lg ${s.highContrast?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"Cancel"}),r.jsxs("button",{onClick:b,className:`px-4 py-2 rounded-lg flex items-center ${s.highContrast?"bg-blue-700 text-white hover:bg-blue-600":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[r.jsx(Pa,{size:16,className:"mr-1"}),"Save Command"]})]})]})};let hp={data:""},gp=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||hp,fp=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mp=/\/\*[^]*?\*\/|  +/g,ia=/\n+/g,$e=(n,e)=>{let t="",s="",a="";for(let i in n){let o=n[i];i[0]=="@"?i[1]=="i"?t=i+" "+o+";":s+=i[1]=="f"?$e(o,i):i+"{"+$e(o,i[1]=="k"?"":e)+"}":typeof o=="object"?s+=$e(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=$e.p?$e.p(i,o):i+":"+o+";")}return t+(e&&a?e+"{"+a+"}":a)+s},Ne={},kr=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+kr(n[t]);return e}return n},pp=(n,e,t,s,a)=>{let i=kr(n),o=Ne[i]||(Ne[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!Ne[o]){let c=i!==n?n:(d=>{let u,g,b=[{}];for(;u=fp.exec(d.replace(mp,""));)u[4]?b.shift():u[3]?(g=u[3].replace(ia," ").trim(),b.unshift(b[0][g]=b[0][g]||{})):b[0][u[1]]=u[2].replace(ia," ").trim();return b[0]})(n);Ne[o]=$e(a?{["@keyframes "+o]:c}:c,t?"":"."+o)}let l=t&&Ne.g?Ne.g:null;return t&&(Ne.g=Ne[o]),((c,d,u,g)=>{g?d.data=d.data.replace(g,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Ne[o],e,s,l),o},xp=(n,e,t)=>n.reduce((s,a,i)=>{let o=e[i];if(o&&o.call){let l=o(t),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":$e(l,""):l===!1?"":l}return s+a+(o??"")},"");function an(n){let e=this||{},t=n.call?n(e.p):n;return pp(t.unshift?t.raw?xp(t,[].slice.call(arguments,1),e.p):t.reduce((s,a)=>Object.assign(s,a&&a.call?a(e.p):a),{}):t,gp(e.target),e.g,e.o,e.k)}let Er,Dn,Un;an.bind({g:1});let ke=an.bind({k:1});function bp(n,e,t,s){$e.p=e,Er=n,Dn=t,Un=s}function Me(n,e){let t=this||{};return function(){let s=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;t.p=Object.assign({theme:Dn&&Dn()},l),t.o=/ *go\d+/.test(c),l.className=an.apply(t,s)+(c?" "+c:"");let d=n;return n[0]&&(d=l.as||n,delete l.as),Un&&d[0]&&Un(l),Er(d,l)}return a}}var yp=n=>typeof n=="function",_n=(n,e)=>yp(n)?n(e):n,wp=(()=>{let n=0;return()=>(++n).toString()})(),vp=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),Sp=20,$r=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,Sp)};case 1:return{...n,toasts:n.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:t}=e;return $r(n,{type:n.toasts.find(i=>i.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=e;return{...n,toasts:n.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let a=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},jp=[],pn={toasts:[],pausedAt:void 0},Qn=n=>{pn=$r(pn,n),jp.forEach(e=>{e(pn)})},Np=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||wp()}),wt=n=>(e,t)=>{let s=Np(e,n,t);return Qn({type:2,toast:s}),s.id},ce=(n,e)=>wt("blank")(n,e);ce.error=wt("error");ce.success=wt("success");ce.loading=wt("loading");ce.custom=wt("custom");ce.dismiss=n=>{Qn({type:3,toastId:n})};ce.remove=n=>Qn({type:4,toastId:n});ce.promise=(n,e,t)=>{let s=ce.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let i=e.success?_n(e.success,a):void 0;return i?ce.success(i,{id:s,...t,...t==null?void 0:t.success}):ce.dismiss(s),a}).catch(a=>{let i=e.error?_n(e.error,a):void 0;i?ce.error(i,{id:s,...t,...t==null?void 0:t.error}):ce.dismiss(s)}),n};var Cp=ke`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kp=ke`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ep=ke`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$p=Me("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Cp} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kp} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ep} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Tp=ke`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Rp=Me("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${Tp} 1s linear infinite;
`,Lp=ke`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Op=ke`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ap=Me("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Lp} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Op} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Pp=Me("div")`
  position: absolute;
`,Mp=Me("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ip=ke`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Fp=Me("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ip} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,zp=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?h.createElement(Fp,null,e):e:t==="blank"?null:h.createElement(Mp,null,h.createElement(Rp,{...s}),t!=="loading"&&h.createElement(Pp,null,t==="error"?h.createElement($p,{...s}):h.createElement(Ap,{...s})))},Dp=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Up=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,_p="0%{opacity:0;} 100%{opacity:1;}",Bp="0%{opacity:1;} 100%{opacity:0;}",Hp=Me("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Vp=Me("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qp=(n,e)=>{let t=n.includes("top")?1:-1,[s,a]=vp()?[_p,Bp]:[Dp(t),Up(t)];return{animation:e?`${ke(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ke(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};h.memo(({toast:n,position:e,style:t,children:s})=>{let a=n.height?qp(n.position||e||"top-center",n.visible):{opacity:0},i=h.createElement(zp,{toast:n}),o=h.createElement(Vp,{...n.ariaProps},_n(n.message,n));return h.createElement(Hp,{className:n.className,style:{...a,...t,...n.style}},typeof s=="function"?s({icon:i,message:o}):h.createElement(h.Fragment,null,i,o))});bp(h.createElement);an`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const oa=[{id:"help",text:"I need help",icon:"🆘",category:re.EMERGENCY},{id:"emergency",text:"Emergency",icon:"🚨",category:re.EMERGENCY},{id:"water",text:"I need water",icon:"💧",category:re.DAILY_NEEDS},{id:"food",text:"I am hungry",icon:"🍽️",category:re.DAILY_NEEDS},{id:"bathroom",text:"I need the bathroom",icon:"🚻",category:re.DAILY_NEEDS},{id:"pain",text:"I am in pain",icon:"😣",category:re.EMERGENCY},{id:"medicine",text:"I need medicine",icon:"💊",category:re.DAILY_NEEDS},{id:"yes",text:"Yes",icon:"✅",category:re.CONVERSATIONS},{id:"no",text:"No",icon:"❌",category:re.CONVERSATIONS},{id:"thanks",text:"Thank you",icon:"🙏",category:re.CONVERSATIONS},{id:"cold",text:"I am cold",icon:"❄️",category:re.DAILY_NEEDS},{id:"hot",text:"I am hot",icon:"🔥",category:re.DAILY_NEEDS}],Wp=()=>{const{t:n,currentLanguage:e}=nt(),{preferences:t}=be(),[s,a]=h.useState([]),[i,o]=h.useState(null),[l,c]=h.useState(!1),[d,u]=h.useState(!1),[g,b]=h.useState(oa),[w,m]=h.useState(oa),[p,x]=h.useState(null),[y,j]=h.useState(!1),[k,$]=h.useState(null),[A,O]=h.useState(!1),[S,E]=h.useState(null),{text:v,isListening:L,startListening:R,stopListening:F,resetText:W,browserSupportsSpeechRecognition:J,confidence:z=0}=cp(e),{speak:P,stop:U,isSpeaking:Q,browserSupportsTTS:f}=Cr(e),C=h.useCallback(()=>{const M=localStorage.getItem("voiceCommands");if(M)try{b(JSON.parse(M)),m(JSON.parse(M))}catch{console.error("Failed to parse saved commands data")}const V=localStorage.getItem("commandUsage");if(V)try{a(JSON.parse(V))}catch{console.error("Failed to parse command usage data")}},[]);h.useEffect(()=>{L&&F(),Q&&U();const M=()=>{if(console.log("Language change event received in Voice Commands"),C(),W(),U(),J){const V=window.SpeechRecognition||window.webkitSpeechRecognition;if(V){const H=new V;H.lang=e==="english"?"en-US":e}}if(f){const H=window.speechSynthesis.getVoices().filter(X=>X.lang.toLowerCase().includes(e==="english"?"en":e));H.length>0&&E(H[0])}};return window.addEventListener("languagechange",M),M(),()=>{window.removeEventListener("languagechange",M)}},[e,L,Q,F,U,C,W,J,f,E]),h.useEffect(()=>{C()},[C]),h.useEffect(()=>{m(p?g.filter(M=>M.category===p):g)},[p,g]),h.useEffect(()=>{if(L&&v){const M=v.toLowerCase();let V=null,H=0;for(const X of g){const ae=X.text.toLowerCase().split(" ");let I=0;for(const ee of ae)M.includes(ee)&&ee.length>2&&I++;const K=I/ae.length;K>H&&K>.3&&(H=K,V=X)}V?(o(V.text),c(!0),u(!0),T(V.id),f&&P(V.text,t.speechRate,t.speechPitch),setTimeout(()=>{c(!1),o(null),F()},3e3)):v.length>10&&(c(!0),u(!1),o(v),setTimeout(()=>{c(!1),o(null)},3e3))}},[v,L,f,P,t.speechRate,t.speechPitch,F,g]);const T=M=>{a(V=>{const H=[...V],X=H.findIndex(me=>me.id===M);return X>=0?H[X]={...H[X],count:H[X].count+1}:H.push({id:M,count:1}),H.sort((me,ae)=>ae.count-me.count),localStorage.setItem("commandUsage",JSON.stringify(H)),H})},_=async(M,V)=>{if(!f){ce.error("Your browser doesn't support text-to-speech");return}ce.loading("Preparing to speak...",{id:"speech-toast"});try{let H=0;const X=2,me=async()=>{try{return await P(M,t.speechRate,t.speechPitch),!0}catch(ae){return console.error(`Speech attempt ${H+1} failed:`,ae),!1}};for(;H<X;){if(await me()){ce.success("Command spoken successfully",{id:"speech-toast"}),T(V);return}H++,H<X&&(await new Promise(I=>setTimeout(I,300)),ce.loading("Retrying speech...",{id:"speech-toast"}))}if(ce.error("Couldn't generate speech after multiple attempts",{id:"speech-toast"}),window.speechSynthesis){ce("Using browser's built-in speech",{id:"speech-toast-fallback"});const ae=new SpeechSynthesisUtterance(M);ae.rate=t.speechRate,ae.pitch=t.speechPitch,window.speechSynthesis.speak(ae),T(V)}}catch(H){console.error("Command speech error:",H),ce.error("Failed to speak command",{id:"speech-toast"})}},D=M=>{$(M),j(!0)},Y=M=>{b(V=>{const H=M.id?V.map(X=>X.id===M.id?M:X):[...V,{...M,id:Date.now().toString(),isCustom:!0}];return localStorage.setItem("voiceCommands",JSON.stringify(H)),H}),j(!1),$(null)},ie=M=>{b(V=>{const H=V.filter(X=>X.id!==M);return localStorage.setItem("voiceCommands",JSON.stringify(H)),H})},oe=()=>{const M=JSON.stringify(g),V=`data:application/json;charset=utf-8,${encodeURIComponent(M)}`,H=`talkghana_commands_${new Date().toISOString().slice(0,10)}.json`,X=document.createElement("a");X.setAttribute("href",V),X.setAttribute("download",H),X.click()},ue=M=>{var X;const V=(X=M.target.files)==null?void 0:X[0];if(!V)return;const H=new FileReader;H.onload=me=>{var ae;try{const I=JSON.parse((ae=me.target)==null?void 0:ae.result);Array.isArray(I)&&(b(I),localStorage.setItem("voiceCommands",JSON.stringify(I)))}catch(I){console.error("Error importing commands:",I),alert("Invalid command file format")}},H.readAsText(V)},le=[...w].sort((M,V)=>{var me,ae;const H=((me=s.find(I=>I.id===M.id))==null?void 0:me.count)||0;return(((ae=s.find(I=>I.id===V.id))==null?void 0:ae.count)||0)-H}),je=le.slice(0,6);return r.jsxs("div",{className:"container mx-auto py-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:n("voiceCommands")}),r.jsx("div",{className:"flex space-x-2",children:r.jsxs("button",{onClick:()=>O(!A),className:`px-3 py-1 rounded-lg text-white text-sm flex items-center ${A?"bg-blue-700":t.highContrast?"bg-blue-700 hover:bg-blue-600":"bg-blue-500 hover:bg-blue-600"}`,children:[r.jsx(ps,{size:16,className:"mr-1"}),A?"Done":"Manage Commands"]})})]}),l&&r.jsx("div",{className:`mb-4 p-4 rounded-lg ${d?"bg-green-100 border-green-500":"bg-yellow-100 border-yellow-500"} border-l-4`,children:r.jsxs("div",{className:"flex items-center",children:[d?r.jsx(fo,{className:"text-green-500 mr-2",size:20}):r.jsx(Ra,{className:"text-yellow-500 mr-2",size:20}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:d?"Command Recognized":"Not Sure What You Said"}),r.jsx("p",{className:"text-sm",children:i})]})]})}),A&&r.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-gray-50 shadow-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Manage Commands"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>{j(!0),$(null)},className:"px-3 py-1 rounded-lg bg-green-500 text-white text-sm flex items-center",children:[r.jsx(nl,{size:16,className:"mr-1"}),"New Command"]}),r.jsxs("button",{onClick:oe,className:"px-3 py-1 rounded-lg bg-blue-500 text-white text-sm flex items-center",children:[r.jsx(Je,{size:16,className:"mr-1"}),"Export"]}),r.jsxs("label",{className:"px-3 py-1 rounded-lg bg-blue-500 text-white text-sm flex items-center cursor-pointer",children:[r.jsx(Gn,{size:16,className:"mr-1"}),"Import",r.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:ue})]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Icon"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Command"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(M=>{var H;const V=((H=s.find(X=>X.id===M.id))==null?void 0:H.count)||0;return r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-2xl",children:M.icon}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M.text}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:M.category}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:V}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>D(M),className:"p-1 rounded-full text-blue-500 hover:bg-blue-100",children:r.jsx(ps,{size:16})}),M.isCustom&&r.jsx("button",{onClick:()=>ie(M.id),className:"p-1 rounded-full text-red-500 hover:bg-red-100",children:r.jsx(Nn,{size:16})})]})})]},M.id)})})]})})]}),!y&&r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex flex-wrap space-x-2 mb-2",children:[r.jsx("button",{onClick:()=>x(null),className:`px-3 py-1 rounded-full text-sm ${p===null?t.highContrast?"bg-blue-700 text-white":"bg-blue-500 text-white":t.highContrast?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}`,children:"All"}),Object.values(re).map(M=>r.jsx("button",{onClick:()=>x(M),className:`px-3 py-1 rounded-full text-sm capitalize ${p===M?t.highContrast?"bg-blue-700 text-white":"bg-blue-500 text-white":t.highContrast?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}`,children:M},M))]})}),!y&&je.length>0&&!A&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Frequently Used"}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:je.map(M=>{var V;return(V=s.find(H=>H.id===M.id))!=null&&V.count,r.jsxs("button",{onClick:()=>_(M.text,M.id),className:`flex flex-col items-center justify-center p-2 rounded-lg shadow-sm transition-transform transform hover:scale-105 ${t.highContrast?"bg-slate-800 text-white hover:bg-slate-700":"bg-white hover:bg-blue-50"}`,style:{fontFamily:"'Roboto', sans-serif"},children:[r.jsx("span",{className:"text-2xl",role:"img","aria-label":M.text,children:M.icon}),r.jsx("p",{className:`${t.largeText?"text-sm":"text-xs"} font-medium mt-1 text-center truncate w-full`,children:M.text})]},M.id)})})]}),y?r.jsx(up,{command:k,onSave:Y,onCancel:()=>{j(!1),$(null)}}):r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:le.map(M=>{var H;const V=((H=s.find(X=>X.id===M.id))==null?void 0:H.count)||0;return r.jsxs("button",{onClick:()=>_(M.text,M.id),className:`flex flex-col items-center justify-center p-4 rounded-lg shadow-md transition-transform transform hover:scale-105 ${t.highContrast?"bg-slate-800 text-white hover:bg-slate-700":"bg-white hover:bg-blue-50"}`,style:{fontFamily:"'Roboto', sans-serif"},children:[r.jsx("span",{className:"text-3xl mb-2",role:"img","aria-label":M.text,children:M.icon}),r.jsx("p",{className:`${t.largeText?"text-lg":"text-base"} font-medium`,children:M.text}),r.jsxs("div",{className:"mt-2 flex items-center justify-center",children:[r.jsx(tt,{size:16,className:"text-blue-500 mr-1"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Tap to speak"})]}),V>0&&r.jsxs("span",{className:"mt-1 px-2 py-0.5 bg-blue-100 text-blue-800 rounded-full text-xs",children:["Used ",V," times"]})]},M.id)})}),!y&&r.jsxs("div",{className:"mt-8 p-4 rounded-lg bg-blue-100 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-medium text-blue-800",children:"Voice Recognition"}),r.jsx("p",{className:"text-sm text-blue-600",children:"Tap the microphone to recognize speech and convert to commands"}),L&&v&&r.jsxs("div",{className:"mt-2 flex items-center",children:[r.jsx("p",{className:"text-sm font-medium",children:v}),r.jsx(to,{size:16,className:"mx-2"}),r.jsx("div",{className:`w-3 h-3 rounded-full ${z>.7?"bg-green-500":z>.4?"bg-yellow-500":"bg-red-500"}`})]})]}),r.jsx("button",{className:`p-4 rounded-full ${L?"bg-red-500 text-white animate-pulse":t.highContrast?"bg-blue-700 text-white":"bg-blue-500 text-white"}`,"aria-label":L?"Stop voice recognition":"Start voice recognition",onClick:()=>L?F():R(),disabled:!J,children:r.jsx(Ye,{size:24})})]}),!y&&!J&&r.jsxs("div",{className:"mt-4 p-4 bg-red-100 text-red-800 rounded-lg",children:[r.jsx("p",{className:"font-medium",children:"Your browser doesn't support speech recognition."}),r.jsx("p",{className:"text-sm",children:"Please try using Google Chrome for this feature."})]})]})};class Gp extends Error{constructor(t,s,a){super(t);Z(this,"code");Z(this,"details");this.name="GhanaianLanguageError",this.code=s,this.details=a}}function Zn(n,e){const t=new Date().toISOString();console.error(`[${t}] ERROR: ${n.name}: ${n.message}`),n instanceof Gp&&n.details&&console.error("Details:",n.details),e&&console.error("Context:",e),console.error("Stack trace:",n.stack)}function es(){return"serviceWorker"in navigator}async function Kp(){if(!es())return!1;try{const n=await navigator.serviceWorker.getRegistration();return!!n&&!!n.active}catch(n){return Zn(new Error("Error checking service worker status"),n),!1}}async function Jp(){var n,e;if(!es())return{supported:!1,registered:!1,active:!1,waiting:!1,installing:!1,controller:!1};try{const t=await navigator.serviceWorker.getRegistration();return t?{supported:!0,registered:!0,active:!!t.active,waiting:!!t.waiting,installing:!!t.installing,controller:!!navigator.serviceWorker.controller,scope:t.scope,scriptURL:(n=t.active)==null?void 0:n.scriptURL,state:(e=t.active)==null?void 0:e.state}:{supported:!0,registered:!1,active:!1,waiting:!1,installing:!1,controller:!!navigator.serviceWorker.controller}}catch(t){return Zn(new Error("Error getting service worker info"),t),{supported:!0,registered:!1,active:!1,waiting:!1,installing:!1,controller:!1}}}async function Yp(){if(!es())return!1;try{return!await Kp()||!("caches"in window)?!1:(await(await caches.open("ghanaian-language-training-v1")).keys()).length>0}catch(n){return Zn(new Error("Error checking offline capability"),n),!1}}const Xp=({className:n=""})=>{const[e,t]=h.useState(null),[s,a]=h.useState(null),[i,o]=h.useState(!0),l=async()=>{o(!0);try{const u=await Jp();t(u);const g=await Yp();a(g)}catch(u){console.error("Error checking service worker status:",u)}finally{o(!1)}};h.useEffect(()=>{l()},[]);const c=()=>{l()},d=()=>{window.location.reload()};return i?r.jsxs("div",{className:`sw-status-card ${n}`,role:"status","aria-busy":"true",children:[r.jsxs("div",{className:"sw-status-header",children:[r.jsx(gs,{size:20,"aria-hidden":"true"}),r.jsx("h3",{children:"Service Worker Status"})]}),r.jsxs("div",{className:"sw-status-loading",children:[r.jsx(Mt,{size:20,className:"sw-loading-icon","aria-hidden":"true"}),r.jsx("p",{children:"Checking service worker status..."})]})]}):r.jsxs("div",{className:`sw-status-card ${n}`,role:"region","aria-label":"Service Worker Status",children:[r.jsxs("div",{className:"sw-status-header",children:[r.jsx(gs,{size:20,"aria-hidden":"true"}),r.jsx("h3",{children:"Service Worker Status"}),r.jsx("button",{className:"sw-refresh-button",onClick:c,"aria-label":"Refresh status",title:"Refresh service worker status",tabIndex:0,children:r.jsx(Mt,{size:16,"aria-hidden":"true"})})]}),r.jsxs("div",{className:"sw-status-content",children:[r.jsxs("div",{className:"sw-status-item",children:[r.jsx("span",{className:"sw-status-label",children:"Supported:"}),r.jsxs("span",{className:"sw-status-value",children:[e!=null&&e.supported?r.jsx(lt,{size:16,className:"sw-status-icon success","aria-hidden":"true"}):r.jsx(vt,{size:16,className:"sw-status-icon error","aria-hidden":"true"}),e!=null&&e.supported?"Yes":"No"]})]}),r.jsxs("div",{className:"sw-status-item",children:[r.jsx("span",{className:"sw-status-label",children:"Registered:"}),r.jsxs("span",{className:"sw-status-value",children:[e!=null&&e.registered?r.jsx(lt,{size:16,className:"sw-status-icon success","aria-hidden":"true"}):r.jsx(vt,{size:16,className:"sw-status-icon error","aria-hidden":"true"}),e!=null&&e.registered?"Yes":"No"]})]}),r.jsxs("div",{className:"sw-status-item",children:[r.jsx("span",{className:"sw-status-label",children:"Active:"}),r.jsxs("span",{className:"sw-status-value",children:[e!=null&&e.active?r.jsx(lt,{size:16,className:"sw-status-icon success","aria-hidden":"true"}):r.jsx(vt,{size:16,className:"sw-status-icon error","aria-hidden":"true"}),e!=null&&e.active?"Yes":"No"]})]}),r.jsxs("div",{className:"sw-status-item",children:[r.jsx("span",{className:"sw-status-label",children:"Offline Capable:"}),r.jsxs("span",{className:"sw-status-value",children:[s?r.jsx(lt,{size:16,className:"sw-status-icon success","aria-hidden":"true"}):r.jsx(vt,{size:16,className:"sw-status-icon error","aria-hidden":"true"}),s?"Yes":"No"]})]}),(e==null?void 0:e.waiting)&&r.jsxs("div",{className:"sw-status-update",role:"alert",children:[r.jsx("p",{children:"A new version is available!"}),r.jsxs("button",{className:"sw-update-button",onClick:d,"aria-label":"Update application to new version",children:[r.jsx(Je,{size:16,"aria-hidden":"true"}),"Update Now"]})]}),(e==null?void 0:e.scope)&&r.jsxs("div",{className:"sw-status-detail",children:[r.jsx("span",{className:"sw-status-label",children:"Scope:"}),r.jsx("span",{className:"sw-status-value",children:e.scope})]}),(e==null?void 0:e.state)&&r.jsxs("div",{className:"sw-status-detail",children:[r.jsx("span",{className:"sw-status-label",children:"State:"}),r.jsx("span",{className:"sw-status-value",children:e.state})]})]})]})},fe=({id:n,fallback:e,className:t="",htmlFor:s,values:a,children:i})=>{const{t:o}=Kn(),l=o(n,{fallback:e,...a});return s?r.jsxs("label",{className:t,htmlFor:s,children:[l,i]}):r.jsxs("span",{className:t,children:[l,i]})},ot=({id:n,fallback:e,className:t="",htmlFor:s,children:a})=>{const{t:i}=Kn(),o=i(n,{fallback:e});return r.jsxs("label",{className:t,htmlFor:s,children:[o,a]})},Qp=()=>{const{currentLanguage:n,setLanguage:e,t}=nt(),{preferences:s,updatePreference:a}=be(),[i,o]=h.useState(!1),[l,c]=h.useState({downloaded:!1,size:"0 MB"}),[d,u]=h.useState({}),{speak:g}=Cr(n),b=[{id:"english",name:"English"},{id:"twi",name:"Twi"},{id:"ga",name:"Ga"},{id:"ewe",name:"Ewe"},{id:"hausa",name:"Hausa"},{id:"dagbani",name:"Dagbani"}],w=p=>{const x={english:"45 MB",twi:"32 MB",ga:"28 MB",ewe:"30 MB",hausa:"35 MB",dagbani:"33 MB"};u(j=>({...j,[p]:0}));const y=setInterval(()=>{u(j=>{const k=j[p]||0,$=Math.min(k+10,100);return $===100&&(clearInterval(y),c({downloaded:!0,size:x[p]||"30 MB"}),localStorage.setItem(`offline-${p}`,"true")),{...j,[p]:$}})},300)};h.useEffect(()=>{localStorage.getItem(`offline-${n}`)==="true"?(c({downloaded:!0,size:"30 MB"}),u(x=>({...x,[n]:100}))):(c({downloaded:!1,size:"0 MB"}),u(x=>({...x,[n]:0})))},[n]);const m=()=>{i||(o(!0),g(t("speechTestPhrase")||"This is a test of the speech settings with the current rate and pitch."),setTimeout(()=>{o(!1)},5e3))};return r.jsxs("div",{className:"container mx-auto py-4 max-w-2xl",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:r.jsx(fe,{id:"settings",fallback:"Settings"})}),r.jsxs("div",{className:`rounded-lg shadow-md mb-6 overflow-hidden ${s.highContrast?"bg-gray-800":"bg-white"}`,children:[r.jsx("div",{className:"px-4 py-3 bg-blue-500 text-white",children:r.jsxs("h2",{className:"text-lg font-medium flex items-center",children:[r.jsx(Ro,{size:20,className:"mr-2"}),r.jsx(fe,{id:"languageSettings",fallback:"Language Settings"})]})}),r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"mb-4",children:[r.jsx(ot,{className:"block text-sm font-medium mb-2",htmlFor:"language-selector",id:"currentLanguage",fallback:"Current Language"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:b.map(p=>r.jsxs("button",{onClick:()=>{e(p.id),setTimeout(()=>{g(`${p.name} selected`)},300)},className:`px-4 py-2 rounded-lg flex items-center justify-between language-transition ${n===p.id?s.highContrast?"bg-blue-700 text-white":"bg-blue-100 text-blue-800":s.highContrast?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-100 hover:bg-gray-200"}`,"aria-pressed":n===p.id,children:[r.jsx("span",{children:p.name}),n===p.id&&r.jsx(Wn,{size:16,className:"text-green-500"})]},p.id))})]})})]}),r.jsxs("div",{className:`rounded-lg shadow-md mb-6 overflow-hidden ${s.highContrast?"bg-gray-800":"bg-white"}`,children:[r.jsx("div",{className:"px-4 py-3 bg-blue-500 text-white",children:r.jsxs("h2",{className:"text-lg font-medium flex items-center",children:[r.jsx(il,{size:20,className:"mr-2"}),r.jsx(fe,{id:"offlineCapabilities",fallback:"Offline Capabilities"})]})}),r.jsxs("div",{className:"p-4",children:[r.jsx(Xp,{}),r.jsxs("div",{className:"mb-4 mt-4",children:[r.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",children:[r.jsx(La,{size:16,className:"mr-2"}),r.jsx(fe,{id:"offlineLanguageData",fallback:"Offline Language Data"})]}),r.jsxs("div",{className:`p-3 rounded-lg ${s.highContrast?"bg-gray-700":"bg-gray-100"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:`${s.highContrast?"text-white":"text-gray-800"}`,children:n.charAt(0).toUpperCase()+n.slice(1)}),r.jsx("p",{className:"text-sm text-gray-500",children:l.downloaded?r.jsx(fe,{id:"downloadedSize",fallback:`Downloaded (${l.size})`,values:{size:l.size}}):r.jsx(fe,{id:"notDownloaded",fallback:"Not downloaded"})})]}),r.jsx("button",{id:`download-${n}`,onClick:()=>w(n),disabled:l.downloaded,className:`px-3 py-1 rounded text-white text-sm flex items-center ${l.downloaded?"bg-green-500":"bg-blue-500 hover:bg-blue-600"}`,"aria-label":`${l.downloaded?"Downloaded":"Download"} ${n} language model`,children:l.downloaded?r.jsx(fe,{id:"downloaded",fallback:"Downloaded"}):d[n]>0&&d[n]<100?r.jsx("span",{className:"animate-pulse",children:r.jsx(fe,{id:"downloading",fallback:"Downloading..."})}):r.jsxs(r.Fragment,{children:[r.jsx(Je,{size:14,className:"mr-1"}),r.jsx(fe,{id:"download",fallback:"Download"})]})})]}),r.jsx("div",{className:"w-full bg-gray-300 h-2 rounded-full overflow-hidden",children:r.jsx("div",{className:"bg-blue-500 h-full transition-all duration-300",style:{width:`${d[n]||(l.downloaded?100:0)}%`},role:"progressbar","aria-valuenow":d[n]||(l.downloaded?100:0),"aria-valuemin":0,"aria-valuemax":100})})]})]})]})]}),r.jsxs("div",{className:`rounded-lg shadow-md mb-6 overflow-hidden ${s.highContrast?"bg-gray-800":"bg-white"}`,children:[r.jsx("div",{className:"px-4 py-3 bg-blue-500 text-white",children:r.jsx("h2",{className:"text-lg font-medium",children:r.jsx(fe,{id:"accessibilitySettings",fallback:"Accessibility Settings"})})}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ot,{className:"flex items-center",htmlFor:"high-contrast-toggle",id:"highContrast",fallback:"High Contrast"}),r.jsx("div",{id:"high-contrast-toggle",className:`w-12 h-6 flex items-center rounded-full p-1 cursor-pointer ${s.highContrast?"bg-green-500":"bg-gray-300"}`,onClick:()=>a("highContrast",!s.highContrast),role:"switch","aria-checked":s.highContrast,tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),a("highContrast",!s.highContrast))},children:r.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-300 ${s.highContrast?"translate-x-6":""}`})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ot,{className:"flex items-center",htmlFor:"larger-text-toggle",id:"largerText",fallback:"Larger Text"}),r.jsx("div",{id:"larger-text-toggle",className:`w-12 h-6 flex items-center rounded-full p-1 cursor-pointer ${s.largeText?"bg-green-500":"bg-gray-300"}`,onClick:()=>a("largeText",!s.largeText),role:"switch","aria-checked":s.largeText,tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),a("largeText",!s.largeText))},children:r.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform duration-300 ${s.largeText?"translate-x-6":""}`})})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx(ot,{className:"flex text-sm font-medium mb-2 items-center",htmlFor:"speech-rate",id:"speechRate",fallback:"Speech Rate",children:r.jsx(tt,{size:16,className:"mr-2"})}),r.jsx("input",{id:"speech-rate",type:"range",min:"0.5",max:"2",step:"0.1",value:s.speechRate,onChange:p=>a("speechRate",parseFloat(p.target.value)),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer","aria-valuemin":.5,"aria-valuemax":2,"aria-valuenow":s.speechRate,"aria-valuetext":`${s.speechRate.toFixed(1)}x`}),r.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[r.jsx(fe,{id:"slower",fallback:"Slower"}),r.jsxs("span",{children:[s.speechRate.toFixed(1),"x"]}),r.jsx(fe,{id:"faster",fallback:"Faster"})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx(ot,{className:"flex text-sm font-medium mb-2 items-center",htmlFor:"speech-pitch",id:"speechPitch",fallback:"Speech Pitch",children:r.jsx(Jo,{size:16,className:"mr-2"})}),r.jsx("input",{id:"speech-pitch",type:"range",min:"0.5",max:"1.5",step:"0.1",value:s.speechPitch,onChange:p=>a("speechPitch",parseFloat(p.target.value)),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer","aria-valuemin":.5,"aria-valuemax":1.5,"aria-valuenow":s.speechPitch,"aria-valuetext":`${s.speechPitch.toFixed(1)}`}),r.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[r.jsx(fe,{id:"lower",fallback:"Lower"}),r.jsx("span",{children:s.speechPitch.toFixed(1)}),r.jsx(fe,{id:"higher",fallback:"Higher"})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{onClick:m,disabled:i,className:`px-4 py-2 rounded-lg text-white ${i?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,"aria-live":"polite",children:r.jsx(fe,{id:i?"testing":"testSpeech",fallback:i?"Testing...":"Test Speech"})})})]})]})]})},Zp=()=>{const{t:n,currentLanguage:e}=nt(),{preferences:t}=be(),[s,a]=h.useState(navigator.onLine),[i,o]=h.useState([]),[l,c]=h.useState({totalSize:0,languageModels:0,phraseCache:0,commandCache:0}),[d,u]=h.useState(!0);h.useEffect(()=>{const x=()=>a(!0),y=()=>a(!1);return window.addEventListener("online",x),window.addEventListener("offline",y),()=>{window.removeEventListener("online",x),window.removeEventListener("offline",y)}},[]),h.useEffect(()=>{(async()=>{u(!0);try{const j=["english","twi","ga","ewe","hausa"].filter(k=>localStorage.getItem(`offline-${k}`)==="true");o(j),c({totalSize:15.2,languageModels:12.5,phraseCache:1.8,commandCache:.9})}catch(y){console.error("Error loading offline data:",y)}finally{u(!1)}})()},[]);const g=x=>{console.log(`Downloading ${x} for offline use`),setTimeout(()=>{const y=[...i];y.includes(x)||(y.push(x),o(y),localStorage.setItem(`offline-${x}`,"true"))},2e3)},b=x=>{console.log(`Deleting ${x} from offline storage`);const y=i.filter(j=>j!==x);o(y),localStorage.removeItem(`offline-${x}`)},w=()=>{console.log("Clearing cache"),c({...l,phraseCache:0,commandCache:0})},m=x=>`${x.toFixed(1)} MB`,p=x=>({english:"English",twi:"Twi",ga:"Ga",ewe:"Ewe",hausa:"Hausa"})[x]||x;return d?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r.jsxs("div",{className:"space-y-6 py-4",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h1",{className:`${t.largeText?"text-4xl":"text-3xl"} font-bold text-blue-600`,children:n("offlineMode")}),r.jsx("p",{className:"mt-2 text-gray-600",children:n(s?"online":"offline")})]}),r.jsx("div",{className:`p-4 rounded-lg ${s?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:r.jsxs("div",{className:"flex items-center",children:[s?r.jsx(Fa,{className:"text-green-500 mr-3",size:24}):r.jsx(ft,{className:"text-red-500 mr-3",size:24}),r.jsxs("div",{children:[r.jsx("h2",{className:`font-bold ${s?"text-green-800":"text-red-800"}`,children:s?"Online Mode":"Offline Mode"}),r.jsx("p",{className:`text-sm ${s?"text-green-600":"text-red-600"}`,children:s?"You can download languages for offline use":"Using cached content - some features may be limited"})]})]})}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[r.jsxs("h2",{className:"text-lg font-semibold mb-3 flex items-center",children:[r.jsx(La,{className:"mr-2",size:20}),n("storageManagement")]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-700",children:"Total Storage Used:"}),r.jsx("span",{className:"font-medium",children:m(l.totalSize)})]}),r.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-500",style:{width:`${l.totalSize/20*100}%`}})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-4",children:[r.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Language Models"}),r.jsx("div",{className:"font-bold",children:m(l.languageModels)})]}),r.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Phrase Cache"}),r.jsx("div",{className:"font-bold",children:m(l.phraseCache)})]}),r.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Command Cache"}),r.jsx("div",{className:"font-bold",children:m(l.commandCache)})]})]}),r.jsxs("button",{onClick:w,className:"mt-4 flex items-center px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-md text-gray-700",children:[r.jsx(Nn,{size:16,className:"mr-2"}),n("clearCache")]})]})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Available Languages"}),r.jsx("div",{className:"space-y-3",children:["english","twi","ga","ewe","hausa"].map(x=>{const y=i.includes(x);return r.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:p(x)}),r.jsx("div",{className:"text-sm text-gray-600",children:y?"Available offline":"Online only"})]}),r.jsx("div",{children:y?r.jsxs("button",{onClick:()=>b(x),className:"flex items-center px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded-md",disabled:!s&&i.length===1,children:[r.jsx(Nn,{size:16,className:"mr-1"}),"Remove"]}):r.jsxs("button",{onClick:()=>g(x),className:"flex items-center px-3 py-1 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-md",disabled:!s,children:[r.jsx(Je,{size:16,className:"mr-1"}),"Download"]})})]},x)})})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[r.jsxs("h2",{className:"text-lg font-semibold mb-3 flex items-center",children:[r.jsx(Mt,{className:"mr-2",size:20}),"Sync Status"]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Last synced"}),r.jsx("div",{className:"text-sm text-gray-600",children:s?"Just now":"2 hours ago"})]}),r.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md",disabled:!s,children:[r.jsx(Mt,{size:16,className:"mr-2"}),"Sync Now"]})]})]})]})},e0=({isLoading:n,message:e="Loading...",progress:t,showSpinner:s=!0,className:a=""})=>{if(!n)return null;const i=typeof t=="number"&&t>=0&&t<=100;return r.jsxs("div",{className:`loading-indicator ${a}`,children:[s&&r.jsx("div",{className:"spinner",children:r.jsx("div",{className:"spinner-inner"})}),e&&r.jsx("div",{className:"loading-message",children:e}),i&&r.jsxs("div",{className:"progress-container",children:[r.jsx("div",{className:"progress-bar",style:{width:`${t}%`}}),r.jsxs("div",{className:"progress-text",children:[Math.round(t),"%"]})]})]})},t0=({className:n=""})=>{const[e,t]=h.useState(!navigator.onLine),[s,a]=h.useState(!1);return h.useEffect(()=>{t(!navigator.onLine),navigator.onLine||a(!0);const i=()=>{t(!1),setTimeout(()=>{a(!1)},3e3)},o=()=>{t(!0),a(!0)};return window.addEventListener("online",i),window.addEventListener("offline",o),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",o)}},[]),!e&&!s?null:r.jsxs("div",{className:`offline-indicator ${e?"offline":"online"} ${n}`,children:[r.jsx(ft,{size:18}),r.jsx("span",{children:e?"You are offline. Some features may be limited.":"Connection restored. You are back online!"})]})},Tr=h.createContext({isOffline:!1,lastOnlineAt:null,cachedResources:[],isSyncPending:!1,syncQueue:[],addToSyncQueue:()=>{},processSyncQueue:async()=>{}}),n0=({children:n})=>{const[e,t]=h.useState(!navigator.onLine),[s,a]=h.useState(navigator.onLine?new Date:null),[i,o]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState(!1);h.useEffect(()=>{const m=localStorage.getItem("syncQueue");m&&c(JSON.parse(m)),(async()=>{if("caches"in window)try{const y=await(await caches.open("talkghana-assets")).keys();o(y.map(j=>j.url))}catch(x){console.error("Failed to load cached resources:",x)}})()},[]),h.useEffect(()=>{const m=()=>{t(!1),a(new Date),l.length>0&&b()},p=()=>{t(!0)};return window.addEventListener("online",m),window.addEventListener("offline",p),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",p)}},[l]),h.useEffect(()=>{localStorage.setItem("syncQueue",JSON.stringify(l))},[l]);const g=(m,p)=>{c(x=>[...x,{endpoint:m,data:p,timestamp:Date.now()}])},b=async()=>{if(!(e||d||l.length===0)){u(!0);try{const m=[...l],p=[];for(let y=0;y<m.length;y++){const{endpoint:j,data:k}=m[y];try{(await fetch(j,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)})).ok&&p.push(y)}catch($){console.error(`Failed to sync item ${y}:`,$)}}const x=m.filter((y,j)=>!p.includes(j));c(x)}finally{u(!1)}}},w={isOffline:e,lastOnlineAt:s,cachedResources:i,isSyncPending:d,syncQueue:l,addToSyncQueue:g,processSyncQueue:b};return r.jsx(Tr.Provider,{value:w,children:n})},Be=()=>h.useContext(Tr),Ge=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),s0=n=>n===Ge;var Ht=()=>/(android)/i.test(typeof navigator<"u"?navigator.userAgent:"");const a0=(n,e,t)=>{let s;return function(){const a=this,i=arguments,o=function(){s=null},l=!s;clearTimeout(s),s=setTimeout(o,e),l&&n.apply(a,i)}},Vt=(...n)=>n.map(e=>e.trim()).join(" ").trim(),r0=/\s*\((.*?)\)\s*/g,i0=/(\(\?:[^)]+\))\?/g,o0=/(\(\?)?:\w+/g,l0=/\*/g,c0=/[-{}[\]+?.,\\^$|#]/g,d0=n=>n instanceof RegExp?new RegExp(n.source,"i"):(n=n.replace(c0,"\\$&").replace(r0,"(?:$1)?").replace(o0,(e,t)=>t?e:"([^\\s]+)").replace(l0,"(.*?)").replace(i0,"\\s*$1?\\s*"),new RegExp("^"+n+"$","i")),u0=(n,e)=>{if(n=n.replace(/\s+/g,"").toLowerCase(),e=e.replace(/\s+/g,"").toLowerCase(),!n.length&&!e.length)return 1;if(!n.length||!e.length)return 0;if(n===e)return 1;if(n.length===1&&e.length===1||n.length<2||e.length<2)return 0;const t=new Map;for(let a=0;a<n.length-1;a++){const i=n.substring(a,a+2),o=t.has(i)?t.get(i)+1:1;t.set(i,o)}let s=0;for(let a=0;a<e.length-1;a++){const i=e.substring(a,a+2),o=t.has(i)?t.get(i):0;o>0&&(t.set(i,o-1),s++)}return 2*s/(n.length+e.length-2)},Rr=()=>typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0);function la(n,e,t,s,a,i,o){try{var l=n[i](o),c=l.value}catch(d){t(d);return}l.done?e(c):Promise.resolve(c).then(s,a)}function kt(n){return function(){var e=this,t=arguments;return new Promise(function(s,a){var i=n.apply(e,t);function o(c){la(i,s,a,o,l,"next",c)}function l(c){la(i,s,a,o,l,"throw",c)}o(void 0)})}}class xn{setSpeechRecognition(e){const t=!!e&&(s0(e)||Rr());t&&(this.disableRecognition(),this.recognition=new e,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(t)}subscribe(e,t){this.subscribers[e]=t}unsubscribe(e){delete this.subscribers[e]}emitListeningChange(e){this.listening=e,Object.keys(this.subscribers).forEach(t=>{const{onListeningChange:s}=this.subscribers[t];s(e)})}emitMicrophoneAvailabilityChange(e){this.isMicrophoneAvailable=e,Object.keys(this.subscribers).forEach(t=>{const{onMicrophoneAvailabilityChange:s}=this.subscribers[t];s(e)})}emitTranscriptChange(e,t){Object.keys(this.subscribers).forEach(s=>{const{onTranscriptChange:a}=this.subscribers[s];a(e,t)})}emitClearTranscript(){Object.keys(this.subscribers).forEach(e=>{const{onClearTranscript:t}=this.subscribers[e];t()})}emitBrowserSupportsSpeechRecognitionChange(e){Object.keys(this.subscribers).forEach(t=>{const{onBrowserSupportsSpeechRecognitionChange:s,onBrowserSupportsContinuousListeningChange:a}=this.subscribers[t];s(e),a(e)})}disconnect(e){if(this.recognition&&this.listening)switch(e){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}disableRecognition(){this.recognition&&(this.recognition.onresult=()=>{},this.recognition.onend=()=>{},this.recognition.onerror=()=>{},this.listening&&this.stopListening())}onError(e){e&&e.error&&e.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}onRecognitionDisconnect(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}updateTranscript({results:e,resultIndex:t}){const s=t===void 0?e.length-1:t;this.interimTranscript="",this.finalTranscript="";for(let i=s;i<e.length;++i)e[i].isFinal&&(!Ht()||e[i][0].confidence>0)?this.updateFinalTranscript(e[i][0].transcript):this.interimTranscript=Vt(this.interimTranscript,e[i][0].transcript);let a=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(a=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,a||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}updateFinalTranscript(e){this.finalTranscript=Vt(this.finalTranscript,e)}resetTranscript(){this.disconnect("RESET")}startListening({continuous:e=!1,language:t}={}){var s=this;return kt(function*(){if(!s.recognition)return;const a=e!==s.recognition.continuous,i=t&&t!==s.recognition.lang;if((a||i)&&(s.listening&&(yield s.stopListening()),s.recognition.continuous=a?e:s.recognition.continuous,s.recognition.lang=i?t:s.recognition.lang),!s.listening){s.recognition.continuous||(s.resetTranscript(),s.emitClearTranscript());try{yield s.start(),s.emitListeningChange(!0)}catch(o){o instanceof DOMException||s.emitMicrophoneAvailabilityChange(!1)}}})()}abortListening(){var e=this;return kt(function*(){e.disconnect("ABORT"),e.emitListeningChange(!1),yield new Promise(t=>{e.onStopListening=t})})()}stopListening(){var e=this;return kt(function*(){e.disconnect("STOP"),e.emitListeningChange(!1),yield new Promise(t=>{e.onStopListening=t})})()}getRecognition(){return this.recognition}start(){var e=this;return kt(function*(){e.recognition&&!e.listening&&(yield e.recognition.start(),e.listening=!0)})()}stop(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}abort(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}constructor(e){this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=()=>{},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(e),Ht()&&(this.updateFinalTranscript=a0(this.updateFinalTranscript,250))}}const Lr="CLEAR_TRANSCRIPT",Or="APPEND_TRANSCRIPT",h0=()=>({type:Lr}),g0=(n,e)=>({type:Or,payload:{interimTranscript:n,finalTranscript:e}}),f0=(n,e)=>{switch(e.type){case Lr:return{interimTranscript:"",finalTranscript:""};case Or:return{interimTranscript:e.payload.interimTranscript,finalTranscript:Vt(n.finalTranscript,e.payload.finalTranscript)};default:throw new Error}};function ca(n,e,t,s,a,i,o){try{var l=n[i](o),c=l.value}catch(d){t(d);return}l.done?e(c):Promise.resolve(c).then(s,a)}function bn(n){return function(){var e=this,t=arguments;return new Promise(function(s,a){var i=n.apply(e,t);function o(c){ca(i,s,a,o,l,"next",c)}function l(c){ca(i,s,a,o,l,"throw",c)}o(void 0)})}}let Ke=!!Ge,Ot=Ke&&!Ht(),Ce;const m0=({transcribing:n=!0,clearTranscriptOnListen:e=!0,commands:t=[]}={})=>{const[s]=h.useState(Se.getRecognitionManager()),[a,i]=h.useState(Ke),[o,l]=h.useState(Ot),[{interimTranscript:c,finalTranscript:d},u]=h.useReducer(f0,{interimTranscript:s.interimTranscript,finalTranscript:""}),[g,b]=h.useState(s.listening),[w,m]=h.useState(s.isMicrophoneAvailable),p=h.useRef(t);p.current=t;const x=()=>{u(h0())},y=h.useCallback(()=>{s.resetTranscript(),x()},[s]),j=(E,v,L)=>{const F=(typeof E=="object"?E.toString():E).replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),W=u0(F,v);return W>=L?{command:E,commandWithoutSpecials:F,howSimilar:W,isFuzzyMatch:!0}:null},k=(E,v)=>{const R=d0(E).exec(v);return R?{command:E,parameters:R.slice(1)}:null},$=h.useCallback((E,v)=>{p.current.forEach(({command:L,callback:R,matchInterim:F=!1,isFuzzyMatch:W=!1,fuzzyMatchingThreshold:J=.8,bestMatchOnly:z=!1})=>{const P=!v&&F?E.trim():v.trim(),Q=(Array.isArray(L)?L:[L]).map(f=>W?j(f,P,J):k(f,P)).filter(f=>f);if(W&&z&&Q.length>=2){Q.sort((_,D)=>D.howSimilar-_.howSimilar);const{command:f,commandWithoutSpecials:C,howSimilar:T}=Q[0];R(C,P,T,{command:f,resetTranscript:y})}else Q.forEach(f=>{if(f.isFuzzyMatch){const{command:C,commandWithoutSpecials:T,howSimilar:_}=f;R(T,P,_,{command:C,resetTranscript:y})}else{const{command:C,parameters:T}=f;R(...T,{command:C,resetTranscript:y})}})})},[y]),A=h.useCallback((E,v)=>{n&&u(g0(E,v)),$(E,v)},[$,n]),O=h.useCallback(()=>{e&&x()},[e]);return h.useEffect(()=>{const E=Se.counter;Se.counter+=1;const v={onListeningChange:b,onMicrophoneAvailabilityChange:m,onTranscriptChange:A,onClearTranscript:O,onBrowserSupportsSpeechRecognitionChange:i,onBrowserSupportsContinuousListeningChange:l};return s.subscribe(E,v),()=>{s.unsubscribe(E)}},[n,e,s,A,O]),{transcript:Vt(d,c),interimTranscript:c,finalTranscript:d,listening:g,isMicrophoneAvailable:w,resetTranscript:y,browserSupportsSpeechRecognition:a,browserSupportsContinuousListening:o}},Se={counter:0,applyPolyfill:n=>{Ce?Ce.setSpeechRecognition(n):Ce=new xn(n);const e=!!n&&Rr();Ke=e,Ot=e},removePolyfill:()=>{Ce?Ce.setSpeechRecognition(Ge):Ce=new xn(Ge),Ke=!!Ge,Ot=Ke&&!Ht()},getRecognitionManager:()=>(Ce||(Ce=new xn(Ge)),Ce),getRecognition:()=>Se.getRecognitionManager().getRecognition(),startListening:bn(function*({continuous:n,language:e}={}){yield Se.getRecognitionManager().startListening({continuous:n,language:e})}),stopListening:bn(function*(){yield Se.getRecognitionManager().stopListening()}),abortListening:bn(function*(){yield Se.getRecognitionManager().abortListening()}),browserSupportsSpeechRecognition:()=>Ke,browserSupportsContinuousListening:()=>Ot},p0=({continuous:n=!1,onResult:e,onError:t,onEnd:s,useWhisperFallback:a=!0,whisperEndpoint:i="http://localhost:5002/api/asr"}={})=>{const[o,l]=h.useState(null),[c,d]=h.useState([]),[u,g]=h.useState(!1),[b,w]=h.useState(""),[m,p]=h.useState(!1),[x,y]=h.useState(!1),{isOffline:j,addToSyncQueue:k}=Be(),{currentLanguage:$,getLanguageResource:A}=Pe(),{transcript:O,listening:S,resetTranscript:E,browserSupportsSpeechRecognition:v,isMicrophoneAvailable:L}=m0();h.useEffect(()=>{O&&e&&!x&&e(O)},[O,e,x]),h.useEffect(()=>{b&&e&&x&&e(b)},[b,e,x]);const R=h.useCallback(async()=>{try{const P=await navigator.mediaDevices.getUserMedia({audio:!0}),U=new MediaRecorder(P);U.ondataavailable=Q=>{Q.data.size>0&&d(f=>[...f,Q.data])},U.onstop=async()=>{if(x&&c.length>0){const Q=new Blob(c,{type:"audio/webm"});await F(Q),d([])}s&&s()},l(U)}catch(P){t&&t("Failed to initialize media recorder: "+P.message)}},[c,x,s,t]),F=async P=>{g(!0);try{const U=A($),Q=(U==null?void 0:U.whisperModel)||"base";if(j){k("/asr/offline-queue",{audio:P,language:$,timestamp:Date.now()}),t&&t("Device is offline. Audio saved for later processing.");return}const f=new FormData;f.append("audio",P),f.append("language",$),f.append("model",Q);const C=await fetch(i,{method:"POST",body:f});if(!C.ok)throw new Error(`Whisper API error: ${C.status}`);const T=await C.json();w(T.text)}catch(U){t&&t("Whisper ASR error: "+U.message)}finally{g(!1)}},W=h.useCallback(async()=>{E(),w("");try{if(v)Se.startListening({continuous:n,language:$==="english"?"en-US":"en-GH"}),y(!1);else if(a)y(!0),o||await R(),o&&o.state!=="recording"&&o.start(1e3);else{t&&t("Speech recognition not supported and fallback disabled");return}p(!0)}catch(P){t&&t("Failed to start listening: "+P.message)}},[v,n,$,R,o,t,E,a]),J=h.useCallback(()=>{try{v&&!x?Se.stopListening():o&&o.state==="recording"&&o.stop(),p(!1)}catch(P){t&&t("Failed to stop listening: "+P.message)}},[v,x,o,t]),z=h.useCallback(()=>{E(),w(""),d([])},[E]);return h.useEffect(()=>()=>{o&&o.state==="recording"&&o.stop(),v&&S&&Se.stopListening()},[v,S,o]),{startListening:W,stopListening:J,reset:z,transcript:x?b:O,isListening:x?m:S,isProcessing:u,browserSupportsSpeechRecognition:v,isMicrophoneAvailable:L,usingFallback:x}},x0=({onTranscriptChange:n,onSpeechEnd:e,onError:t,continuous:s=!1,placeholder:a="Speak now...",maxLength:i=500,className:o=""})=>{const[l,c]=h.useState(null),[d,u]=h.useState(!0),{isOffline:g}=Be(),{currentLanguage:b}=Pe(),w=h.useCallback(v=>{if(n){const L=i&&v.length>i?v.substring(0,i):v;n(L)}},[i,n]),m=h.useCallback(v=>{c(v),console.error("ASR Error:",v),t&&t(v)},[t]),p=h.useCallback(()=>{e&&e()},[e]),{startListening:x,stopListening:y,reset:j,transcript:k,isListening:$,isProcessing:A,browserSupportsSpeechRecognition:O,isMicrophoneAvailable:S,usingFallback:E}=p0({continuous:s,onResult:w,onError:m,onEnd:p,useWhisperFallback:!0});return h.useEffect(()=>{u(!0)},[b]),!O&&!E?r.jsxs("div",{className:"p-4 bg-yellow-50 text-yellow-800 rounded-lg border border-yellow-200",children:[r.jsx("p",{className:"font-medium",children:"Your browser doesn't support speech recognition."}),r.jsx("p",{className:"text-sm mt-1",children:"Try using Google Chrome for the best experience."})]}):S?r.jsxs("div",{className:`w-full ${o}`,children:[r.jsxs("div",{className:"relative w-full",children:[r.jsx("div",{className:"min-h-[100px] p-4 bg-white border border-gray-300 rounded-lg shadow-sm",children:k?r.jsx("p",{className:"text-gray-800",children:k}):r.jsx("p",{className:"text-gray-400 italic",children:a})}),r.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${$?"bg-green-500 animate-pulse":A?"bg-yellow-500 animate-pulse":"bg-gray-300"}`}),r.jsx("span",{className:"text-gray-600",children:$?"Listening...":A?"Processing speech...":"Ready"}),E&&r.jsx("span",{className:"ml-2 text-xs text-blue-600 bg-blue-50 px-2 py-0.5 rounded-full",children:"Using Whisper"}),g&&r.jsx("span",{className:"ml-2 text-xs text-orange-600 bg-orange-50 px-2 py-0.5 rounded-full",children:"Offline Mode"})]}),l&&r.jsx("div",{className:"mt-2 p-2 bg-red-50 text-red-800 text-sm rounded-md",children:l})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[r.jsx("button",{onClick:$?y:async()=>{c(null),d&&u(!1),await x()},className:`px-4 py-2 rounded-lg font-medium ${$?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,disabled:A,children:$?"Stop Listening":d?"Start Listening":"Listen Again"}),r.jsx("button",{onClick:()=>{j(),w("")},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium",disabled:$||!k&&!l,children:"Clear"})]})]}):r.jsxs("div",{className:"p-4 bg-red-50 text-red-800 rounded-lg border border-red-200",children:[r.jsx("p",{className:"font-medium",children:"Microphone access denied."}),r.jsx("p",{className:"text-sm mt-1",children:"Please allow microphone access in your browser settings to use speech recognition."})]})},b0=50,y0=7*24*60*60*1e3,Ar=({pitch:n=1,rate:e=1,volume:t=1,onStart:s,onEnd:a,onError:i,useRemoteTTS:o=!0,remoteTTSEndpoint:l="http://localhost:5002/api/tts",cacheAudio:c=!0}={})=>{const[d,u]=h.useState(!1),[g,b]=h.useState([]),[w,m]=h.useState(!1),[p,x]=h.useState(""),y=h.useRef(null),j=h.useRef(null),{currentLanguage:k,getLanguageResource:$}=Pe(),{isOffline:A}=Be();h.useEffect(()=>{if(c)try{const v=localStorage.getItem("ttsAudioCache");v&&b(JSON.parse(v))}catch(v){console.error("Failed to load audio cache:",v)}},[c]),h.useEffect(()=>{if(c&&g.length>0)try{const v=JSON.stringify(g.map(({text:L,language:R,timestamp:F})=>({text:L,language:R,timestamp:F})));localStorage.setItem("ttsAudioCache",v)}catch(v){console.error("Failed to save audio cache:",v)}},[g,c]),h.useEffect(()=>(y.current||(y.current=new Audio,y.current.onended=()=>{u(!1),a&&a()},y.current.onerror=()=>{u(!1),i&&i("Audio playback error")}),()=>{y.current&&(y.current.pause(),y.current=null),speechSynthesis&&j.current&&speechSynthesis.cancel()}),[a,i]),h.useCallback((v,L)=>{if(!c)return null;const R=g.find(F=>F.text===v&&F.language===L);return R&&R.blob?(b(F=>F.map(W=>W.text===v&&W.language===L?{...W,timestamp:Date.now()}:W)),R.blob):null},[g,c]),h.useCallback((v,L,R)=>{c&&b(F=>{const W=Date.now(),J=F.filter(P=>W-P.timestamp<y0);return[{text:v,language:L,blob:R,timestamp:W},...J.filter(P=>!(P.text===v&&P.language===L))].slice(0,b0)})},[c]),h.useEffect(()=>{},[c,l]);const O=h.useCallback(async v=>{if(!v)return!1;E(),m(!0),x(v);try{return s&&s(),u(!0),await Fn.speak({text:v,language:k,pitch:n,rate:e,volume:t}),"speechSynthesis"in window&&speechSynthesis.addEventListener("end",S),!0}catch(L){return u(!1),i&&i(`Speech synthesis error: ${L.message}`),!1}finally{m(!1)}},[k,i,s,n,e,t]),S=h.useCallback(()=>{u(!1),"speechSynthesis"in window&&speechSynthesis.removeEventListener("end",S),a&&a()},[a]),E=h.useCallback(()=>{Fn.stop(),u(!1),"speechSynthesis"in window&&speechSynthesis.removeEventListener("end",S)},[S]);return h.useEffect(()=>()=>{E()},[E]),{speak:O,stop:E,isSpeaking:d,isLoading:w,lastSpokenText:p}},w0=({text:n="",autoPlay:e=!1,showControls:t=!0,showSettings:s=!1,className:a="",onPlayStart:i,onPlayEnd:o,onError:l})=>{const[c,d]=h.useState(n),[u,g]=h.useState(1),[b,w]=h.useState(1),[m,p]=h.useState(1),[x,y]=h.useState(null),[j,k]=h.useState(!1),{currentLanguage:$}=Pe(),{isOffline:A}=Be(),O=h.useCallback(P=>{y(P),console.error("TTS Error:",P),l&&l(P)},[l]),S=h.useCallback(()=>{i&&i()},[i]),E=h.useCallback(()=>{o&&o()},[o]),{speak:v,stop:L,isSpeaking:R,isLoading:F}=Ar({pitch:u,rate:b,volume:m,onStart:S,onEnd:E,onError:O,useRemoteTTS:!0,cacheAudio:!0});h.useEffect(()=>{d(n)},[n]),h.useEffect(()=>{e&&n&&!R&&v(n)},[e,n,v,R]),h.useEffect(()=>{y(null)},[$]);const W=()=>{k(!j)},J=()=>{y(null),c?v(c):O("No text to speak")},z=()=>{L()};return r.jsxs("div",{className:`w-full ${a}`,children:[r.jsx("textarea",{value:c,onChange:P=>d(P.target.value),placeholder:"Enter text to speak...",className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",rows:3,disabled:R||F,"aria-label":"Text to speak"}),t&&r.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[R?r.jsxs("button",{onClick:z,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium flex items-center","aria-label":"Stop speech",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})}),"Stop"]}):r.jsx("button",{onClick:J,disabled:F||!c,className:`px-4 py-2 rounded-lg font-medium flex items-center ${!c||F?"bg-gray-300 cursor-not-allowed text-gray-500":"bg-blue-600 hover:bg-blue-700 text-white"}`,"aria-label":"Play speech",children:F?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Speak"]})}),s&&r.jsxs("button",{onClick:W,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium flex items-center","aria-label":"Voice settings",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),"Settings"]}),A&&r.jsx("span",{className:"ml-2 self-center text-xs text-orange-600 bg-orange-50 px-2 py-0.5 rounded-full",children:"Offline Mode"})]}),s&&j&&r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Voice Settings"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"pitch-control",className:"block text-xs text-gray-600 mb-1",children:["Pitch: ",u.toFixed(1)]}),r.jsx("input",{id:"pitch-control",type:"range",min:"0.5",max:"2",step:"0.1",value:u,onChange:P=>g(parseFloat(P.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",disabled:R})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"rate-control",className:"block text-xs text-gray-600 mb-1",children:["Speed: ",b.toFixed(1)]}),r.jsx("input",{id:"rate-control",type:"range",min:"0.5",max:"2",step:"0.1",value:b,onChange:P=>w(parseFloat(P.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",disabled:R})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"volume-control",className:"block text-xs text-gray-600 mb-1",children:["Volume: ",(m*100).toFixed(0),"%"]}),r.jsx("input",{id:"volume-control",type:"range",min:"0",max:"1",step:"0.1",value:m,onChange:P=>p(parseFloat(P.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",disabled:R})]})]})]}),x&&r.jsx("div",{className:"mt-3 p-2 bg-red-50 text-red-800 text-sm rounded-md",children:x})]})},v0={greetings:{twi:"Mema wo akye",ga:"Ojekoo",ewe:"Ŋdi na mi",dagbani:"Dasiba",hausa:"Sannu",english:"Good morning"},needs:{twi:"Me pɛ nsuo",ga:"Miitao nu",ewe:"Medi tsi",dagbani:"N bora kom",hausa:"Ina son ruwa",english:"I need water"},medical:{twi:"Me ho mfa me",ga:"Mitsɔmɔ hewalɛ",ewe:"Mele dɔ lém",dagbani:"N ti bi",hausa:"Ba ni da lafiya",english:"I am not feeling well"},questions:{twi:"Wo din de sɛn?",ga:"Mɛni ji ogbɛi?",ewe:"Ŋkɔwò ɖe?",dagbani:"A yuuli?",hausa:"Mene ne sunanka?",english:"What is your name?"},emergency:{twi:"Me hia mmoa",ga:"Miihia yelikɛbuamɔ",ewe:"Mehiã kpekpeɖeŋu",dagbani:"N bora sɔŋsim",hausa:"Ina bukatar taimako",english:"I need help"},cultural:{twi:{text:"Akwaaba",translation:"Welcome"},ga:{text:"Abɔkɛ",translation:"Welcome/We receive you"},ewe:{text:"Woezo",translation:"Welcome"},hausa:{text:"Barka da asuba",translation:"Good morning"},english:{text:"You are welcome",translation:"A common response to thanks in Ghana"}},market:{twi:{text:"Ɛyɛ sɛn?",translation:"How much is it?"},ga:{text:"Nɛ je ni?",translation:"How much is it?"},ewe:{text:"Esia xɔ nenie?",translation:"How much does this cost?"},hausa:{text:"Nawa ne?",translation:"How much is it?"},english:{text:"Please reduce the price",translation:"Bargaining is common in Ghanaian markets"}},proverbs:{twi:{text:"Tiri nkwa, na yɛmfa nto akyene mu",translation:"Life is valuable and should not be risked carelessly"},ga:{text:"Kɛ mɔ ko fee gbeɔ, esha ekome fɔŋ",translation:"If everyone sweeps in front of their house, the whole village will be clean"},ewe:{text:"Ne ame aɖe xɔ agbe la, ekemɛ hã axɔe",translation:"If one person is saved, then the other will also be saved"},hausa:{text:"Hakuri maganin duniya",translation:"Patience is the cure for the world"},english:{text:"The elder who sits under the big tree speaks wisdom",translation:"A Ghanaian saying about respecting elders' wisdom"}},custom:{english:"Add your own phrase"}},S0={greetings:"bg-blue-100 border-blue-300 text-blue-800",needs:"bg-green-100 border-green-300 text-green-800",medical:"bg-red-100 border-red-300 text-red-800",questions:"bg-purple-100 border-purple-300 text-purple-800",emergency:"bg-orange-100 border-orange-300 text-orange-800",cultural:"bg-amber-100 border-amber-300 text-amber-800",market:"bg-cyan-100 border-cyan-300 text-cyan-800",proverbs:"bg-indigo-100 border-indigo-300 text-indigo-800",custom:"bg-gray-100 border-gray-300 text-gray-800"},j0={greetings:r.jsx("span",{children:"👋"}),needs:r.jsx("span",{children:"🥄"}),medical:r.jsx("span",{children:"🏥"}),questions:r.jsx("span",{children:"❓"}),emergency:r.jsx("span",{children:"🚨"}),cultural:r.jsx("span",{children:"🏛️"}),market:r.jsx("span",{children:"🛒"}),proverbs:r.jsx("span",{children:"🦉"}),custom:r.jsx("span",{children:"✏️"})},da={greetings:{name:"Greetings",description:"Everyday greetings and pleasantries"},needs:{name:"Basic Needs",description:"Express basic needs like hunger or thirst"},medical:{name:"Medical",description:"Health-related phrases and symptoms"},questions:{name:"Questions",description:"Common questions to ask others"},emergency:{name:"Emergency",description:"Urgent help and emergency phrases"},cultural:{name:"Cultural",description:"Traditional Ghanaian cultural expressions"},market:{name:"Market",description:"Phrases for shopping and bargaining"},proverbs:{name:"Proverbs",description:"Traditional wisdom and sayings"},custom:{name:"Custom",description:"Your personal phrases"}},N0=({onPhraseSelect:n,showCategories:e=!0,initialCategory:t="greetings",maxPhrasesPerCategory:s=5,showFavoritesOnly:a=!1,className:i="",showTranslations:o=!0})=>{const[l,c]=h.useState([]),[d,u]=h.useState(t),[g,b]=h.useState(""),[w,m]=h.useState(!1),[p,x]=h.useState([]),[y,j]=h.useState(""),{currentLanguage:k}=Pe(),{speak:$,isSpeaking:A}=Ar();h.useEffect(()=>{const v=[];Object.entries(v0).forEach(([L,R])=>{Object.entries(R).forEach(([F,W])=>{typeof W=="string"?v.push({id:`${L}-${F}-${Date.now()}`,text:W,language:F,category:L,isFavorite:!1}):typeof W=="object"&&v.push({id:`${L}-${F}-${Date.now()}`,text:W.text,translation:W.translation,language:F,category:L,isFavorite:!1})})});try{const L=localStorage.getItem("savedPhrases");if(L){const R=JSON.parse(L),F=[...v];R.forEach(W=>{const J=F.findIndex(z=>z.category===W.category&&z.language===W.language);J!==-1?F[J]=W:F.push(W)}),c(F)}else c(v)}catch(L){console.error("Failed to load saved phrases:",L),c(v)}},[]),h.useEffect(()=>{if(l.length>0)try{localStorage.setItem("savedPhrases",JSON.stringify(l))}catch(v){console.error("Failed to save phrases:",v)}},[l]),h.useEffect(()=>{let v=l.filter(L=>(d==="custom"||L.category===d)&&(a?L.isFavorite:!0)&&L.language===k);if(y){const L=y.toLowerCase();v=v.filter(R=>{var F;return R.text.toLowerCase().includes(L)||((F=R.translation)==null?void 0:F.toLowerCase().includes(L))})}s>0&&!a&&!y&&(v=v.slice(0,s)),x(v)},[l,d,k,a,s,y]);const O=h.useCallback(v=>{c(L=>L.map(R=>R.id===v?{...R,isFavorite:!R.isFavorite}:R))},[]),S=h.useCallback(v=>{c(L=>L.map(R=>R.id===v.id?{...R,lastUsed:new Date}:R)),A||$(v.text),n&&n(v)},[n,$,A]),E=h.useCallback(()=>{if(g.trim()){const v={id:`custom-${k}-${Date.now()}`,text:g.trim(),language:k,category:"custom",isFavorite:!1,lastUsed:new Date};c(L=>[...L,v]),b(""),m(!1)}},[g,k]);return r.jsxs("div",{className:`w-full ${i}`,children:[r.jsx("div",{className:"mb-4",children:r.jsx("input",{type:"text",placeholder:"Search phrases...",value:y,onChange:v=>j(v.target.value),className:"w-full p-2 border border-gray-300 rounded-md","aria-label":"Search for phrases"})}),e&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",id:"category-heading",children:"Categories"}),r.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",role:"radiogroup","aria-labelledby":"category-heading",children:Object.entries(da).map(([v,{name:L,description:R}])=>r.jsxs("button",{onClick:()=>u(v),className:`p-3 rounded-lg border flex flex-col items-center justify-center transition-colors ${d===v?S0[v]+" shadow-sm":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100"}`,"aria-label":`Select ${L} category`,"aria-pressed":d===v,"aria-describedby":`${v}-desc`,role:"radio","aria-checked":d===v,children:[r.jsx("div",{className:"text-xl mb-1",children:j0[v]}),r.jsx("span",{className:"text-sm font-medium",children:L}),r.jsx("span",{id:`${v}-desc`,className:"sr-only",children:R})]},v))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-700",children:da[d].name}),d==="custom"&&r.jsx("button",{onClick:()=>m(!0),className:"text-sm px-2 py-1 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded","aria-label":"Add custom phrase",children:"+ Add Phrase"})]}),p.length===0?r.jsx("p",{className:"text-center py-4 text-gray-500",children:y?"No matching phrases found. Try a different search.":"No phrases available. Try selecting a different category."}):r.jsx("div",{className:"space-y-2",children:p.map(v=>r.jsx("div",{className:"p-3 border border-gray-200 rounded-lg bg-white hover:bg-gray-50 transition-colors focus-within:ring-2 focus-within:ring-blue-500",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("button",{onClick:()=>S(v),className:"text-left flex-1 focus:outline-none","aria-label":`Speak phrase: ${v.text}${v.translation?` (${v.translation})`:""}`,children:[r.jsx("p",{className:"text-gray-800 font-medium",children:v.text}),o&&v.translation&&r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:v.translation})]}),r.jsx("button",{onClick:()=>O(v.id),className:`ml-2 p-1 rounded-full ${v.isFavorite?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-gray-500"}`,"aria-label":v.isFavorite?"Remove from favorites":"Add to favorites","aria-pressed":v.isFavorite,children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:v.isFavorite?"currentColor":"none",stroke:"currentColor",className:"w-5 h-5","aria-hidden":"true",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:v.isFavorite?"0":"2",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})})]})},v.id))}),w&&r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",role:"dialog","aria-labelledby":"add-phrase-heading",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",id:"add-phrase-heading",children:"Add Custom Phrase"}),r.jsx("input",{type:"text",value:g,onChange:v=>b(v.target.value),placeholder:"Enter your phrase...",className:"w-full p-2 border border-gray-300 rounded-md mb-2","aria-label":"Custom phrase text"}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>m(!1),className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),r.jsx("button",{onClick:E,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!g.trim(),children:"Add"})]})]})]})]})},ua=({showLabels:n=!0,showOfflineIndicator:e=!0,compact:t=!1,className:s=""})=>{const[a,i]=h.useState(!1),{currentLanguage:o,setCurrentLanguage:l,availableLanguages:c,getLanguageResource:d}=Pe(),{isOffline:u}=Be(),g=d(o),b=m=>{l(m),i(!1)},w=()=>{i(!a)};return r.jsxs("div",{className:`relative ${s}`,children:[r.jsxs("button",{onClick:w,className:`flex items-center border border-gray-300 rounded-lg ${t?"p-2":"px-4 py-2"} ${a?"bg-blue-50 border-blue-300":"bg-white hover:bg-gray-50"}`,"aria-label":"Select language","aria-expanded":a,children:[r.jsx("span",{className:"font-medium text-gray-800",children:t?o.substring(0,2).toUpperCase():g==null?void 0:g.name}),!t&&n&&r.jsxs("span",{className:"ml-1 text-sm text-gray-500",children:["(",g==null?void 0:g.localName,")"]}),e&&!u&&(g==null?void 0:g.offlineSupport)&&r.jsx("span",{className:"ml-1.5 w-2 h-2 bg-green-500 rounded-full",title:"Available offline"}),r.jsx("svg",{className:`ml-2 w-5 h-5 text-gray-400 transition-transform ${a?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),a&&r.jsx("div",{className:"absolute top-full left-0 mt-1 w-56 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:r.jsx("ul",{className:"py-1",role:"menu","aria-orientation":"vertical",children:c.map(m=>r.jsx("li",{children:r.jsxs("button",{onClick:()=>b(m.code),className:`flex items-center justify-between w-full px-4 py-2 text-left text-sm ${o===m.code?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,role:"menuitem",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:m.name}),n&&r.jsx("span",{className:"text-xs text-gray-500",children:m.localName})]}),r.jsxs("div",{className:"flex items-center space-x-1.5",children:[m.voiceAvailable&&r.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-1.5 py-0.5 rounded",title:"Voice available",children:"TTS"}),m.offlineSupport&&r.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded",title:"Available offline",children:"Offline"}),o===m.code&&r.jsx("svg",{className:"w-4 h-4 text-blue-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})]})},m.code))})}),a&&r.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>i(!1),"aria-hidden":"true"})]})},C0=({onSaveRecording:n,onUploadForTranscription:e,disabled:t=!1})=>{const[s,a]=h.useState(!1),[i,o]=h.useState(0),[l,c]=h.useState(null),[d,u]=h.useState(null),[g,b]=h.useState(!1),[w,m]=h.useState(""),[p,x]=h.useState(!1),[y,j]=h.useState(null),k=h.useRef(null),$=h.useRef([]),A=h.useRef(null),O=h.useRef(null),{preferences:S}=be();h.useEffect(()=>(O.current=new Audio,O.current.onplay=()=>b(!0),O.current.onpause=()=>b(!1),O.current.onended=()=>b(!1),()=>{O.current&&(O.current.onplay=null,O.current.onpause=null,O.current.onended=null)}),[]),h.useEffect(()=>()=>{d&&URL.revokeObjectURL(d)},[d]);const E=async()=>{try{j(null);const z=await navigator.mediaDevices.getUserMedia({audio:!0});k.current=new MediaRecorder(z),$.current=[],k.current.ondataavailable=P=>{P.data.size>0&&$.current.push(P.data)},k.current.onstop=()=>{const P=new Blob($.current,{type:"audio/wav"}),U=URL.createObjectURL(P);c(P),u(U),O.current&&(O.current.src=U);const Q=new Date,f=`recording_${Q.toLocaleDateString().replace(/\//g,"-")}_${Q.toLocaleTimeString().replace(/:/g,"-")}`;m(f),z.getTracks().forEach(C=>C.stop())},k.current.start(),a(!0),o(0),A.current=window.setInterval(()=>{o(P=>P+1)},1e3)}catch(z){console.error("Error accessing microphone:",z),j("Could not access microphone. Please check permissions.")}},v=()=>{k.current&&s&&(k.current.stop(),a(!1),A.current&&(clearInterval(A.current),A.current=null))},L=()=>{!O.current||!d||(g?O.current.pause():O.current.play())},R=()=>{l&&w.trim()&&(n(l,w.trim()),c(null),u(null),m(""),O.current&&(O.current.src=""))},F=()=>{c(null),d&&(URL.revokeObjectURL(d),u(null)),m(""),O.current&&(O.current.src="")},W=async()=>{if(!(!l||!e))try{x(!0),j(null),await e(l),F()}catch(z){console.error("Error uploading for transcription:",z),j("Failed to upload recording. Please try again.")}finally{x(!1)}},J=z=>{const P=Math.floor(z/60),U=z%60;return`${P.toString().padStart(2,"0")}:${U.toString().padStart(2,"0")}`};return r.jsxs("div",{className:`border rounded-lg p-4 ${S!=null&&S.highContrast?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,"aria-live":"polite",children:[y&&r.jsx("div",{className:`mb-3 p-2 rounded ${S!=null&&S.highContrast?"bg-red-900 text-white":"bg-red-100 text-red-800"}`,role:"alert",children:y}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-3 gap-2",children:[r.jsx("h3",{className:`font-medium ${S!=null&&S.highContrast?"text-white":"text-gray-800"}`,children:s?"Recording...":l?"Recording Ready":"Audio Recorder"}),s&&r.jsxs("div",{className:`flex items-center ${S!=null&&S.highContrast?"text-red-400":"text-red-600"}`,"aria-live":"assertive",children:[r.jsx("span",{className:"inline-block w-2 h-2 bg-red-600 rounded-full mr-2 animate-pulse"}),r.jsx("span",{"aria-label":`Recording time: ${J(i)}`,children:J(i)})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[!s&&!l&&r.jsxs("button",{onClick:E,disabled:t,className:`px-3 py-2 rounded-md flex items-center ${t?S!=null&&S.highContrast?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-100 text-gray-400 cursor-not-allowed":S!=null&&S.highContrast?"bg-blue-700 text-white hover:bg-blue-600":"bg-blue-600 text-white hover:bg-blue-700"}`,"aria-label":"Start recording",children:[r.jsx(Ye,{size:18,className:"mr-2","aria-hidden":"true"})," Record"]}),s&&r.jsxs("button",{onClick:v,className:`px-3 py-2 rounded-md flex items-center ${S!=null&&S.highContrast?"bg-red-700 text-white hover:bg-red-600":"bg-red-600 text-white hover:bg-red-700"}`,"aria-label":"Stop recording",children:[r.jsx(So,{size:18,className:"mr-2","aria-hidden":"true"})," Stop"]}),l&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:L,className:`px-3 py-2 rounded-md flex items-center ${S!=null&&S.highContrast?"bg-green-700 text-white hover:bg-green-600":"bg-green-600 text-white hover:bg-green-700"}`,"aria-label":g?"Pause playback":"Play recording",children:g?r.jsxs(r.Fragment,{children:[r.jsx(bo,{size:18,className:"mr-2","aria-hidden":"true"})," ","Pause"]}):r.jsxs(r.Fragment,{children:[r.jsx(wo,{size:18,className:"mr-2","aria-hidden":"true"})," ","Play"]})}),r.jsxs("button",{onClick:F,className:`px-3 py-2 rounded-md flex items-center ${S!=null&&S.highContrast?"bg-red-700 text-white hover:bg-red-600":"bg-red-600 text-white hover:bg-red-700"}`,"aria-label":"Discard recording",children:[r.jsx(Ia,{size:18,className:"mr-2","aria-hidden":"true"})," Discard"]})]})]}),l&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:`${S!=null&&S.highContrast?"text-gray-300":"text-gray-600"}`,children:[r.jsx("label",{htmlFor:"recording-name",className:"block text-sm mb-1",children:"Recording Name:"}),r.jsx("input",{id:"recording-name",type:"text",value:w,onChange:z=>m(z.target.value),className:`w-full px-3 py-2 rounded-md border ${S!=null&&S.highContrast?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Enter a name for this recording","aria-required":"true"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:R,disabled:!w.trim(),className:`px-3 py-2 rounded-md flex items-center ${w.trim()?S!=null&&S.highContrast?"bg-green-700 text-white hover:bg-green-600":"bg-green-600 text-white hover:bg-green-700":S!=null&&S.highContrast?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,"aria-label":"Save recording",children:[r.jsx(Pa,{size:18,className:"mr-2","aria-hidden":"true"})," Save"]}),e&&r.jsxs("button",{onClick:W,disabled:p||!w.trim(),className:`px-3 py-2 rounded-md flex items-center ${p||!w.trim()?S!=null&&S.highContrast?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-100 text-gray-400 cursor-not-allowed":S!=null&&S.highContrast?"bg-purple-700 text-white hover:bg-purple-600":"bg-purple-600 text-white hover:bg-purple-700"}`,"aria-label":"Upload for transcription",children:[r.jsx(Gn,{size:18,className:"mr-2","aria-hidden":"true"}),p?"Uploading...":"Transcribe"]})]})]})]})};let Et;const k0=new Uint8Array(16);function E0(){if(!Et&&(Et=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Et))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Et(k0)}const he=[];for(let n=0;n<256;++n)he.push((n+256).toString(16).slice(1));function $0(n,e=0){return he[n[e+0]]+he[n[e+1]]+he[n[e+2]]+he[n[e+3]]+"-"+he[n[e+4]]+he[n[e+5]]+"-"+he[n[e+6]]+he[n[e+7]]+"-"+he[n[e+8]]+he[n[e+9]]+"-"+he[n[e+10]]+he[n[e+11]]+he[n[e+12]]+he[n[e+13]]+he[n[e+14]]+he[n[e+15]]}const T0=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ha={randomUUID:T0};function R0(n,e,t){if(ha.randomUUID&&!n)return ha.randomUUID();n=n||{};const s=n.random||(n.rng||E0)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,$0(s)}class L0{constructor(){Z(this,"dbName","TalkGhanaOfflineDB");Z(this,"dbVersion",1);Z(this,"recordingsStoreName","recordings");Z(this,"db",null);this.init()}init(){return new Promise((e,t)=>{if(this.db){e(this.db);return}const s=indexedDB.open(this.dbName,this.dbVersion);s.onerror=a=>{console.error("IndexedDB error:",a),t("Could not open IndexedDB")},s.onsuccess=a=>{this.db=a.target.result,e(this.db)},s.onupgradeneeded=a=>{const i=a.target.result;if(!i.objectStoreNames.contains(this.recordingsStoreName)){const o=i.createObjectStore(this.recordingsStoreName,{keyPath:"id"});o.createIndex("createdAt","createdAt",{unique:!1}),o.createIndex("name","name",{unique:!1}),o.createIndex("uploaded","uploaded",{unique:!1})}}})}async saveRecording(e,t,s){await this.init();const a={id:R0(),name:e,blob:t,createdAt:Date.now(),duration:s,uploaded:!1};return new Promise((i,o)=>{if(!this.db){o("Database not initialized");return}const d=this.db.transaction([this.recordingsStoreName],"readwrite").objectStore(this.recordingsStoreName).add(a);d.onsuccess=()=>{i(a)},d.onerror=u=>{console.error("Error saving recording:",u),o("Failed to save recording")}})}async getAllRecordings(){return await this.init(),new Promise((e,t)=>{if(!this.db){t("Database not initialized");return}const o=this.db.transaction([this.recordingsStoreName],"readonly").objectStore(this.recordingsStoreName).index("createdAt").openCursor(null,"prev"),l=[];o.onsuccess=c=>{const d=c.target.result;d?(l.push(d.value),d.continue()):e(l)},o.onerror=c=>{console.error("Error getting recordings:",c),t("Failed to get recordings")}})}async getRecording(e){return await this.init(),new Promise((t,s)=>{if(!this.db){s("Database not initialized");return}const o=this.db.transaction([this.recordingsStoreName],"readonly").objectStore(this.recordingsStoreName).get(e);o.onsuccess=()=>{t(o.result||null)},o.onerror=l=>{console.error(`Error getting recording ${e}:`,l),s("Failed to get recording")}})}async updateTranscription(e,t){return await this.init(),new Promise((s,a)=>{if(!this.db){a("Database not initialized");return}const o=this.db.transaction([this.recordingsStoreName],"readwrite").objectStore(this.recordingsStoreName),l=o.get(e);l.onsuccess=()=>{const c=l.result;if(!c){a(`Recording ${e} not found`);return}c.transcription=t;const d=o.put(c);d.onsuccess=()=>{s()},d.onerror=u=>{console.error(`Error updating transcription for ${e}:`,u),a("Failed to update transcription")}},l.onerror=c=>{console.error(`Error getting recording ${e} for transcription update:`,c),a("Failed to get recording for transcription update")}})}async markAsUploaded(e){return await this.init(),new Promise((t,s)=>{if(!this.db){s("Database not initialized");return}const i=this.db.transaction([this.recordingsStoreName],"readwrite").objectStore(this.recordingsStoreName),o=i.get(e);o.onsuccess=()=>{const l=o.result;if(!l){s(`Recording ${e} not found`);return}l.uploaded=!0;const c=i.put(l);c.onsuccess=()=>{t()},c.onerror=d=>{console.error(`Error marking recording ${e} as uploaded:`,d),s("Failed to mark recording as uploaded")}},o.onerror=l=>{console.error(`Error getting recording ${e} for upload marking:`,l),s("Failed to get recording for upload marking")}})}async deleteRecording(e){return await this.init(),new Promise((t,s)=>{if(!this.db){s("Database not initialized");return}const o=this.db.transaction([this.recordingsStoreName],"readwrite").objectStore(this.recordingsStoreName).delete(e);o.onsuccess=()=>{t()},o.onerror=l=>{console.error(`Error deleting recording ${e}:`,l),s("Failed to delete recording")}})}}const ut=new L0,ts=h.createContext(void 0);function O0({children:n}){const[e,t]=h.useState([]),s=(i,o,l="info")=>{const c=Math.random().toString(36).substring(2,9),d={id:c,title:i,description:o,type:l,createdAt:Date.now()};t(u=>[...u,d]),setTimeout(()=>{a(c)},5e3)},a=i=>{t(o=>o.filter(l=>l.id!==i))};return r.jsxs(ts.Provider,{value:{toasts:e,toast:s,dismiss:a},children:[n,r.jsx(A0,{})]})}function A0(){const n=h.useContext(ts);if(!n)return null;const{toasts:e,dismiss:t}=n;return r.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-md","aria-live":"polite",role:"status","aria-atomic":"true",children:e.map(s=>r.jsxs("div",{className:`p-4 rounded-lg shadow-lg flex gap-3 transform transition-all duration-300 ease-in-out 
            animate-in slide-in-from-right-5 fade-in
            ${s.type==="info"?"bg-blue-50 border-l-4 border-blue-500 dark:bg-blue-900/80 dark:border-blue-400":""}
            ${s.type==="success"?"bg-green-50 border-l-4 border-green-500 dark:bg-green-900/80 dark:border-green-400":""}
            ${s.type==="warning"?"bg-yellow-50 border-l-4 border-yellow-500 dark:bg-yellow-900/80 dark:border-yellow-400":""}
            ${s.type==="error"?"bg-red-50 border-l-4 border-red-500 dark:bg-red-900/80 dark:border-red-400":""}
          `,role:"alert","aria-labelledby":`toast-${s.id}-title`,children:[r.jsxs("div",{className:"flex-shrink-0 text-center self-start",children:[s.type==="info"&&r.jsx(Ao,{className:"h-5 w-5 text-blue-500 dark:text-blue-400"}),s.type==="success"&&r.jsx(lt,{className:"h-5 w-5 text-green-500 dark:text-green-400"}),s.type==="warning"&&r.jsx(wl,{className:"h-5 w-5 text-yellow-500 dark:text-yellow-400"}),s.type==="error"&&r.jsx(Ra,{className:"h-5 w-5 text-red-500 dark:text-red-400"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",id:`toast-${s.id}-title`,children:s.title}),s.description&&r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:s.description})]}),r.jsx("button",{onClick:()=>t(s.id),className:"flex-shrink-0 rounded-full p-0.5 inline-flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":"Dismiss notification",children:r.jsx(Jt,{className:"h-4 w-4"})})]},s.id))})}function Pr(){const n=h.useContext(ts);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}function P0(n){const e=Math.floor(n/1e3),t=Math.floor(e/60),s=e%60,a=Math.floor(n%1e3/10);return`${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}.${a.toString().padStart(2,"0")}`}const M0=({onUploadForTranscription:n})=>{const[e,t]=h.useState([]),[s,a]=h.useState(!0),[i,o]=h.useState(null),[l,c]=h.useState(null),{toast:d}=Pr();h.useEffect(()=>{u()},[]),h.useEffect(()=>()=>{l&&(l.pause(),l.src="")},[l]);const u=async()=>{a(!0);try{const p=await ut.getAllRecordings();t(p)}catch(p){console.error("Failed to load recordings:",p),d("Error","Failed to load recordings","error")}finally{a(!1)}},g=async p=>{try{if(i===p.id)l&&(l.paused?await l.play():l.pause());else{l&&(l.pause(),l.src="");const x=URL.createObjectURL(p.blob),y=new Audio(x);y.onended=()=>{o(null)},y.onpause=()=>{},await y.play(),c(y),o(p.id)}}catch(x){console.error("Error playing recording:",x),d("Playback Error","Could not play this recording","error")}},b=async p=>{try{i===p&&l&&(l.pause(),l.src="",o(null)),await ut.deleteRecording(p),t(e.filter(x=>x.id!==p)),d("Recording Deleted","The recording has been deleted successfully")}catch(x){console.error("Error deleting recording:",x),d("Error","Failed to delete recording","error")}},w=async p=>{if(!n){d("Not Available","Upload functionality is not available");return}try{await n(p),await ut.markAsUploaded(p.id),t(e.map(x=>x.id===p.id?{...x,uploaded:!0}:x)),d("Upload Successful","The recording has been uploaded for transcription")}catch(x){console.error("Error uploading recording:",x),d("Upload Failed","Could not upload recording for transcription","error")}},m=p=>i===p&&l&&!l.paused;return s?r.jsx("div",{className:"flex justify-center my-4",children:"Loading recordings..."}):e.length===0?r.jsx("div",{className:"text-center p-6 text-gray-500",children:"No recordings saved yet"}):r.jsxs("div",{className:"w-full border rounded-lg bg-white shadow",children:[r.jsxs("div",{className:"p-4 border-b",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Saved Recordings"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage your offline voice recordings"})]}),r.jsx("div",{className:"p-4",children:r.jsx("div",{className:"h-[300px] overflow-y-auto pr-2",children:r.jsx("div",{className:"space-y-3",children:e.map(p=>r.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md hover:bg-gray-50 dark:hover:bg-gray-800",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium truncate",children:p.name}),r.jsxs("div",{className:"text-sm text-gray-500",children:[new Date(p.createdAt).toLocaleString()," •"," ",P0(p.duration)]}),p.transcription&&r.jsxs("div",{className:"mt-1 italic text-sm text-gray-600 dark:text-gray-400 truncate",children:['"',p.transcription,'"']})]}),r.jsxs("div",{className:"flex space-x-2",children:[p.uploaded?r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium border rounded-md",children:[r.jsx(Wn,{size:12})," Uploaded"]}):r.jsx("button",{className:"p-1 rounded border hover:bg-gray-100",onClick:()=>w(p),disabled:!n,title:"Upload for transcription",children:r.jsx(Gn,{size:16})}),r.jsx("button",{className:"p-1 rounded border hover:bg-gray-100",onClick:()=>g(p),title:m(p.id)?"Pause":"Play",children:m(p.id)?r.jsx(Xo,{size:16}):r.jsx(el,{size:16})}),r.jsx("button",{className:"p-1 rounded border hover:bg-gray-100",onClick:()=>b(p.id),title:"Delete recording",children:r.jsx(Ia,{size:16})})]})]},p.id))})})})]})},ga=({className:n="",compact:e=!1})=>{const{isOffline:t}=Be();return t?e?r.jsxs("div",{className:`inline-flex items-center p-1 rounded-full bg-amber-100 text-amber-800 ${n}`,role:"status","aria-live":"polite",children:[r.jsx(ft,{size:16}),r.jsx("span",{className:"sr-only",children:"You are currently offline"})]}):r.jsxs("div",{className:`bg-amber-50 border border-amber-200 rounded-lg p-3 flex items-center text-amber-800 ${n}`,role:"status","aria-live":"polite",children:[r.jsx(ft,{size:20,className:"mr-2","aria-hidden":"true"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"You are currently offline"}),r.jsx("p",{className:"text-sm mt-1",children:"Some features may be limited or unavailable"})]})]}):null},I0=({className:n="",compact:e=!1})=>{const{preferences:t,updatePreferences:s}=be(),a=()=>{s({...t,highContrast:!(t!=null&&t.highContrast)})},i=()=>{s({...t,largeText:!(t!=null&&t.largeText)})},o=()=>{s({...t,ttsEnabled:!(t!=null&&t.ttsEnabled)})};return e?r.jsxs("div",{className:`flex gap-2 ${n}`,children:[r.jsx("button",{onClick:a,className:`p-2 rounded-md ${t!=null&&t.highContrast?"bg-yellow-200 text-gray-900":"bg-gray-200 text-gray-700"}`,"aria-pressed":t==null?void 0:t.highContrast,"aria-label":"Toggle high contrast mode",title:"Toggle high contrast mode",children:r.jsx(ml,{size:16,"aria-hidden":"true"})}),r.jsx("button",{onClick:i,className:`p-2 rounded-md ${t!=null&&t.largeText?"bg-blue-200 text-gray-900":"bg-gray-200 text-gray-700"}`,"aria-pressed":t==null?void 0:t.largeText,"aria-label":"Toggle large text",title:"Toggle large text",children:r.jsx(Sl,{size:16,"aria-hidden":"true"})}),r.jsx("button",{onClick:o,className:`p-2 rounded-md ${t!=null&&t.ttsEnabled?"bg-green-200 text-gray-900":"bg-gray-200 text-gray-700"}`,"aria-pressed":t==null?void 0:t.ttsEnabled,"aria-label":"Toggle text to speech",title:"Toggle text to speech",children:r.jsx(tt,{size:16,"aria-hidden":"true"})})]}):r.jsxs("div",{className:`space-y-3 ${n}`,children:[r.jsx("h3",{className:`font-medium ${t!=null&&t.highContrast?"text-white":"text-gray-800"}`,children:"Accessibility Settings"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{htmlFor:"high-contrast",className:`${t!=null&&t.highContrast?"text-gray-300":"text-gray-700"}`,children:"High Contrast Mode"}),r.jsxs("div",{className:"relative inline-block w-10 mr-2 align-middle select-none",children:[r.jsx("input",{id:"high-contrast",type:"checkbox",checked:t==null?void 0:t.highContrast,onChange:a,className:"sr-only"}),r.jsx("div",{className:`block h-6 rounded-full w-10 ${t!=null&&t.highContrast?"bg-yellow-400":"bg-gray-300"}`}),r.jsx("div",{className:`absolute left-0.5 top-0.5 bg-white border-2 border-gray-300 w-5 h-5 rounded-full transition-transform transform ${t!=null&&t.highContrast?"translate-x-4 border-yellow-400":""}`})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{htmlFor:"large-text",className:`${t!=null&&t.highContrast?"text-gray-300":"text-gray-700"}`,children:"Large Text"}),r.jsxs("div",{className:"relative inline-block w-10 mr-2 align-middle select-none",children:[r.jsx("input",{id:"large-text",type:"checkbox",checked:t==null?void 0:t.largeText,onChange:i,className:"sr-only"}),r.jsx("div",{className:`block h-6 rounded-full w-10 ${t!=null&&t.largeText?"bg-blue-400":"bg-gray-300"}`}),r.jsx("div",{className:`absolute left-0.5 top-0.5 bg-white border-2 border-gray-300 w-5 h-5 rounded-full transition-transform transform ${t!=null&&t.largeText?"translate-x-4 border-blue-400":""}`})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{htmlFor:"tts-enabled",className:`${t!=null&&t.highContrast?"text-gray-300":"text-gray-700"}`,children:"Text-to-Speech"}),r.jsxs("div",{className:"relative inline-block w-10 mr-2 align-middle select-none",children:[r.jsx("input",{id:"tts-enabled",type:"checkbox",checked:t==null?void 0:t.ttsEnabled,onChange:o,className:"sr-only"}),r.jsx("div",{className:`block h-6 rounded-full w-10 ${t!=null&&t.ttsEnabled?"bg-green-400":"bg-gray-300"}`}),r.jsx("div",{className:`absolute left-0.5 top-0.5 bg-white border-2 border-gray-300 w-5 h-5 rounded-full transition-transform transform ${t!=null&&t.ttsEnabled?"translate-x-4 border-green-400":""}`})]})]})]})]})},F0={twi:["ɛ is pronounced like 'eh' in 'bet'","ɔ is pronounced like 'aw' in 'saw'","Tones are important - high, mid, and low","Try 'Akwaaba' (Welcome) - a-kwa-'a-ba"],ga:["Nasal sounds are common","ŋ is pronounced like 'ng' in 'sing'","Tone changes can change word meaning","Try 'Ogekoo' (Welcome) - o-ge-'koo"],ewe:["ƒ is pronounced like 'f' but made with both lips","ɖ is pronounced with the tongue curled back","Try 'Woezɔ' (Welcome) - woe-'zɔ"],hausa:["Implosive consonants like ɓ and ɗ are distinctive","Long vowels are written double (aa)","Try 'Sannu' ('san-nu) - Hello"],english:["Standard pronunciation works well","Speak clearly and at a moderate pace"]},fa=()=>{var ae;const{toast:n}=Pr(),[e,t]=h.useState(""),[s,a]=h.useState(""),[i,o]=h.useState([]),[l,c]=h.useState("conversation"),[d,u]=h.useState(!1),[g,b]=h.useState(null),[w,m]=h.useState(!1),[p,x]=h.useState(null),[y,j]=h.useState(0),[k,$]=h.useState(!1),[A,O]=h.useState(null),[S,E]=h.useState(!1),[v,L]=h.useState(!1),[R,F]=h.useState(!1),[W,J]=h.useState(null),[z,P]=h.useState(0),{currentLanguage:U}=Pe(),{isOffline:Q}=Be(),{preferences:f}=be(),C=h.useRef(null);h.useRef(Q);const T=h.useRef(null),_=h.useCallback(()=>{C.current&&requestAnimationFrame(()=>{var I;(I=C.current)==null||I.scrollIntoView({behavior:"smooth",block:"end"})})},[]);h.useEffect(()=>{const I=()=>{L(window.innerWidth<768)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),h.useEffect(()=>{_()},[i,_]);const D=h.useCallback((I,K)=>{t(I),J(I),setTimeout(()=>{J(null)},2e3),(p==null?void 0:p.type)==="asr"&&x(null)},[p]),Y=h.useCallback(I=>{x({message:I,type:"asr",timestamp:new Date}),j(K=>K+1)},[]),ie=h.useCallback(I=>{x({message:I,type:"tts",timestamp:new Date})},[]),oe=h.useCallback(()=>{if(e.trim()){const I={id:`asr-${Date.now()}`,text:e,timestamp:new Date,isInput:!0,language:U};o(K=>[...K,I]),t(""),setTimeout(_,100)}},[e,U,_]),ue=h.useCallback(()=>{if(s.trim()){const I={id:`tts-${Date.now()}`,text:s,timestamp:new Date,isInput:!1,language:U};o(K=>[...K,I]),a(""),T.current&&T.current.focus(),setTimeout(_,100)}},[s,U,_]),le=h.useCallback(I=>{a(I.text);const K={id:`phrase-${Date.now()}`,text:I.text,timestamp:new Date,isInput:!1,language:U};o(ee=>[...ee,K]),setTimeout(_,100)},[U,_]),je=()=>{window.confirm("Are you sure you want to clear the conversation history?")&&(o([]),localStorage.removeItem("conversation-history"))},M=()=>{x(null),j(0)},V=I=>{b(I),m(!0),setTimeout(()=>{m(!1),t("This is a simulated transcription from uploaded audio.")},2e3)};h.useEffect(()=>{const I=K=>{var ee,te;if(!(((ee=document.activeElement)==null?void 0:ee.tagName)==="INPUT"||((te=document.activeElement)==null?void 0:te.tagName)==="TEXTAREA"))switch(K.key.toLowerCase()){case"r":l==="conversation"&&console.log("Record shortcut triggered");break;case"s":l==="conversation"&&console.log("Speak shortcut triggered");break;case"t":c(l==="conversation"?"phrases":"conversation");break;case"p":$(!k);break;case"?":E(!S);break}};return window.addEventListener("keydown",I),()=>{window.removeEventListener("keydown",I)}},[l,k,S]);const H=()=>{if(i.length===0){x({message:"No conversation to share",type:"general",timestamp:new Date});return}try{const I=i.map(rn=>({text:rn.text,isInput:rn.isInput,language:rn.language||U})),K=encodeURIComponent(JSON.stringify(I)),te=`${window.location.origin+window.location.pathname}?share=${K}`;O(te.substring(0,60)+"...")}catch(I){console.error("Failed to generate sharing link:",I),x({message:"Failed to generate sharing link",type:"general",timestamp:new Date})}},X=()=>{try{const I=JSON.stringify(i,null,2),K="data:application/json;charset=utf-8,"+encodeURIComponent(I),ee=`talkghana-conversation-${new Date().toISOString().slice(0,10)}.json`,te=document.createElement("a");te.setAttribute("href",K),te.setAttribute("download",ee),te.click()}catch(I){console.error("Failed to export conversation:",I),x({message:"Failed to export conversation",type:"general",timestamp:new Date})}},me=()=>{L(!v)};return r.jsxs("div",{className:`container mx-auto transition-all duration-300 ${v?"px-2 pt-16 pb-4":"p-4 md:p-6"} ${f!=null&&f.highContrast?"bg-gray-900 text-white":""}`,children:[!v&&r.jsxs("header",{className:"mb-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[r.jsx("h1",{className:`text-2xl font-bold ${f!=null&&f.highContrast?"text-white":"text-gray-800"}`,children:"TalkGhana"}),r.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[r.jsx(I0,{compact:!0}),r.jsx("button",{onClick:me,className:`p-2 rounded-full ${f!=null&&f.highContrast?"bg-gray-800 text-gray-200 hover:bg-gray-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":"Compact mode",title:"Compact mode",children:r.jsx(Ho,{size:18})}),r.jsx("button",{onClick:()=>E(!S),className:`p-2 rounded-full ${f!=null&&f.highContrast?"bg-gray-800 text-gray-200 hover:bg-gray-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":"Keyboard shortcuts",title:"Keyboard shortcuts",children:r.jsx(Pt,{size:18})}),r.jsx(ua,{})]})]}),Q&&r.jsx(ga,{className:"mb-4"}),p&&r.jsxs("div",{className:`border rounded-lg p-3 mb-4 flex items-center ${p.type==="asr"?"bg-red-50 border-red-200 text-red-800":p.type==="tts"?"bg-orange-50 border-orange-200 text-orange-800":"bg-gray-50 border-gray-200 text-gray-800"}`,role:"alert",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{children:p.message}),y>0&&p.type==="asr"&&r.jsxs("span",{className:"block text-sm mt-1",children:["Reconnection attempts: ",y,"/3"]})]}),r.jsx("button",{onClick:M,className:"ml-2 text-sm font-medium","aria-label":"Dismiss error",children:"Dismiss"})]}),S&&r.jsxs("div",{className:`mb-4 p-4 ${f!=null&&f.highContrast?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"} rounded-lg shadow-md`,children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:`font-medium ${f!=null&&f.highContrast?"text-white":"text-gray-800"}`,children:"Keyboard Shortcuts"}),r.jsx("button",{onClick:()=>E(!1),className:`text-sm ${f!=null&&f.highContrast?"text-gray-400":"text-gray-500"} hover:underline`,children:"Close"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("kbd",{className:`px-2 py-1 mr-2 rounded ${f!=null&&f.highContrast?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"}`,children:"R"}),r.jsx("span",{children:"Start/stop recording"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("kbd",{className:`px-2 py-1 mr-2 rounded ${f!=null&&f.highContrast?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"}`,children:"S"}),r.jsx("span",{children:"Play/stop speech"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("kbd",{className:`px-2 py-1 mr-2 rounded ${f!=null&&f.highContrast?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"}`,children:"T"}),r.jsx("span",{children:"Toggle between tabs"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("kbd",{className:`px-2 py-1 mr-2 rounded ${f!=null&&f.highContrast?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"}`,children:"P"}),r.jsx("span",{children:"Show/hide pronunciation tips"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("kbd",{className:`px-2 py-1 mr-2 rounded ${f!=null&&f.highContrast?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"}`,children:"?"}),r.jsx("span",{children:"Show/hide this help"})]})]})]})]}),v&&r.jsxs("div",{className:"fixed top-0 left-0 right-0 z-30 flex justify-between items-center p-2 bg-white/90 backdrop-blur-sm dark:bg-gray-900/90 border-b border-gray-200 dark:border-gray-800",children:[r.jsx("button",{onClick:()=>F(!R),className:`p-2 rounded-full ${f!=null&&f.highContrast?"text-white":"text-gray-700"}`,children:r.jsx(Oa,{size:20})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h1",{className:`text-lg font-bold ${f!=null&&f.highContrast?"text-white":"text-gray-800"}`,children:"TalkGhana"}),Q&&r.jsx(ga,{compact:!0})]}),r.jsx("button",{onClick:me,className:`p-2 rounded-full ${f!=null&&f.highContrast?"text-white":"text-gray-700"}`,children:r.jsx(Fo,{size:20})})]}),v&&R&&r.jsx("div",{className:"fixed inset-0 z-40 bg-black/50",onClick:()=>F(!1),children:r.jsxs("div",{className:`fixed top-0 left-0 bottom-0 w-64 p-4 ${f!=null&&f.highContrast?"bg-gray-900":"bg-white"} shadow-lg`,onClick:I=>I.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:`font-bold ${f!=null&&f.highContrast?"text-white":"text-gray-800"}`,children:"Menu"}),r.jsx("button",{onClick:()=>F(!1),children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:`text-sm font-medium mb-2 ${f!=null&&f.highContrast?"text-gray-300":"text-gray-600"}`,children:"Language"}),r.jsx(ua,{})]}),r.jsxs("div",{children:[r.jsx("h3",{className:`text-sm font-medium mb-2 ${f!=null&&f.highContrast?"text-gray-300":"text-gray-600"}`,children:"Actions"}),r.jsx("button",{onClick:()=>{$(!k),F(!1)},className:`block w-full text-left p-2 rounded-md ${f!=null&&f.highContrast?"hover:bg-gray-800":"hover:bg-gray-100"} mb-1`,children:"Pronunciation Tips"}),r.jsxs("button",{onClick:()=>{c(l==="conversation"?"phrases":"conversation"),F(!1)},className:`block w-full text-left p-2 rounded-md ${f!=null&&f.highContrast?"hover:bg-gray-800":"hover:bg-gray-100"} mb-1`,children:["Switch to"," ",l==="conversation"?"Phrases":"Conversation"]}),r.jsx("button",{onClick:()=>{E(!0),F(!1)},className:`block w-full text-left p-2 rounded-md ${f!=null&&f.highContrast?"hover:bg-gray-800":"hover:bg-gray-100"}`,children:"Keyboard Shortcuts"})]}),i.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:`text-sm font-medium mb-2 ${f!=null&&f.highContrast?"text-gray-300":"text-gray-600"}`,children:"Conversation"}),r.jsx("button",{onClick:()=>{H(),F(!1)},className:`block w-full text-left p-2 rounded-md ${f!=null&&f.highContrast?"hover:bg-gray-800":"hover:bg-gray-100"} mb-1`,children:"Share Conversation"}),r.jsx("button",{onClick:()=>{X(),F(!1)},className:`block w-full text-left p-2 rounded-md ${f!=null&&f.highContrast?"hover:bg-gray-800":"hover:bg-gray-100"} mb-1`,children:"Export Conversation"}),r.jsx("button",{onClick:()=>{je(),F(!1)},className:`block w-full text-left p-2 rounded-md ${f!=null&&f.highContrast?"text-red-900":"text-red-600"}`,children:"Clear History"})]})]})]})}),r.jsxs("div",{className:`flex border-b border-gray-200 mb-4 overflow-x-auto ${v?"mt-2":""}`,role:"tablist",children:[r.jsx("button",{className:`py-2 px-4 font-medium whitespace-nowrap ${l==="conversation"?f!=null&&f.highContrast?"text-blue-300 border-b-2 border-blue-300":"text-blue-600 border-b-2 border-blue-600":f!=null&&f.highContrast?"text-gray-300 hover:text-gray-100":"text-gray-500 hover:text-gray-700"}`,onClick:()=>c("conversation"),role:"tab","aria-selected":l==="conversation","aria-controls":"conversation-panel",id:"conversation-tab",children:"Conversation"}),r.jsx("button",{className:`py-2 px-4 font-medium whitespace-nowrap ${l==="phrases"?f!=null&&f.highContrast?"text-blue-300 border-b-2 border-blue-300":"text-blue-600 border-b-2 border-blue-600":f!=null&&f.highContrast?"text-gray-300 hover:text-gray-100":"text-gray-500 hover:text-gray-700"}`,onClick:()=>c("phrases"),role:"tab","aria-selected":l==="phrases","aria-controls":"phrases-panel",id:"phrases-tab",children:"Common Phrases"}),r.jsx("button",{className:`py-2 px-4 font-medium whitespace-nowrap ${l==="recordings"?f!=null&&f.highContrast?"text-blue-300 border-b-2 border-blue-300":"text-blue-600 border-b-2 border-blue-600":f!=null&&f.highContrast?"text-gray-300 hover:text-gray-100":"text-gray-500 hover:text-gray-700"}`,onClick:()=>c("recordings"),role:"tab","aria-selected":l==="recordings","aria-controls":"recordings-panel",id:"recordings-tab",children:"Recordings"})]}),r.jsx("div",{className:"mb-6",children:l==="conversation"?r.jsxs("div",{role:"tabpanel",id:"conversation-panel","aria-labelledby":"conversation-tab",className:"space-y-6",children:[k&&r.jsxs("div",{className:`mb-6 p-4 rounded-lg ${f!=null&&f.highContrast?"bg-blue-900 border border-blue-800":"bg-blue-50 border border-blue-100"}`,children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("h3",{className:`font-medium ${f!=null&&f.highContrast?"text-white":"text-blue-800"}`,children:[U.charAt(0).toUpperCase()+U.slice(1)," ","Pronunciation Tips"]}),r.jsx("button",{onClick:()=>$(!1),className:`text-sm ${f!=null&&f.highContrast?"text-blue-300":"text-blue-600"} hover:underline`,children:"Close"})]}),r.jsx("ul",{className:`list-disc pl-5 ${f!=null&&f.highContrast?"text-blue-100":"text-blue-700"} text-sm space-y-1`,children:(ae=F0[U])==null?void 0:ae.map((I,K)=>r.jsx("li",{children:I},K))})]}),i.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:`flex justify-between items-center mb-2 ${v?"flex-wrap gap-y-2":""}`,children:[r.jsx("h2",{className:`text-lg font-medium ${f!=null&&f.highContrast?"text-white":"text-gray-700"}`,children:"Conversation"}),!v&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>$(!k),className:`text-sm px-2 py-1 rounded ${f!=null&&f.highContrast?"bg-gray-800 text-blue-300 hover:bg-gray-700":"bg-blue-50 text-blue-600 hover:bg-blue-100"}`,"aria-label":"Show pronunciation tips",children:"Pronunciation Tips"}),r.jsxs("button",{onClick:H,className:`text-sm px-2 py-1 rounded flex items-center ${f!=null&&f.highContrast?"bg-gray-800 text-green-300 hover:bg-gray-700":"bg-green-50 text-green-600 hover:bg-green-100"}`,"aria-label":"Share conversation",children:[r.jsx(xs,{size:14,className:"mr-1"}),"Share"]}),r.jsxs("button",{onClick:X,className:`text-sm px-2 py-1 rounded flex items-center ${f!=null&&f.highContrast?"bg-gray-800 text-purple-300 hover:bg-gray-700":"bg-purple-50 text-purple-600 hover:bg-purple-100"}`,"aria-label":"Export conversation",children:[r.jsx(Je,{size:14,className:"mr-1"}),"Export"]}),r.jsx("button",{onClick:je,className:`text-sm ${f!=null&&f.highContrast?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-800"}`,"aria-label":"Clear conversation history",children:"Clear"})]})]}),A&&r.jsxs("div",{className:`mb-3 p-3 rounded-lg flex items-center justify-between ${f!=null&&f.highContrast?"bg-gray-700 border border-gray-600":"bg-green-50 border border-green-200"}`,children:[r.jsxs("div",{className:"overflow-hidden text-ellipsis flex-1",children:[r.jsx("span",{className:`text-xs ${f!=null&&f.highContrast?"text-gray-300":"text-green-800"}`,children:"Sharing link (click to copy):"}),r.jsx("p",{className:`text-sm truncate cursor-pointer ${f!=null&&f.highContrast?"text-blue-300":"text-blue-600"}`,onClick:()=>{navigator.clipboard.writeText(A.replace("...","")),alert("Link copied to clipboard!")},children:A})]}),r.jsx("button",{onClick:()=>O(null),className:`text-xs ${f!=null&&f.highContrast?"text-gray-400":"text-gray-500"} hover:underline ml-2`,children:"Close"})]}),r.jsxs("div",{className:`${f!=null&&f.highContrast?"bg-gray-800":"bg-white"} border ${f!=null&&f.highContrast?"border-gray-700":"border-gray-200"} rounded-lg p-4 max-h-[300px] overflow-y-auto`,children:[i.map(I=>r.jsxs("div",{className:`mb-3 p-3 rounded-lg ${I.isInput?f!=null&&f.highContrast?"bg-gray-700 border border-gray-600":"bg-gray-100 border border-gray-200":f!=null&&f.highContrast?"bg-blue-900 border border-blue-800":"bg-blue-50 border border-blue-200"} ${W===I.text?"animate-pulse border-yellow-400":""}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-1",children:[r.jsxs("span",{className:`text-xs font-medium ${f!=null&&f.highContrast?"text-gray-300":"text-gray-500"}`,children:[I.isInput?"Heard":"Spoke",I.language&&` (${I.language})`]}),r.jsx("span",{className:`text-xs ${f!=null&&f.highContrast,"text-gray-400"}`,children:I.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),r.jsx("p",{className:`${f!=null&&f.highContrast?"text-white":"text-gray-800"} ${f!=null&&f.largeText?"text-lg":""}`,children:I.text})]},I.id)),r.jsx("div",{ref:C})]})]}),r.jsxs("div",{className:`mb-6 ${v?"mt-4":""}`,children:[r.jsxs("h2",{className:`text-lg font-medium ${f!=null&&f.highContrast?"text-white":"text-gray-700"} mb-2 flex items-center`,children:[r.jsx(Ye,{size:18,className:"mr-2"}),"Listen"]}),Q?r.jsx(x0,{onTranscriptChange:D,onSpeechEnd:oe,continuous:!1,placeholder:"Press Start to listen...",onError:Y}):r.jsx(Nr,{language:U,onTranscriptChange:D,onSpeechEnd:oe,onError:Y})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:`text-lg font-medium ${f!=null&&f.highContrast?"text-white":"text-gray-700"} mb-2 flex items-center`,children:[r.jsx(tt,{size:18,className:"mr-2"}),"Speak"]}),Q?r.jsx(w0,{text:s,autoPlay:!1,showControls:!0,showSettings:!0,onPlayStart:ue,onPlayEnd:()=>{},onError:ie}):r.jsx(jr,{text:s,language:U,autoPlay:!1,onPlayStart:ue,onPlayEnd:()=>{},onError:ie,showSettings:!0})]})]}):l==="phrases"?r.jsx("div",{role:"tabpanel",id:"phrases-panel","aria-labelledby":"phrases-tab",children:r.jsx(N0,{onPhraseSelect:le,showCategories:!0,maxPhrasesPerCategory:0,showTranslations:!0})}):r.jsx("div",{role:"tabpanel",id:"recordings-panel","aria-labelledby":"recordings-tab",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx(C0,{onSaveRecording:(I,K)=>{ut.saveRecording(K,I,z).then(()=>{n("Recording Saved","Your recording has been saved successfully")}).catch(ee=>{console.error("Error saving recording:",ee),n("Error","Failed to save recording","error")})},onUploadForTranscription:async I=>{m(!0);try{const K=new FormData;K.append("audio",I),K.append("language",U);const ee=await fetch("/api/asr/whisper",{method:"POST",body:K}),te=await ee.json();if(ee.ok&&te.text)t(te.text),D(te.text,te.confidence),n("Transcription Complete","Audio has been transcribed successfully");else throw new Error(te.error||"Transcription failed")}catch(K){console.error("Transcription error:",K),n("Transcription Failed","Could not transcribe the audio","error"),x({message:"Transcription failed: "+K.message,type:"asr",timestamp:new Date})}finally{m(!1)}}}),r.jsx(M0,{onUploadForTranscription:async I=>{m(!0);try{const K=new FormData;K.append("audio",I.blob),K.append("language",U);const ee=await fetch("/api/asr/whisper",{method:"POST",body:K}),te=await ee.json();if(ee.ok&&te.text){t(te.text),D(te.text,te.confidence),await ut.updateTranscription(I.id,te.text);return}else throw new Error(te.error||"Transcription failed")}catch(K){throw console.error("Transcription error:",K),x({message:"Transcription failed: "+K.message,type:"asr",timestamp:new Date}),K}finally{m(!1)}}})]})})}),v&&r.jsxs("div",{className:"fixed bottom-4 right-4 flex flex-col space-y-2",children:[r.jsx("button",{onClick:()=>{c(l==="conversation"?"phrases":l==="phrases"?"recordings":"conversation")},className:`p-3 rounded-full shadow-lg ${f!=null&&f.highContrast?"bg-indigo-700 text-white":"bg-indigo-600 text-white"}`,"aria-label":"Switch tabs",children:l==="conversation"?"📝":l==="phrases"?"🎙️":"💬"}),i.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>$(!k),className:`p-3 rounded-full shadow-lg ${f!=null&&f.highContrast?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,"aria-label":"Pronunciation tips",children:r.jsx(Pt,{size:20})}),r.jsx("button",{onClick:H,className:`p-3 rounded-full shadow-lg ${f!=null&&f.highContrast?"bg-green-700 text-white":"bg-green-600 text-white"}`,"aria-label":"Share conversation",children:r.jsx(xs,{size:20})}),r.jsx("button",{onClick:X,className:`p-3 rounded-full shadow-lg ${f!=null&&f.highContrast?"bg-purple-700 text-white":"bg-purple-600 text-white"}`,"aria-label":"Export conversation",children:r.jsx(Je,{size:20})})]})]}),!v&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mt-4 mb-2",children:r.jsx("button",{onClick:()=>u(!d),className:`text-sm ${f!=null&&f.highContrast?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-800"}`,"aria-expanded":d,"aria-controls":"advanced-controls",children:d?"Hide Advanced Options":"Show Advanced Options"})}),d&&r.jsxs("div",{id:"advanced-controls",className:`p-3 rounded-lg mb-6 ${f!=null&&f.highContrast?"bg-gray-800 border border-gray-700":"bg-gray-50 border border-gray-200"}`,children:[r.jsx("h3",{className:`text-sm font-medium mb-2 ${f!=null&&f.highContrast?"text-white":"text-gray-700"}`,children:"Advanced Options"}),r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{children:[r.jsx("label",{htmlFor:"upload-audio",className:`block text-sm mb-1 ${f!=null&&f.highContrast?"text-gray-300":"text-gray-600"}`,children:"Upload audio for transcription:"}),r.jsx("input",{type:"file",id:"upload-audio",accept:"audio/*",onChange:I=>{var ee;const K=(ee=I.target.files)==null?void 0:ee[0];K&&V(K)},className:`block w-full text-sm ${f!=null&&f.highContrast?"text-gray-300 file:bg-gray-700 file:text-gray-300 file:border-gray-600":"text-gray-700 file:bg-gray-100 file:text-gray-700"} file:mr-4 file:py-2 file:px-4 file:rounded-md file:border file:text-sm file:font-medium`})]})})]})]}),!v&&r.jsxs("footer",{className:`mt-8 pt-6 border-t ${f!=null&&f.highContrast?"border-gray-700":"border-gray-200"}`,children:[r.jsx("h2",{className:`text-lg font-medium ${f!=null&&f.highContrast?"text-white":"text-gray-700"} mb-2`,children:"About TalkGhana"}),r.jsx("p",{className:`${f!=null&&f.highContrast?"text-gray-300":"text-gray-600"} mb-2 ${f!=null&&f.largeText?"text-lg":""}`,children:"TalkGhana is an assistive communication app for speech-impaired individuals using Ghanaian languages."}),r.jsx("p",{className:`${f!=null&&f.highContrast?"text-gray-300":"text-gray-600"} mb-4 ${f!=null&&f.largeText?"text-lg":""}`,children:'Use the "Listen" section to convert speech to text, and the "Speak" section or "Common Phrases" tab to convert text to speech.'}),r.jsx("div",{className:`text-sm ${f!=null&&f.highContrast?"text-gray-400":"text-gray-500"}`,children:r.jsx("p",{children:"Need help? Contact support@talkghana.org"})})]})]})};function ma(){const[n,e]=h.useState(!0),[t,s]=h.useState(!1),[a,i]=h.useState(window.innerWidth<768),{i18n:o}=Kn();h.useEffect(()=>{const c=o.language||"en";Xa(c),Qa(c);const d=setTimeout(()=>{e(!1)},1500);"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(b=>{b.addEventListener("updatefound",()=>{s(!0)})});const u=()=>{i(window.innerWidth<768)},g=b=>{var w;if(b instanceof CustomEvent&&((w=b.detail)!=null&&w.language)){const m=document.documentElement,p=b.detail.language;m.dir="ltr",["lang-en","lang-twi","lang-ga","lang-ewe","lang-hausa","lang-dagbani"].forEach(y=>m.classList.remove(y)),m.classList.add(`lang-${p==="english"?"en":p}`),document.querySelectorAll("[data-i18n]").forEach(y=>{if(y instanceof HTMLElement){const j=y.getAttribute("data-i18n");j&&(y.textContent=o.t(j))}}),document.querySelectorAll("input, textarea, button").forEach(y=>{if(y instanceof HTMLElement&&y.hasAttribute("placeholder")){const j=y.getAttribute("data-i18n-placeholder");j&&y.setAttribute("placeholder",o.t(j))}})}};return window.addEventListener("resize",u),window.addEventListener("app-language-change",g),()=>{clearTimeout(d),window.removeEventListener("resize",u),window.removeEventListener("app-language-change",g)}},[o]);const l=()=>{window.location.reload()};return r.jsx(Pl,{children:r.jsx("div",{className:`app min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900 transition-opacity duration-300 ${n?"opacity-0":"opacity-100"}`,children:r.jsx(Ki,{children:r.jsx(n0,{children:r.jsx(O0,{children:n?r.jsx("div",{className:"app-loading flex items-center justify-center min-h-screen",children:r.jsx(e0,{isLoading:!0,message:"Initializing application..."})}):r.jsxs(Vi,{children:[r.jsx(t0,{}),t&&r.jsxs("div",{className:"update-banner fixed top-0 left-0 right-0 bg-blue-600 text-white py-2 px-4 z-50 flex justify-between items-center",children:[r.jsx("p",{children:"A new version is available!"}),r.jsx("button",{onClick:l,className:"px-3 py-1 rounded bg-white text-blue-600 text-sm font-medium hover:bg-blue-50",children:"Update Now"})]}),r.jsx("div",{className:a?"pb-16":"",children:r.jsx(Ml,{children:r.jsxs(Fi,{children:[r.jsx(Ee,{path:"/",element:r.jsx(fa,{})}),r.jsx(Ee,{path:"/home",element:r.jsx(tp,{})}),r.jsx(Ee,{path:"/conversation",element:r.jsx(fa,{})}),r.jsx(Ee,{path:"/voice-commands",element:r.jsx(Wp,{})}),r.jsx(Ee,{path:"/settings",element:r.jsx(Qp,{})}),r.jsx(Ee,{path:"/offline",element:r.jsx(Zp,{})}),r.jsx(Ee,{path:"*",element:r.jsx(Mi,{to:"/",replace:!0})})]})})})]})})})})})})}class ns extends HTMLElement{constructor(){super();Z(this,"_key",null);Z(this,"_namespace","common");this.attachShadow({mode:"open"})}connectedCallback(){document.addEventListener("language-changed",this.updateContent.bind(this)),this.updateContent()}disconnectedCallback(){document.removeEventListener("language-changed",this.updateContent.bind(this))}attributeChangedCallback(t,s,a){s!==a&&(t==="key"?this._key=a:t==="namespace"&&(this._namespace=a),this.updateContent())}updateContent(){if(!(!this._key||!this.shadowRoot))try{const t=de.t(this._key,{ns:this._namespace});this.shadowRoot.textContent=t}catch(t){console.warn(`Translation failed for key: ${this._key}`,t),this.shadowRoot.textContent=this._key}}}Z(ns,"observedAttributes",["key","namespace"]);typeof window<"u"&&(customElements.get("localized-text")||customElements.define("localized-text",ns));const z0=async()=>{if(typeof window>"u")return;customElements.get("localized-text")||customElements.define("localized-text",ns);const n=new CustomEvent("web-components-registered");return document.dispatchEvent(n),Promise.resolve()},D0=async()=>{if(console.log("Initializing TalkGhana services"),navigator.onLine){console.log("Application is online, initializing remote services");try{const n=await fetch("http://localhost:5002/api/ping");if(n.ok){const e=await n.json();console.log("API Server is online:",e)}else console.warn("API Server is not responding correctly")}catch(n){console.warn("Failed to connect to API server:",n),console.log("Speech services will operate in fallback mode")}}else console.log("Application is offline, initializing offline services")};D0().catch(n=>{console.error("Failed to initialize services:",n)});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(n=>{console.log("Service Worker registered with scope:",n.scope),"sync"in n&&(Notification.requestPermission(),setInterval(()=>{n.update().then(()=>console.log("Service Worker checked for updates")).catch(e=>console.error("Error updating Service Worker:",e))},60*60*1e3))}).catch(n=>{console.error("Service Worker registration failed:",n)})});window.addEventListener("online",()=>{console.log("App is online"),document.dispatchEvent(new CustomEvent("app-online"))});window.addEventListener("offline",()=>{console.log("App is offline"),document.dispatchEvent(new CustomEvent("app-offline"))});z0().then(()=>{yn(document.getElementById("root")).render(r.jsx(h.StrictMode,{children:r.jsx(ma,{})}))}).catch(n=>{console.error("Failed to register web components:",n),yn(document.getElementById("root")).render(r.jsx(h.StrictMode,{children:r.jsx(ma,{})}))});
//# sourceMappingURL=index-GNPYgWsC.js.map
